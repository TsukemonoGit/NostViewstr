import{w as m,r as E}from"./index.ffcfcb07.js";import{a4 as M,v as w,X as P}from"./scheduler.b8cd85ff.js";import"./index.35665f17.js";const p="modalStore";function T(){const e=M(p);if(!e)throw new Error("modalStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function j(){const e=I();return w(p,e)}function I(){const{subscribe:e,set:n,update:t}=m([]);return{subscribe:e,set:n,update:t,trigger:o=>t(d=>(d.push(o),d)),close:()=>t(o=>(o.length>0&&o.shift(),o)),clear:()=>n([])}}const L={message:"Missing Toast Message",autohide:!0,timeout:5e3},b="toastStore";function _(){const e=M(b);if(!e)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function K(){const e=U();return w(b,e)}function z(){const e=Math.random();return Number(e).toString(32)}function U(){const{subscribe:e,set:n,update:t}=m([]),o=r=>t(s=>{if(s.length>0){const i=s.findIndex(c=>c.id===r),a=s[i];a&&(a.callback&&a.callback({id:r,status:"closed"}),a.timeoutId&&clearTimeout(a.timeoutId),s.splice(i,1))}return s});function d(r){if(r.autohide===!0)return setTimeout(()=>{o(r.id)},r.timeout)}return{subscribe:e,close:o,trigger:r=>{const s=z();return t(i=>{r&&r.callback&&r.callback({id:s,status:"queued"}),r.hideDismiss&&(r.autohide=!0);const a={...L,...r,id:s};return a.timeoutId=d(a),i.push(a),i}),s},freeze:r=>t(s=>(s.length>0&&clearTimeout(s[r].timeoutId),s)),unfreeze:r=>t(s=>(s.length>0&&(s[r].timeoutId=d(s[r])),s)),clear:()=>n([])}}const f={};function S(e){return e==="local"?localStorage:sessionStorage}function g(e,n,t){const o=(t==null?void 0:t.serializer)??JSON,d=(t==null?void 0:t.storage)??"local";function r(s,i){S(d).setItem(s,o.stringify(i))}if(!f[e]){const s=m(n,c=>{const u=S(d).getItem(e);u&&c(o.parse(u));{const h=l=>{l.key===e&&c(l.newValue?o.parse(l.newValue):null)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)}}),{subscribe:i,set:a}=s;f[e]={set(c){r(e,c),a(c)},update(c){const u=c(P(s));r(e,u),a(u)},subscribe:i}}return f[e]}const C=g("modeOsPrefers",!1),O=g("modeUserPrefers",void 0),k=g("modeCurrent",!1);function N(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return C.set(e),e}function Q(e){O.set(e)}function V(e){const n=document.documentElement.classList,t="dark";e===!0?n.remove(t):n.add(t),k.set(e)}function Y(){const e=document.documentElement.classList,n=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),o=window.matchMedia("(prefers-color-scheme: dark)").matches;n||t&&o?e.add("dark"):e.remove("dark")}const v="(prefers-reduced-motion: reduce)";function x(){return window.matchMedia(v).matches}const q=E(x(),e=>{{const n=o=>{e(o.matches)},t=window.matchMedia(v);return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}}});let D,R;function B(){D=T()}function J(){R=_()}export{K as a,_ as b,J as c,Y as d,k as e,V as f,T as g,N as h,j as i,Q as j,D as m,q as p,B as s,R as t};
