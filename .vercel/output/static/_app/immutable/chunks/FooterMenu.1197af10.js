import{Z as Xd,_ as xd,$ as Ii,a0 as eh,s as Ce,M as Ke,f as y,g as w,h as k,d as h,j as m,i as T,O as Qe,P as We,Q as Ge,y as ce,v as Je,A as It,B as Dt,a as F,a1 as Ln,c as j,a2 as qn,C as g,x as ee,F as je,a3 as Xi,z as xi,a4 as He,E as Wr,r as $,a5 as Zt,G as Ze,l as B,m as M,p as gr,a6 as th,L as $e,k as fr,a7 as dr,b as nh,K as Rs,V as Vs,H as Ee,e as ae,N as rh,I as Oe,o as lf,T as Pe,X as st,R as qe,S as Fn,w as pe,n as W,J as Ne,U as el,a8 as of,Y as St,D as ih,W as Vi}from"./scheduler.b8cd85ff.js";import{g as ye,t as U,c as we,a as R,S as De,i as Te,j as lh,o as oh,b as ne,d as re,m as ie,e as le,p as Bi}from"./index.35665f17.js";import{_ as Xl,f as Mi,g as Li,h as To,j as sh,k as sf,l as ql,m as ah,o as uh,p as Ct,n as tl,a as on,q as _r,c as Pt,U as Ci,e as xl,d as Mn,b as eo}from"./settings.88550f80.js";import{e as Be,u as Ao,d as Po}from"./each.a1a4b9c9.js";import{p as ch,d as fh,e as Bs,f as Ms,h as dh,j as hh,m as Re,t as ft,g as Ro}from"./store.967fbeb2.js";import{g as Vo,a as af,n as me,b as ph,c as Ls}from"./index.ee7fcb47.js";import{k as kt,t as qs}from"./kind.df02593b.js";import{g as br}from"./navigation.3f69098d.js";import{w as rn,r as Ur,d as Di}from"./index.ffcfcb07.js";import{n as Us,b as zs,o as ar,e as jt,i as jn,r as Yn,d as uf,c as to,l as tr,a as vr,k as no}from"./bookmarkEvents.1341752b.js";import"./singletons.a535b0e5.js";import{b as Fs,d as js,p as mh,s as gh}from"./transitions.44c8ee36.js";import{g as _h}from"./spread.8a54911c.js";function rt(n,e){const t=e.token={};function r(i,l,o,s){if(e.token!==t)return;e.resolved=s;let a=e.ctx;o!==void 0&&(a=a.slice(),a[o]=s);const u=i&&(e.current=i)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==l&&f&&(ye(),U(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),we())}):e.block.d(1),u.c(),R(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[l]=u),c&&eh()}if(Xd(n)){const i=xd();if(n.then(l=>{Ii(i),r(e.then,1,e.value,l),Ii(null)},l=>{if(Ii(i),r(e.catch,2,e.error,l),Ii(null),!e.hasCatch)throw l}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,n),!0;e.resolved=n}}function Yt(n,e,t){const r=e.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,t)}function bh(n){let e,t,r;const i=n[19].default,l=Ke(i,n,n[18],null);return{c(){e=y("div"),l&&l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0,"data-testid":!0});var s=k(e);l&&l.l(s),s.forEach(h),this.h()},h(){m(e,"class",t="accordion "+n[0]),m(e,"data-testid","accordion")},m(o,s){T(o,e,s),l&&l.m(e,null),r=!0},p(o,[s]){l&&l.p&&(!r||s&262144)&&Qe(l,i,o,o[18],r?Ge(i,o[18],s,null):We(o[18]),null),(!r||s&1&&t!==(t="accordion "+o[0]))&&m(e,"class",t)},i(o){r||(R(l,o),r=!0)},o(o){U(l,o),r=!1},d(o){o&&h(e),l&&l.d(o)}}}function vh(n,e,t){let r,i;ce(n,ch,P=>t(20,i=P));let{$$slots:l={},$$scope:o}=e,{autocollapse:s=!1}=e,{width:a="w-full"}=e,{spacing:u="space-y-1"}=e,{disabled:c=!1}=e,{padding:f="py-2 px-4"}=e,{hover:d="hover:bg-primary-hover-token"}=e,{rounded:p="rounded-container-token"}=e,{caretOpen:b="rotate-180"}=e,{caretClosed:_=""}=e,{regionControl:v=""}=e,{regionPanel:E="space-y-4"}=e,{regionCaret:I=""}=e,{transitions:S=!i}=e,{transitionIn:N=Fs}=e,{transitionInParams:C={duration:200}}=e,{transitionOut:O=Fs}=e,{transitionOutParams:D={duration:200}}=e;const A=rn(null);return Je("active",A),Je("autocollapse",s),Je("disabled",c),Je("padding",f),Je("hover",d),Je("rounded",p),Je("caretOpen",b),Je("caretClosed",_),Je("regionControl",v),Je("regionPanel",E),Je("regionCaret",I),Je("transitions",S),Je("transitionIn",N),Je("transitionInParams",C),Je("transitionOut",O),Je("transitionOutParams",D),n.$$set=P=>{t(22,e=It(It({},e),Dt(P))),"autocollapse"in P&&t(1,s=P.autocollapse),"width"in P&&t(2,a=P.width),"spacing"in P&&t(3,u=P.spacing),"disabled"in P&&t(4,c=P.disabled),"padding"in P&&t(5,f=P.padding),"hover"in P&&t(6,d=P.hover),"rounded"in P&&t(7,p=P.rounded),"caretOpen"in P&&t(8,b=P.caretOpen),"caretClosed"in P&&t(9,_=P.caretClosed),"regionControl"in P&&t(10,v=P.regionControl),"regionPanel"in P&&t(11,E=P.regionPanel),"regionCaret"in P&&t(12,I=P.regionCaret),"transitions"in P&&t(13,S=P.transitions),"transitionIn"in P&&t(14,N=P.transitionIn),"transitionInParams"in P&&t(15,C=P.transitionInParams),"transitionOut"in P&&t(16,O=P.transitionOut),"transitionOutParams"in P&&t(17,D=P.transitionOutParams),"$$scope"in P&&t(18,o=P.$$scope)},n.$$.update=()=>{t(0,r=`${a} ${u} ${e.class??""}`)},e=Dt(e),[r,s,a,u,c,f,d,p,b,_,v,E,I,S,N,C,O,D,o,l]}class yh extends De{constructor(e){super(),Te(this,e,vh,bh,Ce,{autocollapse:1,width:2,spacing:3,disabled:4,padding:5,hover:6,rounded:7,caretOpen:8,caretClosed:9,regionControl:10,regionPanel:11,regionCaret:12,transitions:13,transitionIn:14,transitionInParams:15,transitionOut:16,transitionOutParams:17})}}const wh=n=>({}),Js=n=>({}),kh=n=>({}),Hs=n=>({}),Eh=n=>({}),$s=n=>({});function Ks(n){let e,t;const r=n[28].lead,i=Ke(r,n,n[27],$s);return{c(){e=y("div"),i&&i.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);i&&i.l(o),o.forEach(h),this.h()},h(){m(e,"class","accordion-lead")},m(l,o){T(l,e,o),i&&i.m(e,null),t=!0},p(l,o){i&&i.p&&(!t||o[0]&134217728)&&Qe(i,r,l,l[27],t?Ge(r,l[27],o,Eh):We(l[27]),$s)},i(l){t||(R(i,l),t=!0)},o(l){U(i,l),t=!1},d(l){l&&h(e),i&&i.d(l)}}}function Oh(n){let e;return{c(){e=B("(summary)")},l(t){e=M(t,"(summary)")},m(t,r){T(t,e,r)},d(t){t&&h(e)}}}function Qs(n){let e,t,r,i,l,o,s,a;const u=n[28].content,c=Ke(u,n,n[27],Js),f=c||Ih();return{c(){e=y("div"),f&&f.c(),this.h()},l(d){e=w(d,"DIV",{class:!0,id:!0,role:!0,"aria-hidden":!0,"aria-labelledby":!0});var p=k(e);f&&f.l(p),p.forEach(h),this.h()},h(){m(e,"class",t="accordion-panel "+n[9]),m(e,"id",r="accordion-panel-"+n[0]),m(e,"role","region"),m(e,"aria-hidden",i=!n[8]),m(e,"aria-labelledby",l="accordion-control-"+n[0])},m(d,p){T(d,e,p),f&&f.m(e,null),a=!0},p(d,p){n=d,c&&c.p&&(!a||p[0]&134217728)&&Qe(c,u,n,n[27],a?Ge(u,n[27],p,wh):We(n[27]),Js),(!a||p[0]&512&&t!==(t="accordion-panel "+n[9]))&&m(e,"class",t),(!a||p[0]&1&&r!==(r="accordion-panel-"+n[0]))&&m(e,"id",r),(!a||p[0]&256&&i!==(i=!n[8]))&&m(e,"aria-hidden",i),(!a||p[0]&1&&l!==(l="accordion-control-"+n[0]))&&m(e,"aria-labelledby",l)},i(d){a||(R(f,d),d&&Wr(()=>{a&&(s&&s.end(1),o=lh(e,js,{transition:n[4],params:n[5],enabled:n[3]}),o.start())}),a=!0)},o(d){U(f,d),o&&o.invalidate(),d&&(s=oh(e,js,{transition:n[6],params:n[7],enabled:n[3]})),a=!1},d(d){d&&h(e),f&&f.d(d),d&&s&&s.end()}}}function Ih(n){let e;return{c(){e=B("(content)")},l(t){e=M(t,"(content)")},m(t,r){T(t,e,r)},d(t){t&&h(e)}}}function Sh(n){let e,t,r,i,l,o,s,a,u,c,f,d,p,b,_,v,E,I=n[14].lead&&Ks(n);const S=n[28].summary,N=Ke(S,n,n[27],Hs),C=N||Oh();let O=n[8]&&Qs(n);return{c(){e=y("div"),t=y("button"),I&&I.c(),r=F(),i=y("div"),C&&C.c(),l=F(),o=y("div"),s=Ln("svg"),a=Ln("path"),p=F(),O&&O.c(),this.h()},l(D){e=w(D,"DIV",{class:!0,"data-testid":!0});var A=k(e);t=w(A,"BUTTON",{type:!0,class:!0,id:!0,"aria-expanded":!0,"aria-controls":!0});var P=k(t);I&&I.l(P),r=j(P),i=w(P,"DIV",{class:!0});var L=k(i);C&&C.l(L),L.forEach(h),l=j(P),o=w(P,"DIV",{class:!0});var H=k(o);s=qn(H,"svg",{xmlns:!0,viewBox:!0});var z=k(s);a=qn(z,"path",{d:!0}),k(a).forEach(h),z.forEach(h),H.forEach(h),P.forEach(h),p=j(A),O&&O.l(A),A.forEach(h),this.h()},h(){m(i,"class","accordion-summary flex-1"),m(a,"d","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"),m(s,"xmlns","http://www.w3.org/2000/svg"),m(s,"viewBox","0 0 448 512"),m(o,"class",u="accordion-summary-caret "+n[10]),m(t,"type","button"),m(t,"class",c="accordion-control "+n[11]),m(t,"id",f="accordion-control-"+n[0]),m(t,"aria-expanded",n[8]),m(t,"aria-controls",d="accordion-panel-"+n[0]),t.disabled=n[2],m(e,"class",b="accordion-item "+n[12]),m(e,"data-testid","accordion-item")},m(D,A){T(D,e,A),g(e,t),I&&I.m(t,null),g(t,r),g(t,i),C&&C.m(i,null),g(t,l),g(t,o),g(o,s),g(s,a),g(e,p),O&&O.m(e,null),_=!0,v||(E=[ee(t,"click",n[13]),ee(t,"click",n[29]),ee(t,"keydown",n[30]),ee(t,"keyup",n[31]),ee(t,"keypress",n[32])],v=!0)},p(D,A){D[14].lead?I?(I.p(D,A),A[0]&16384&&R(I,1)):(I=Ks(D),I.c(),R(I,1),I.m(t,r)):I&&(ye(),U(I,1,1,()=>{I=null}),we()),N&&N.p&&(!_||A[0]&134217728)&&Qe(N,S,D,D[27],_?Ge(S,D[27],A,kh):We(D[27]),Hs),(!_||A[0]&1024&&u!==(u="accordion-summary-caret "+D[10]))&&m(o,"class",u),(!_||A[0]&2048&&c!==(c="accordion-control "+D[11]))&&m(t,"class",c),(!_||A[0]&1&&f!==(f="accordion-control-"+D[0]))&&m(t,"id",f),(!_||A[0]&256)&&m(t,"aria-expanded",D[8]),(!_||A[0]&1&&d!==(d="accordion-panel-"+D[0]))&&m(t,"aria-controls",d),(!_||A[0]&4)&&(t.disabled=D[2]),D[8]?O?(O.p(D,A),A[0]&256&&R(O,1)):(O=Qs(D),O.c(),R(O,1),O.m(e,null)):O&&(ye(),U(O,1,1,()=>{O=null}),we()),(!_||A[0]&4096&&b!==(b="accordion-item "+D[12]))&&m(e,"class",b)},i(D){_||(R(I),R(C,D),R(O),_=!0)},o(D){U(I),U(C,D),U(O),_=!1},d(D){D&&h(e),I&&I.d(),C&&C.d(D),O&&O.d(),v=!1,je(E)}}}const Nh="",Ch="text-start w-full flex items-center space-x-4",Dh="fill-current w-3 transition-transform duration-[200ms]",Th="";function Ah(n,e,t){let r,i,l,o,s,a,u,c=$,f=()=>(c(),c=Zt(S,X=>t(26,u=X)),S);n.$$.on_destroy.push(()=>c());let{$$slots:d={},$$scope:p}=e;const b=Xi(d),_=xi();let{open:v=!1}=e,{id:E=String(Math.random())}=e,{autocollapse:I=He("autocollapse")}=e,{active:S=He("active")}=e;f();let{disabled:N=He("disabled")}=e,{padding:C=He("padding")}=e,{hover:O=He("hover")}=e,{rounded:D=He("rounded")}=e,{caretOpen:A=He("caretOpen")}=e,{caretClosed:P=He("caretClosed")}=e,{regionControl:L=He("regionControl")}=e,{regionPanel:H=He("regionPanel")}=e,{regionCaret:z=He("regionCaret")}=e,{transitions:V=He("transitions")}=e,{transitionIn:x=He("transitionIn")}=e,{transitionInParams:J=He("transitionInParams")}=e,{transitionOut:q=He("transitionOut")}=e,{transitionOutParams:Z=He("transitionOutParams")}=e;function oe(X){I===!0?S.set(E):t(15,v=!v),Y(X)}function Y(X){const K=I?u===E:v;_("toggle",{event:X,id:`accordion-control-${E}`,open:K,autocollapse:I})}I&&v&&oe();function Q(X){Ze.call(this,n,X)}function G(X){Ze.call(this,n,X)}function fe(X){Ze.call(this,n,X)}function ue(X){Ze.call(this,n,X)}return n.$$set=X=>{t(35,e=It(It({},e),Dt(X))),"open"in X&&t(15,v=X.open),"id"in X&&t(0,E=X.id),"autocollapse"in X&&t(16,I=X.autocollapse),"active"in X&&f(t(1,S=X.active)),"disabled"in X&&t(2,N=X.disabled),"padding"in X&&t(17,C=X.padding),"hover"in X&&t(18,O=X.hover),"rounded"in X&&t(19,D=X.rounded),"caretOpen"in X&&t(20,A=X.caretOpen),"caretClosed"in X&&t(21,P=X.caretClosed),"regionControl"in X&&t(22,L=X.regionControl),"regionPanel"in X&&t(23,H=X.regionPanel),"regionCaret"in X&&t(24,z=X.regionCaret),"transitions"in X&&t(3,V=X.transitions),"transitionIn"in X&&t(4,x=X.transitionIn),"transitionInParams"in X&&t(5,J=X.transitionInParams),"transitionOut"in X&&t(6,q=X.transitionOut),"transitionOutParams"in X&&t(7,Z=X.transitionOutParams),"$$scope"in X&&t(27,p=X.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&98304&&v&&I&&oe(),n.$$.dirty[0]&67207169&&t(8,r=I?u===E:v),t(12,i=`${Nh} ${e.class??""}`),n.$$.dirty[0]&5111808&&t(11,l=`${Ch} ${C} ${O} ${D} ${L}`),n.$$.dirty[0]&3145984&&t(25,o=r?A:P),n.$$.dirty[0]&50331648&&t(10,s=`${Dh} ${z} ${o}`),n.$$.dirty[0]&9043968&&t(9,a=`${Th} ${C} ${D} ${H}`)},e=Dt(e),[E,S,N,V,x,J,q,Z,r,a,s,l,i,oe,b,v,I,C,O,D,A,P,L,H,z,o,u,p,d,Q,G,fe,ue]}class Ws extends De{constructor(e){super(),Te(this,e,Ah,Sh,Ce,{open:15,id:0,autocollapse:16,active:1,disabled:2,padding:17,hover:18,rounded:19,caretOpen:20,caretClosed:21,regionControl:22,regionPanel:23,regionCaret:24,transitions:3,transitionIn:4,transitionInParams:5,transitionOut:6,transitionOutParams:7},null,[-1,-1])}}function Ph(n){let e,t,r;const i=n[12].default,l=Ke(i,n,n[11],null);return{c(){e=y("div"),l&&l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0,role:!0,"aria-labelledby":!0,"data-testid":!0});var s=k(e);l&&l.l(s),s.forEach(h),this.h()},h(){m(e,"class",t="listbox "+n[1]),m(e,"role","listbox"),m(e,"aria-labelledby",n[0]),m(e,"data-testid","listbox")},m(o,s){T(o,e,s),l&&l.m(e,null),r=!0},p(o,[s]){l&&l.p&&(!r||s&2048)&&Qe(l,i,o,o[11],r?Ge(i,o[11],s,null):We(o[11]),null),(!r||s&2&&t!==(t="listbox "+o[1]))&&m(e,"class",t),(!r||s&1)&&m(e,"aria-labelledby",o[0])},i(o){r||(R(l,o),r=!0)},o(o){U(l,o),r=!1},d(o){o&&h(e),l&&l.d(o)}}}const Rh="";function Vh(n,e,t){let r,{$$slots:i={},$$scope:l}=e,{multiple:o=!1}=e,{spacing:s="space-y-1"}=e,{rounded:a="rounded-token"}=e,{active:u="variant-filled"}=e,{hover:c="hover:variant-soft"}=e,{padding:f="px-4 py-2"}=e,{regionLead:d=""}=e,{regionDefault:p=""}=e,{regionTrail:b=""}=e,{labelledby:_=""}=e;return Je("multiple",o),Je("rounded",a),Je("active",u),Je("hover",c),Je("padding",f),Je("regionLead",d),Je("regionDefault",p),Je("regionTrail",b),n.$$set=v=>{t(13,e=It(It({},e),Dt(v))),"multiple"in v&&t(2,o=v.multiple),"spacing"in v&&t(3,s=v.spacing),"rounded"in v&&t(4,a=v.rounded),"active"in v&&t(5,u=v.active),"hover"in v&&t(6,c=v.hover),"padding"in v&&t(7,f=v.padding),"regionLead"in v&&t(8,d=v.regionLead),"regionDefault"in v&&t(9,p=v.regionDefault),"regionTrail"in v&&t(10,b=v.regionTrail),"labelledby"in v&&t(0,_=v.labelledby),"$$scope"in v&&t(11,l=v.$$scope)},n.$$.update=()=>{t(1,r=`${Rh} ${s} ${a} ${e.class??""}`)},e=Dt(e),[_,r,o,s,a,u,c,f,d,p,b,l,i]}class Bh extends De{constructor(e){super(),Te(this,e,Vh,Ph,Ce,{multiple:2,spacing:3,rounded:4,active:5,hover:6,padding:7,regionLead:8,regionDefault:9,regionTrail:10,labelledby:0})}}const Mh=n=>({}),Gs=n=>({}),Lh=n=>({}),Zs=n=>({});function qh(n){let e,t=!1,r,i,l;return r=th(n[35][0]),{c(){e=y("input"),this.h()},l(o){e=w(o,"INPUT",{type:!0,name:!0,tabindex:!0}),this.h()},h(){m(e,"type","radio"),m(e,"name",n[1]),e.__value=n[2],$e(e,e.__value),m(e,"tabindex","-1"),r.p(e)},m(o,s){T(o,e,s),n[33](e),e.checked=e.__value===n[0],i||(l=[ee(e,"change",n[34]),ee(e,"click",n[29]),ee(e,"change",n[30])],i=!0)},p(o,s){s[0]&2&&m(e,"name",o[1]),s[0]&4&&(e.__value=o[2],$e(e,e.__value),t=!0),(t||s[0]&1)&&(e.checked=e.__value===o[0])},d(o){o&&h(e),n[33](null),r.r(),i=!1,je(l)}}}function Uh(n){let e,t,r;return{c(){e=y("input"),this.h()},l(i){e=w(i,"INPUT",{type:!0,name:!0,tabindex:!0}),this.h()},h(){m(e,"type","checkbox"),m(e,"name",n[1]),e.__value=n[2],$e(e,e.__value),m(e,"tabindex","-1")},m(i,l){T(i,e,l),n[31](e),e.checked=n[4],t||(r=[ee(e,"change",n[32]),ee(e,"click",n[27]),ee(e,"change",n[28])],t=!0)},p(i,l){l[0]&2&&m(e,"name",i[1]),l[0]&4&&(e.__value=i[2],$e(e,e.__value)),l[0]&16&&(e.checked=i[4])},d(i){i&&h(e),n[31](null),t=!1,je(r)}}}function Ys(n){let e,t,r;const i=n[23].lead,l=Ke(i,n,n[22],Zs);return{c(){e=y("div"),l&&l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);l&&l.l(s),s.forEach(h),this.h()},h(){m(e,"class",t="listbox-label-lead "+n[9])},m(o,s){T(o,e,s),l&&l.m(e,null),r=!0},p(o,s){l&&l.p&&(!r||s[0]&4194304)&&Qe(l,i,o,o[22],r?Ge(i,o[22],s,Lh):We(o[22]),Zs),(!r||s[0]&512&&t!==(t="listbox-label-lead "+o[9]))&&m(e,"class",t)},i(o){r||(R(l,o),r=!0)},o(o){U(l,o),r=!1},d(o){o&&h(e),l&&l.d(o)}}}function Xs(n){let e,t,r;const i=n[23].trail,l=Ke(i,n,n[22],Gs);return{c(){e=y("div"),l&&l.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);l&&l.l(s),s.forEach(h),this.h()},h(){m(e,"class",t="listbox-label-trail "+n[7])},m(o,s){T(o,e,s),l&&l.m(e,null),r=!0},p(o,s){l&&l.p&&(!r||s[0]&4194304)&&Qe(l,i,o,o[22],r?Ge(i,o[22],s,Mh):We(o[22]),Gs),(!r||s[0]&128&&t!==(t="listbox-label-trail "+o[7]))&&m(e,"class",t)},i(o){r||(R(l,o),r=!0)},o(o){U(l,o),r=!1},d(o){o&&h(e),l&&l.d(o)}}}function zh(n){let e,t,r,i,l,o,s,a,u,c,f,d,p,b;function _(O,D){return O[3]?Uh:qh}let v=_(n),E=v(n),I=n[13].lead&&Ys(n);const S=n[23].default,N=Ke(S,n,n[22],null);let C=n[13].trail&&Xs(n);return{c(){e=y("label"),t=y("div"),r=y("div"),E.c(),i=F(),l=y("div"),I&&I.c(),o=F(),s=y("div"),N&&N.c(),u=F(),C&&C.c(),this.h()},l(O){e=w(O,"LABEL",{});var D=k(e);t=w(D,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-selected":!0,tabindex:!0});var A=k(t);r=w(A,"DIV",{class:!0});var P=k(r);E.l(P),P.forEach(h),i=j(A),l=w(A,"DIV",{class:!0});var L=k(l);I&&I.l(L),o=j(L),s=w(L,"DIV",{class:!0});var H=k(s);N&&N.l(H),H.forEach(h),u=j(L),C&&C.l(L),L.forEach(h),A.forEach(h),D.forEach(h),this.h()},h(){m(r,"class","h-0 w-0 overflow-hidden"),m(s,"class",a="listbox-label-content "+n[8]),m(l,"class",c="listbox-label "+n[10]),m(t,"class",f="listbox-item "+n[11]),m(t,"data-testid","listbox-item"),m(t,"role","option"),m(t,"aria-selected",n[5]),m(t,"tabindex","0")},m(O,D){T(O,e,D),g(e,t),g(t,r),E.m(r,null),g(t,i),g(t,l),I&&I.m(l,null),g(l,o),g(l,s),N&&N.m(s,null),g(l,u),C&&C.m(l,null),d=!0,p||(b=[ee(t,"keydown",n[12]),ee(t,"keydown",n[24]),ee(t,"keyup",n[25]),ee(t,"keypress",n[26])],p=!0)},p(O,D){v===(v=_(O))&&E?E.p(O,D):(E.d(1),E=v(O),E&&(E.c(),E.m(r,null))),O[13].lead?I?(I.p(O,D),D[0]&8192&&R(I,1)):(I=Ys(O),I.c(),R(I,1),I.m(l,o)):I&&(ye(),U(I,1,1,()=>{I=null}),we()),N&&N.p&&(!d||D[0]&4194304)&&Qe(N,S,O,O[22],d?Ge(S,O[22],D,null):We(O[22]),null),(!d||D[0]&256&&a!==(a="listbox-label-content "+O[8]))&&m(s,"class",a),O[13].trail?C?(C.p(O,D),D[0]&8192&&R(C,1)):(C=Xs(O),C.c(),R(C,1),C.m(l,null)):C&&(ye(),U(C,1,1,()=>{C=null}),we()),(!d||D[0]&1024&&c!==(c="listbox-label "+O[10]))&&m(l,"class",c),(!d||D[0]&2048&&f!==(f="listbox-item "+O[11]))&&m(t,"class",f),(!d||D[0]&32)&&m(t,"aria-selected",O[5])},i(O){d||(R(I),R(N,O),R(C),d=!0)},o(O){U(I),U(N,O),U(C),d=!1},d(O){O&&h(e),E.d(),I&&I.d(),N&&N.d(O),C&&C.d(),p=!1,je(b)}}}const Fh="cursor-pointer -outline-offset-[3px]",jh="flex items-center space-x-4",Jh="",Hh="flex-1",$h="";function ro(n,e){if(n===e)return!0;if(!(n instanceof Object)||!(e instanceof Object))return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const l=n[i],o=e[i];if(!ro(l,o))return!1}return!0}function Kh(n,e,t){let r,i,l,o,s,a,u,{$$slots:c={},$$scope:f}=e;const d=Xi(c);let{group:p}=e,{name:b}=e,{value:_}=e,{multiple:v=He("multiple")}=e,{rounded:E=He("rounded")}=e,{active:I=He("active")}=e,{hover:S=He("hover")}=e,{padding:N=He("padding")}=e,{regionLead:C=He("regionLead")}=e,{regionDefault:O=He("regionDefault")}=e,{regionTrail:D=He("regionTrail")}=e,A,P;function L(K){t(4,A=K.indexOf(_)>=0)}function H(K){const se=p.indexOf(_);K?se<0&&(p.push(_),t(0,p)):se>=0&&(p.splice(se,1),t(0,p))}function z(K){["Enter","Space"].includes(K.code)&&(K.preventDefault(),P.click())}const V=[[]];function x(K){Ze.call(this,n,K)}function J(K){Ze.call(this,n,K)}function q(K){Ze.call(this,n,K)}function Z(K){Ze.call(this,n,K)}function oe(K){Ze.call(this,n,K)}function Y(K){Ze.call(this,n,K)}function Q(K){Ze.call(this,n,K)}function G(K){gr[K?"unshift":"push"](()=>{P=K,t(6,P)})}function fe(){A=this.checked,t(4,A)}function ue(K){gr[K?"unshift":"push"](()=>{P=K,t(6,P)})}function X(){p=this.__value,t(0,p)}return n.$$set=K=>{t(38,e=It(It({},e),Dt(K))),"group"in K&&t(0,p=K.group),"name"in K&&t(1,b=K.name),"value"in K&&t(2,_=K.value),"multiple"in K&&t(3,v=K.multiple),"rounded"in K&&t(14,E=K.rounded),"active"in K&&t(15,I=K.active),"hover"in K&&t(16,S=K.hover),"padding"in K&&t(17,N=K.padding),"regionLead"in K&&t(18,C=K.regionLead),"regionDefault"in K&&t(19,O=K.regionDefault),"regionTrail"in K&&t(20,D=K.regionTrail),"$$scope"in K&&t(22,f=K.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&9&&v&&L(p),n.$$.dirty[0]&24&&v&&H(A),n.$$.dirty[0]&13&&t(5,r=v?p.some(K=>ro(_,K)):ro(p,_)),n.$$.dirty[0]&98336&&t(21,i=r?I:S),t(11,l=`${Fh} ${E} ${N} ${i} ${e.class??""}`),n.$$.dirty[0]&262144&&t(9,s=`${Jh} ${C}`),n.$$.dirty[0]&524288&&t(8,a=`${Hh} ${O}`),n.$$.dirty[0]&1048576&&t(7,u=`${$h} ${D}`)},t(10,o=`${jh}`),e=Dt(e),[p,b,_,v,A,r,P,u,a,s,o,l,z,d,E,I,S,N,C,O,D,i,f,c,x,J,q,Z,oe,Y,Q,G,fe,ue,X,V]}class Qh extends De{constructor(e){super(),Te(this,e,Kh,zh,Ce,{group:0,name:1,value:2,multiple:3,rounded:14,active:15,hover:16,padding:17,regionLead:18,regionDefault:19,regionTrail:20},null,[-1,-1])}}function xs(n){let e,t,r;const i=n[16].default,l=Ke(i,n,n[15],null);return{c(){e=Ln("text"),l&&l.c(),this.h()},l(o){e=qn(o,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,"font-weight":!0,"font-size":!0,class:!0});var s=k(e);l&&l.l(s),s.forEach(h),this.h()},h(){m(e,"x","50%"),m(e,"y","50%"),m(e,"text-anchor","middle"),m(e,"dominant-baseline","middle"),m(e,"font-weight","bold"),m(e,"font-size",n[2]),m(e,"class",t="progress-radial-text "+n[7])},m(o,s){T(o,e,s),l&&l.m(e,null),r=!0},p(o,s){l&&l.p&&(!r||s&32768)&&Qe(l,i,o,o[15],r?Ge(i,o[15],s,null):We(o[15]),null),(!r||s&4)&&m(e,"font-size",o[2]),(!r||s&128&&t!==(t="progress-radial-text "+o[7]))&&m(e,"class",t)},i(o){r||(R(l,o),r=!0)},o(o){U(l,o),r=!1},d(o){o&&h(e),l&&l.d(o)}}}function Wh(n){let e,t,r,i,l,o,s=`${n[9]}
			${n[9]}`,a,u,c,f,d=n[0]!=null&&n[0]>=0&&n[13].default&&xs(n);return{c(){e=y("figure"),t=Ln("svg"),r=Ln("circle"),l=Ln("circle"),d&&d.c(),this.h()},l(p){e=w(p,"FIGURE",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-valuemin":!0,"aria-valuemax":!0});var b=k(e);t=qn(b,"svg",{viewBox:!0,class:!0});var _=k(t);r=qn(_,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0}),k(r).forEach(h),l=qn(_,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0,"stroke-linecap":!0}),k(l).forEach(h),d&&d.l(_),_.forEach(h),b.forEach(h),this.h()},h(){m(r,"class",i="progress-radial-track "+ea+" "+n[6]),m(r,"stroke-width",n[1]),m(r,"r",n[12]),m(r,"cx","50%"),m(r,"cy","50%"),m(l,"class",o="progress-radial-meter "+ta+" "+n[5]+" "+n[4]),m(l,"stroke-width",n[1]),m(l,"r",n[12]),m(l,"cx","50%"),m(l,"cy","50%"),m(l,"stroke-linecap",n[3]),fr(l,"stroke-dasharray",s),fr(l,"stroke-dashoffset",n[10]),m(t,"viewBox","0 0 "+io+" "+io),m(t,"class","rounded-full"),dr(t,"animate-spin",n[0]===void 0),m(e,"class",a="progress-radial "+n[11]),m(e,"data-testid","progress-radial"),m(e,"role","meter"),m(e,"aria-labelledby",n[8]),m(e,"aria-valuenow",u=n[0]||0),m(e,"aria-valuetext",c=n[0]?`${n[0]}%`:"Indeterminate Spinner"),m(e,"aria-valuemin",0),m(e,"aria-valuemax",100)},m(p,b){T(p,e,b),g(e,t),g(t,r),g(t,l),d&&d.m(t,null),f=!0},p(p,[b]){(!f||b&64&&i!==(i="progress-radial-track "+ea+" "+p[6]))&&m(r,"class",i),(!f||b&2)&&m(r,"stroke-width",p[1]),(!f||b&48&&o!==(o="progress-radial-meter "+ta+" "+p[5]+" "+p[4]))&&m(l,"class",o),(!f||b&2)&&m(l,"stroke-width",p[1]),(!f||b&8)&&m(l,"stroke-linecap",p[3]),b&512&&s!==(s=`${p[9]}
			${p[9]}`)&&fr(l,"stroke-dasharray",s),b&1024&&fr(l,"stroke-dashoffset",p[10]),p[0]!=null&&p[0]>=0&&p[13].default?d?(d.p(p,b),b&8193&&R(d,1)):(d=xs(p),d.c(),R(d,1),d.m(t,null)):d&&(ye(),U(d,1,1,()=>{d=null}),we()),(!f||b&1)&&dr(t,"animate-spin",p[0]===void 0),(!f||b&2048&&a!==(a="progress-radial "+p[11]))&&m(e,"class",a),(!f||b&256)&&m(e,"aria-labelledby",p[8]),(!f||b&1&&u!==(u=p[0]||0))&&m(e,"aria-valuenow",u),(!f||b&1&&c!==(c=p[0]?`${p[0]}%`:"Indeterminate Spinner"))&&m(e,"aria-valuetext",c)},i(p){f||(R(d),f=!0)},o(p){U(d),f=!1},d(p){p&&h(e),d&&d.d()}}}const Gh="progress-radial relative overflow-hidden",ea="fill-transparent",ta="fill-transparent -rotate-90 origin-[50%_50%]",io=512;function Zh(n,e,t){let r,{$$slots:i={},$$scope:l}=e;const o=Xi(i);let{value:s=void 0}=e,{stroke:a=40}=e,{font:u=56}=e,{strokeLinecap:c="butt"}=e,{transition:f="transition-[stroke-dashoffset]"}=e,{width:d="w-36"}=e,{meter:p="stroke-surface-900 dark:stroke-surface-50"}=e,{track:b="stroke-surface-500/30"}=e,{fill:_="fill-token"}=e,{labelledby:v=""}=e;const E=io/2-a/2;let I=E,S;function N(C){t(9,I=E*2*Math.PI),t(10,S=I-C/100*I)}return N(0),nh(()=>{N(s===void 0?25:s)}),n.$$set=C=>{t(18,e=It(It({},e),Dt(C))),"value"in C&&t(0,s=C.value),"stroke"in C&&t(1,a=C.stroke),"font"in C&&t(2,u=C.font),"strokeLinecap"in C&&t(3,c=C.strokeLinecap),"transition"in C&&t(4,f=C.transition),"width"in C&&t(14,d=C.width),"meter"in C&&t(5,p=C.meter),"track"in C&&t(6,b=C.track),"fill"in C&&t(7,_=C.fill),"labelledby"in C&&t(8,v=C.labelledby),"$$scope"in C&&t(15,l=C.$$scope)},n.$$.update=()=>{t(11,r=`${Gh} ${d} ${e.class??""}`)},e=Dt(e),[s,a,u,c,f,p,b,_,v,I,S,r,E,o,d,l,i]}class cf extends De{constructor(e){super(),Te(this,e,Zh,Wh,Ce,{value:0,stroke:1,font:2,strokeLinecap:3,transition:4,width:14,meter:5,track:6,fill:7,labelledby:8})}}function na(n){let e,t;const r=n[22].default,i=Ke(r,n,n[21],null);return{c(){e=y("div"),i&&i.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);i&&i.l(o),o.forEach(h),this.h()},h(){m(e,"class","slide-toggle-text ml-3")},m(l,o){T(l,e,o),i&&i.m(e,null),t=!0},p(l,o){i&&i.p&&(!t||o[0]&2097152)&&Qe(i,r,l,l[21],t?Ge(r,l[21],o,null):We(l[21]),null)},i(l){t||(R(i,l),t=!0)},o(l){U(i,l),t=!1},d(l){l&&h(e),i&&i.d(l)}}}function Yh(n){let e,t,r,i,l,o,s,a,u,c,f,d,p,b,_,v=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:n[1]},n[8](),{disabled:i=n[9].disabled}],E={};for(let S=0;S<v.length;S+=1)E=It(E,v[S]);let I=n[10].default&&na(n);return{c(){e=y("div"),t=y("label"),r=y("input"),l=F(),o=y("div"),s=y("div"),c=F(),I&&I.c(),this.h()},l(S){e=w(S,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var N=k(e);t=w(N,"LABEL",{class:!0});var C=k(t);r=w(C,"INPUT",{type:!0,class:!0,name:!0}),l=j(C),o=w(C,"DIV",{class:!0});var O=k(o);s=w(O,"DIV",{class:!0}),k(s).forEach(h),O.forEach(h),c=j(C),I&&I.l(C),C.forEach(h),N.forEach(h),this.h()},h(){Rs(r,E),m(s,"class",a="slide-toggle-thumb "+n[3]),dr(s,"cursor-not-allowed",n[9].disabled),m(o,"class",u="slide-toggle-track "+n[4]),dr(o,"cursor-not-allowed",n[9].disabled),m(t,"class",f="slide-toggle-label "+n[5]),m(e,"id",n[2]),m(e,"class",d="slide-toggle "+n[6]),m(e,"data-testid","slide-toggle"),m(e,"role","switch"),m(e,"aria-label",n[2]),m(e,"aria-checked",n[0]),m(e,"tabindex","0")},m(S,N){T(S,e,N),g(e,t),g(t,r),r.autofocus&&r.focus(),r.checked=n[0],g(t,l),g(t,o),g(o,s),g(t,c),I&&I.m(t,null),p=!0,b||(_=[ee(r,"change",n[31]),ee(r,"click",n[23]),ee(r,"keydown",n[24]),ee(r,"keyup",n[25]),ee(r,"keypress",n[26]),ee(r,"mouseover",n[27]),ee(r,"change",n[28]),ee(r,"focus",n[29]),ee(r,"blur",n[30]),ee(e,"keydown",n[7])],b=!0)},p(S,N){Rs(r,E=_h(v,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!p||N[0]&2)&&{name:S[1]},S[8](),(!p||N[0]&512&&i!==(i=S[9].disabled))&&{disabled:i}])),N[0]&1&&(r.checked=S[0]),(!p||N[0]&8&&a!==(a="slide-toggle-thumb "+S[3]))&&m(s,"class",a),(!p||N[0]&520)&&dr(s,"cursor-not-allowed",S[9].disabled),(!p||N[0]&16&&u!==(u="slide-toggle-track "+S[4]))&&m(o,"class",u),(!p||N[0]&528)&&dr(o,"cursor-not-allowed",S[9].disabled),S[10].default?I?(I.p(S,N),N[0]&1024&&R(I,1)):(I=na(S),I.c(),R(I,1),I.m(t,null)):I&&(ye(),U(I,1,1,()=>{I=null}),we()),(!p||N[0]&32&&f!==(f="slide-toggle-label "+S[5]))&&m(t,"class",f),(!p||N[0]&4)&&m(e,"id",S[2]),(!p||N[0]&64&&d!==(d="slide-toggle "+S[6]))&&m(e,"class",d),(!p||N[0]&4)&&m(e,"aria-label",S[2]),(!p||N[0]&1)&&m(e,"aria-checked",S[0])},i(S){p||(R(I),p=!0)},o(S){U(I),p=!1},d(S){S&&h(e),I&&I.d(),b=!1,je(_)}}}const Xh="inline-block",xh="unstyled flex items-center",e1="flex transition-all duration-[200ms] cursor-pointer",t1="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function n1(n,e,t){let r,i,l,o,s,a,u,c;const f=["name","checked","size","background","active","border","rounded","label"];let d=Vs(e,f),{$$slots:p={},$$scope:b}=e;const _=Xi(p),v=xi();let{name:E}=e,{checked:I=!1}=e,{size:S="md"}=e,{background:N="bg-surface-400 dark:bg-surface-700"}=e,{active:C="bg-surface-900 dark:bg-surface-300"}=e,{border:O=""}=e,{rounded:D="rounded-full"}=e,{label:A=""}=e,P;switch(S){case"sm":P="w-12 h-6";break;case"lg":P="w-20 h-10";break;default:P="w-16 h-8"}function L(G){["Enter","Space"].includes(G.code)&&(G.preventDefault(),v("keyup",G),G.currentTarget.firstChild.click())}function H(){return delete d.class,d}function z(G){Ze.call(this,n,G)}function V(G){Ze.call(this,n,G)}function x(G){Ze.call(this,n,G)}function J(G){Ze.call(this,n,G)}function q(G){Ze.call(this,n,G)}function Z(G){Ze.call(this,n,G)}function oe(G){Ze.call(this,n,G)}function Y(G){Ze.call(this,n,G)}function Q(){I=this.checked,t(0,I)}return n.$$set=G=>{t(9,e=It(It({},e),Dt(G))),t(33,d=Vs(e,f)),"name"in G&&t(1,E=G.name),"checked"in G&&t(0,I=G.checked),"size"in G&&t(11,S=G.size),"background"in G&&t(12,N=G.background),"active"in G&&t(13,C=G.active),"border"in G&&t(14,O=G.border),"rounded"in G&&t(15,D=G.rounded),"label"in G&&t(2,A=G.label),"$$scope"in G&&t(21,b=G.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&12289&&t(19,r=I?C:`${N} cursor-pointer`),n.$$.dirty[0]&1&&t(18,i=I?"bg-white/75":"bg-white"),n.$$.dirty[0]&1&&t(17,l=I?"translate-x-full":""),t(20,o=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,s=`${Xh} ${D} ${o} ${e.class??""}`),n.$$.dirty[0]&638976&&t(4,u=`${e1} ${O} ${D} ${P} ${r}`),n.$$.dirty[0]&425984&&t(3,c=`${t1} ${D} ${i} ${l}`)},t(5,a=`${xh}`),e=Dt(e),[I,E,A,c,u,a,s,L,H,e,_,S,N,C,O,D,P,l,i,r,o,b,p,z,V,x,J,q,Z,oe,Y,Q]}class ra extends De{constructor(e){super(),Te(this,e,n1,Yh,Ce,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}function r1(n){let e,t=`<script nonce="%sveltekit.nonce%">(${fh.toString()})();<\/script>`,r,i,l,o,s,a,u,c,f,d,p,b;return{c(){e=new Ee(!1),r=ae(),i=F(),l=y("div"),o=y("div"),s=Ln("svg"),a=Ln("path"),this.h()},l(_){const v=rh("svelte-gewkj4",document.head);e=Oe(v,!1),r=ae(),v.forEach(h),i=j(_),l=w(_,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-checked":!0,title:!0,tabindex:!0});var E=k(l);o=w(E,"DIV",{class:!0});var I=k(o);s=qn(I,"svg",{class:!0,xmlns:!0,viewBox:!0});var S=k(s);a=qn(S,"path",{d:!0}),k(a).forEach(h),S.forEach(h),I.forEach(h),E.forEach(h),this.h()},h(){e.a=r,m(a,"d",u=n[1]?n[5].sun:n[5].moon),m(s,"class",c="lightswitch-icon "+n[2]),m(s,"xmlns","http://www.w3.org/2000/svg"),m(s,"viewBox","0 0 512 512"),m(o,"class",f="lightswitch-thumb "+n[3]),m(l,"class",d="lightswitch-track "+n[4]),m(l,"role","switch"),m(l,"aria-label","Light Switch"),m(l,"aria-checked",n[1]),m(l,"title",n[0]),m(l,"tabindex","0")},m(_,v){e.m(t,document.head),g(document.head,r),T(_,i,v),T(_,l,v),g(l,o),g(o,s),g(s,a),p||(b=[ee(l,"click",n[6]),ee(l,"click",n[19]),ee(l,"keydown",s1),ee(l,"keydown",n[20]),ee(l,"keyup",n[21]),ee(l,"keypress",n[22])],p=!0)},p(_,[v]){v&2&&u!==(u=_[1]?_[5].sun:_[5].moon)&&m(a,"d",u),v&4&&c!==(c="lightswitch-icon "+_[2])&&m(s,"class",c),v&8&&f!==(f="lightswitch-thumb "+_[3])&&m(o,"class",f),v&16&&d!==(d="lightswitch-track "+_[4])&&m(l,"class",d),v&2&&m(l,"aria-checked",_[1]),v&1&&m(l,"title",_[0])},i:$,o:$,d(_){_&&(e.d(),h(i),h(l)),h(r),p=!1,je(b)}}}const i1="cursor-pointer",l1="aspect-square scale-[0.8] flex justify-center items-center",o1="w-[70%] aspect-square";function s1(n){["Enter","Space"].includes(n.code)&&(n.preventDefault(),n.currentTarget.click())}function a1(n,e,t){let r,i,l,o,s,a,u,c;ce(n,Bs,H=>t(1,c=H));let{title:f="Toggle light or dark mode."}=e,{bgLight:d="bg-surface-50"}=e,{bgDark:p="bg-surface-900"}=e,{fillLight:b="fill-surface-50"}=e,{fillDark:_="fill-surface-900"}=e,{width:v="w-12"}=e,{height:E="h-6"}=e,{ring:I="ring-[1px] ring-surface-500/30"}=e,{rounded:S="rounded-token"}=e;const N="transition-all duration-[200ms]",C={sun:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM352 256c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zm32 0c0-70.7-57.3-128-128-128s-128 57.3-128 128s57.3 128 128 128s128-57.3 128-128z",moon:"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"};function O(){Pe(Bs,c=!c,c),hh(c),Ms(c)}lf(()=>{"modeCurrent"in localStorage||Ms(dh())});function D(H){Ze.call(this,n,H)}function A(H){Ze.call(this,n,H)}function P(H){Ze.call(this,n,H)}function L(H){Ze.call(this,n,H)}return n.$$set=H=>{t(24,e=It(It({},e),Dt(H))),"title"in H&&t(0,f=H.title),"bgLight"in H&&t(7,d=H.bgLight),"bgDark"in H&&t(8,p=H.bgDark),"fillLight"in H&&t(9,b=H.fillLight),"fillDark"in H&&t(10,_=H.fillDark),"width"in H&&t(11,v=H.width),"height"in H&&t(12,E=H.height),"ring"in H&&t(13,I=H.ring),"rounded"in H&&t(14,S=H.rounded)},n.$$.update=()=>{n.$$.dirty&386&&t(18,r=c===!0?d:p),n.$$.dirty&386&&t(17,i=c===!0?p:d),n.$$.dirty&2&&t(16,l=c===!0?"translate-x-[100%]":""),n.$$.dirty&1538&&t(15,o=c===!0?b:_),t(4,s=`${i1} ${N} ${v} ${E} ${I} ${S} ${r} ${e.class??""}`),n.$$.dirty&217088&&t(3,a=`${l1} ${N} ${E} ${S} ${i} ${l}`),n.$$.dirty&32768&&t(2,u=`${o1} ${o}`)},e=Dt(e),[f,c,u,a,s,C,O,d,p,b,_,v,E,I,S,o,l,i,r,D,A,P,L]}class u1 extends De{constructor(e){super(),Te(this,e,a1,r1,Ce,{title:0,bgLight:7,bgDark:8,fillLight:9,fillDark:10,width:11,height:12,ring:13,rounded:14})}}function dt(n){return typeof n=="function"}function c1(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ul=c1(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function ia(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Bo=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,l;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Xl(o),a=s.next();!a.done;a=s.next()){var u=a.value;u.remove(this)}}catch(_){e={error:_}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(dt(c))try{c()}catch(_){l=_ instanceof Ul?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=Xl(f),p=d.next();!p.done;p=d.next()){var b=p.value;try{la(b)}catch(_){l=l??[],_ instanceof Ul?l=Mi(Mi([],Li(l)),Li(_.errors)):l.push(_)}}}catch(_){r={error:_}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(l)throw new Ul(l)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)la(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&ia(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&ia(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}();Bo.EMPTY;function ff(n){return n instanceof Bo||n&&"closed"in n&&dt(n.remove)&&dt(n.add)&&dt(n.unsubscribe)}function la(n){dt(n)?n():n.unsubscribe()}var df={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lo={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=lo.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Mi([n,e],Li(t))):setTimeout.apply(void 0,Mi([n,e],Li(t)))},clearTimeout:function(n){var e=lo.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function hf(n){lo.setTimeout(function(){throw n})}function oa(){}function f1(n){n()}var Mo=function(n){To(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,ff(t)&&t.add(r)):r.destination=m1,r}return e.create=function(t,r,i){return new oo(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Bo),d1=Function.prototype.bind;function zl(n,e){return d1.call(n,e)}var h1=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){Si(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){Si(r)}else Si(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Si(t)}},n}(),oo=function(n){To(e,n);function e(t,r,i){var l=n.call(this)||this,o;if(dt(t)||!t)o={next:t??void 0,error:r??void 0,complete:i??void 0};else{var s;l&&df.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=function(){return l.unsubscribe()},o={next:t.next&&zl(t.next,s),error:t.error&&zl(t.error,s),complete:t.complete&&zl(t.complete,s)}):o=t}return l.destination=new h1(o),l}return e}(Mo);function Si(n){hf(n)}function p1(n){throw n}var m1={closed:!0,next:oa,error:p1,complete:oa},Lo=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function pf(n){return n}function Gr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return mf(n)}function mf(n){return n.length===0?pf:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var sn=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,l=_1(e)?e:new oo(e,t,r);return f1(function(){var o=i,s=o.operator,a=o.source;l.add(s?s.call(l,a):a?i._subscribe(l):i._trySubscribe(l))}),l},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=sa(t),new t(function(i,l){var o=new oo({next:function(s){try{e(s)}catch(a){l(a),o.unsubscribe()}},error:l,complete:i});r.subscribe(o)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Lo]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mf(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=sa(e),new e(function(r,i){var l;t.subscribe(function(o){return l=o},function(o){return i(o)},function(){return r(l)})})},n.create=function(e){return new n(e)},n}();function sa(n){var e;return(e=n??df.Promise)!==null&&e!==void 0?e:Promise}function g1(n){return n&&dt(n.next)&&dt(n.error)&&dt(n.complete)}function _1(n){return n&&n instanceof Mo||g1(n)&&ff(n)}function b1(n){return dt(n==null?void 0:n.lift)}function nr(n){return function(e){if(b1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yr(n,e,t,r,i){return new v1(n,e,t,r,i)}var v1=function(n){To(e,n);function e(t,r,i,l,o,s){var a=n.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(u){try{r(u)}catch(c){t.error(c)}}:n.prototype._next,a._error=l?function(u){try{l(u)}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._error,a._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,a}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Mo);function y1(n){return n&&dt(n.schedule)}function w1(n){return n[n.length-1]}function gf(n){return y1(w1(n))?n.pop():void 0}var _f=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function bf(n){return dt(n==null?void 0:n.then)}function vf(n){return dt(n[Lo])}function yf(n){return Symbol.asyncIterator&&dt(n==null?void 0:n[Symbol.asyncIterator])}function wf(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function k1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kf=k1();function Ef(n){return dt(n==null?void 0:n[kf])}function Of(n){return sh(this,arguments,function(){var t,r,i,l;return sf(this,function(o){switch(o.label){case 0:t=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ql(t.read())];case 3:return r=o.sent(),i=r.value,l=r.done,l?[4,ql(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ql(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function If(n){return dt(n==null?void 0:n.getReader)}function Zr(n){if(n instanceof sn)return n;if(n!=null){if(vf(n))return E1(n);if(_f(n))return O1(n);if(bf(n))return I1(n);if(yf(n))return Sf(n);if(Ef(n))return S1(n);if(If(n))return N1(n)}throw wf(n)}function E1(n){return new sn(function(e){var t=n[Lo]();if(dt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function O1(n){return new sn(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function I1(n){return new sn(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,hf)})}function S1(n){return new sn(function(e){var t,r;try{for(var i=Xl(n),l=i.next();!l.done;l=i.next()){var o=l.value;if(e.next(o),e.closed)return}}catch(s){t={error:s}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function Sf(n){return new sn(function(e){C1(n,e).catch(function(t){return e.error(t)})})}function N1(n){return Sf(Of(n))}function C1(n,e){var t,r,i,l;return ah(this,void 0,void 0,function(){var o,s;return sf(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),t=uh(n),a.label=1;case 1:return[4,t.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=a.sent(),i={error:s},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(l=t.return)?[4,l.call(t)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Un(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var l=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(l),!i)return l}function Nf(n,e){return e===void 0&&(e=0),nr(function(t,r){t.subscribe(yr(r,function(i){return Un(r,n,function(){return r.next(i)},e)},function(){return Un(r,n,function(){return r.complete()},e)},function(i){return Un(r,n,function(){return r.error(i)},e)}))})}function Cf(n,e){return e===void 0&&(e=0),nr(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function D1(n,e){return Zr(n).pipe(Cf(e),Nf(e))}function T1(n,e){return Zr(n).pipe(Cf(e),Nf(e))}function A1(n,e){return new sn(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function P1(n,e){return new sn(function(t){var r;return Un(t,e,function(){r=n[kf](),Un(t,e,function(){var i,l,o;try{i=r.next(),l=i.value,o=i.done}catch(s){t.error(s);return}o?t.complete():t.next(l)},0,!0)}),function(){return dt(r==null?void 0:r.return)&&r.return()}})}function Df(n,e){if(!n)throw new Error("Iterable cannot be null");return new sn(function(t){Un(t,e,function(){var r=n[Symbol.asyncIterator]();Un(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function R1(n,e){return Df(Of(n),e)}function V1(n,e){if(n!=null){if(vf(n))return D1(n,e);if(_f(n))return A1(n,e);if(bf(n))return T1(n,e);if(yf(n))return Df(n,e);if(Ef(n))return P1(n,e);if(If(n))return R1(n,e)}throw wf(n)}function Tf(n,e){return e?V1(n,e):Zr(n)}function qo(n,e){return nr(function(t,r){var i=0;t.subscribe(yr(r,function(l){r.next(n.call(e,l,i++))}))})}function B1(n,e,t,r,i,l,o,s){var a=[],u=0,c=0,f=!1,d=function(){f&&!a.length&&!u&&e.complete()},p=function(_){return u<r?b(_):a.push(_)},b=function(_){l&&e.next(_),u++;var v=!1;Zr(t(_,c++)).subscribe(yr(e,function(E){i==null||i(E),l?p(E):e.next(E)},function(){v=!0},void 0,function(){if(v)try{u--;for(var E=function(){var I=a.shift();o?Un(e,o,function(){return b(I)}):b(I)};a.length&&u<r;)E();d()}catch(I){e.error(I)}}))};return n.subscribe(yr(e,p,function(){f=!0,d()})),function(){s==null||s()}}function Af(n,e,t){return t===void 0&&(t=1/0),dt(e)?Af(function(r,i){return qo(function(l,o){return e(r,l,i,o)})(Zr(n(r,i)))},t):(typeof e=="number"&&(t=e),nr(function(r,i){return B1(r,i,n,t)}))}function M1(n){return n===void 0&&(n=1/0),Af(pf,n)}function L1(){return M1(1)}function aa(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return L1()(Tf(n,gf(n)))}function Pf(n,e){return nr(function(t,r){var i=0;t.subscribe(yr(r,function(l){return n.call(e,l,i++)&&r.next(l)}))})}function q1(n,e,t,r,i){return function(l,o){var s=t,a=e,u=0;l.subscribe(yr(o,function(c){var f=u++;a=s?n(a,c,f):(s=!0,c),r&&o.next(a)},i&&function(){s&&o.next(a),o.complete()}))}}function U1(n,e){return nr(q1(n,e,arguments.length>=2,!0))}function z1(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=gf(n);return nr(function(r,i){(t?aa(n,r,t):aa(n,r)).subscribe(i)})}var F1=Object.defineProperty,j1=(n,e,t)=>e in n?F1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rn=(n,e,t)=>(j1(n,typeof e!="symbol"?e+"":e,t),t);const J1="text/plain",H1="us-ascii",Fl=(n,e)=>e.some(t=>t instanceof RegExp?t.test(n):t===n),$1=new Set(["https:","http:","file:"]),K1=n=>{try{const{protocol:e}=new URL(n);return e.endsWith(":")&&!$1.has(e)}catch{return!1}},Q1=(n,{stripHash:e})=>{var t;const r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(n);if(!r)throw new Error(`Invalid URL: ${n}`);let{type:i,data:l,hash:o}=r.groups;const s=i.split(";");o=e?"":o;let a=!1;s[s.length-1]==="base64"&&(s.pop(),a=!0);const u=((t=s.shift())==null?void 0:t.toLowerCase())??"",c=[...s.map(f=>{let[d,p=""]=f.split("=").map(b=>b.trim());return d==="charset"&&(p=p.toLowerCase(),p===H1)?"":`${d}${p?`=${p}`:""}`}).filter(Boolean)];return a&&c.push("base64"),(c.length>0||u&&u!==J1)&&c.unshift(u),`data:${c.join(";")},${a?l.trim():l}${o?`#${o}`:""}`};function W1(n,e){if(e={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...e},typeof e.defaultProtocol=="string"&&!e.defaultProtocol.endsWith(":")&&(e.defaultProtocol=`${e.defaultProtocol}:`),n=n.trim(),/^data:/i.test(n))return Q1(n,e);if(K1(n))return n;const t=n.startsWith("//");!t&&/^\.*\//.test(n)||(n=n.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));const r=new URL(n);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&r.protocol==="https:"&&(r.protocol="http:"),e.forceHttps&&r.protocol==="http:"&&(r.protocol="https:"),e.stripAuthentication&&(r.username="",r.password=""),e.stripHash?r.hash="":e.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){const l=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let o=0,s="";for(;;){const u=l.exec(r.pathname);if(!u)break;const c=u[0],f=u.index,d=r.pathname.slice(o,f);s+=d.replace(/\/{2,}/g,"/"),s+=c,o=f+c.length}const a=r.pathname.slice(o,r.pathname.length);s+=a.replace(/\/{2,}/g,"/"),r.pathname=s}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let l=r.pathname.split("/");const o=l[l.length-1];Fl(o,e.removeDirectoryIndex)&&(l=l.slice(0,-1),r.pathname=l.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(const l of[...r.searchParams.keys()])Fl(l,e.removeQueryParameters)&&r.searchParams.delete(l);if(!Array.isArray(e.keepQueryParameters)&&e.removeQueryParameters===!0&&(r.search=""),Array.isArray(e.keepQueryParameters)&&e.keepQueryParameters.length>0)for(const l of[...r.searchParams.keys()])Fl(l,e.keepQueryParameters)||r.searchParams.delete(l);if(e.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}e.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,"")),e.removeExplicitPort&&r.port&&(r.port="");const i=n;return n=r.toString(),!e.removeSingleSlash&&r.pathname==="/"&&!i.endsWith("/")&&r.hash===""&&(n=n.replace(/\/$/,"")),(e.removeTrailingSlash||r.pathname==="/")&&r.hash===""&&e.removeSingleSlash&&(n=n.replace(/\/$/,"")),t&&!e.normalizeProtocol&&(n=n.replace(/^http:\/\//,"//")),e.stripProtocol&&(n=n.replace(/^(?:https?:)?\/\//,"")),n}var so=function(n,e){return so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},so(n,e)};function Xt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");so(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ao=function(){return ao=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ao.apply(this,arguments)};function G1(n,e,t,r){function i(l){return l instanceof t?l:new t(function(o){o(l)})}return new(t||(t=Promise))(function(l,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function a(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?l(c.value):i(c.value).then(s,a)}u((r=r.apply(n,e||[])).next())})}function Rf(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,i,l,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(l=u[0]&2?i.return:u[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,u[1])).done)return l;switch(i=0,l&&(u=[u[0]&2,l.value]),u[0]){case 0:case 1:l=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!l||u[1]>l[0]&&u[1]<l[3])){t.label=u[1];break}if(u[0]===6&&t.label<l[1]){t.label=l[1],l=u;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(u);break}l[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=l=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function wr(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,l=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)l.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return l}function Fr(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,l;r<i;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}function pr(n){return this instanceof pr?(this.v=n,this):new pr(n)}function Z1(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,l=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(b,_){l.push([d,p,b,_])>1||s(d,p)})})}function s(d,p){try{a(r[d](p))}catch(b){f(l[0][3],b)}}function a(d){d.value instanceof pr?Promise.resolve(d.value.v).then(u,c):f(l[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,p){d(p),l.shift(),l.length&&s(l[0][0],l[0][1])}}function Y1(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof wr=="function"?wr(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(l){t[l]=n[l]&&function(o){return new Promise(function(s,a){o=n[l](o),i(s,a,o.done,o.value)})}}function i(l,o,s,a){Promise.resolve(a).then(function(u){l({value:u,done:s})},o)}}function at(n){return typeof n=="function"}function nl(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jl=nl(function(n){return function(e){n(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,r){return r+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function qi(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Sr=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,l;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=wr(o),a=s.next();!a.done;a=s.next()){var u=a.value;u.remove(this)}}catch(_){e={error:_}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(at(c))try{c()}catch(_){l=_ instanceof jl?_.errors:[_]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=wr(f),p=d.next();!p.done;p=d.next()){var b=p.value;try{ua(b)}catch(_){l=l??[],_ instanceof jl?l=Fr(Fr([],zr(l)),zr(_.errors)):l.push(_)}}}catch(_){r={error:_}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(l)throw new jl(l)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)ua(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&qi(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&qi(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),Vf=Sr.EMPTY;function Bf(n){return n instanceof Sr||n&&"closed"in n&&at(n.remove)&&at(n.add)&&at(n.unsubscribe)}function ua(n){at(n)?n():n.unsubscribe()}var Mf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X1={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,Fr([n,e],zr(t)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function Lf(n){X1.setTimeout(function(){throw n})}function Ui(){}function Ti(n){n()}var rl=function(n){Xt(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Bf(t)&&t.add(r)):r.destination=n0,r}return e.create=function(t,r,i){return new uo(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Sr),x1=Function.prototype.bind;function Jl(n,e){return x1.call(n,e)}var e0=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){Ni(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){Ni(r)}else Ni(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Ni(t)}},n}(),uo=function(n){Xt(e,n);function e(t,r,i){var l=n.call(this)||this,o;if(at(t)||!t)o={next:t??void 0,error:r??void 0,complete:i??void 0};else{var s;l&&Mf.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=function(){return l.unsubscribe()},o={next:t.next&&Jl(t.next,s),error:t.error&&Jl(t.error,s),complete:t.complete&&Jl(t.complete,s)}):o=t}return l.destination=new e0(o),l}return e}(rl);function Ni(n){Lf(n)}function t0(n){throw n}var n0={closed:!0,next:Ui,error:t0,complete:Ui},Uo=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Gt(n){return n}function zi(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return qf(n)}function qf(n){return n.length===0?Gt:n.length===1?n[0]:function(e){return n.reduce(function(t,r){return r(t)},e)}}var vt=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,l=i0(e)?e:new uo(e,t,r);return Ti(function(){var o=i,s=o.operator,a=o.source;l.add(s?s.call(l,a):a?i._subscribe(l):i._trySubscribe(l))}),l},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=ca(t),new t(function(i,l){var o=new uo({next:function(s){try{e(s)}catch(a){l(a),o.unsubscribe()}},error:l,complete:i});r.subscribe(o)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Uo]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return qf(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=ca(e),new e(function(r,i){var l;t.subscribe(function(o){return l=o},function(o){return i(o)},function(){return r(l)})})},n.create=function(e){return new n(e)},n}();function ca(n){var e;return(e=n??Mf.Promise)!==null&&e!==void 0?e:Promise}function r0(n){return n&&at(n.next)&&at(n.error)&&at(n.complete)}function i0(n){return n&&n instanceof rl||r0(n)&&Bf(n)}function l0(n){return at(n==null?void 0:n.lift)}function ut(n){return function(e){if(l0(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(n,e,t,r,i){return new Uf(n,e,t,r,i)}var Uf=function(n){Xt(e,n);function e(t,r,i,l,o,s){var a=n.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=r?function(u){try{r(u)}catch(c){t.error(c)}}:n.prototype._next,a._error=l?function(u){try{l(u)}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._error,a._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,a}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(rl),o0=nl(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),nn=function(n){Xt(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var r=new co(this,this);return r.operator=t,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new o0},e.prototype.next=function(t){var r=this;Ti(function(){var i,l;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=wr(r.currentObservers),s=o.next();!s.done;s=o.next()){var a=s.value;a.next(t)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(l=o.return)&&l.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(t){var r=this;Ti(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var i=r.observers;i.length;)i.shift().error(t)}})},e.prototype.complete=function(){var t=this;Ti(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var r=t.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var r=this,i=this,l=i.hasError,o=i.isStopped,s=i.observers;return l||o?Vf:(this.currentObservers=null,s.push(t),new Sr(function(){r.currentObservers=null,qi(s,t)}))},e.prototype._checkFinalizedStatuses=function(t){var r=this,i=r.hasError,l=r.thrownError,o=r.isStopped;i?t.error(l):o&&t.complete()},e.prototype.asObservable=function(){var t=new vt;return t.source=this,t},e.create=function(t,r){return new co(t,r)},e}(vt),co=function(n){Xt(e,n);function e(t,r){var i=n.call(this)||this;return i.destination=t,i.source=r,i}return e.prototype.next=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,t)},e.prototype.error=function(t){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,t)},e.prototype.complete=function(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)},e.prototype._subscribe=function(t){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&i!==void 0?i:Vf},e}(nn),s0=function(n){Xt(e,n);function e(t){var r=n.call(this)||this;return r._value=t,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(t){var r=n.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},e.prototype.getValue=function(){var t=this,r=t.hasError,i=t.thrownError,l=t._value;if(r)throw i;return this._throwIfClosed(),l},e.prototype.next=function(t){n.prototype.next.call(this,this._value=t)},e}(nn),zo={now:function(){return(zo.delegate||Date).now()},delegate:void 0},Ai=function(n){Xt(e,n);function e(t,r,i){t===void 0&&(t=1/0),r===void 0&&(r=1/0),i===void 0&&(i=zo);var l=n.call(this)||this;return l._bufferSize=t,l._windowTime=r,l._timestampProvider=i,l._buffer=[],l._infiniteTimeWindow=!0,l._infiniteTimeWindow=r===1/0,l._bufferSize=Math.max(1,t),l._windowTime=Math.max(1,r),l}return e.prototype.next=function(t){var r=this,i=r.isStopped,l=r._buffer,o=r._infiniteTimeWindow,s=r._timestampProvider,a=r._windowTime;i||(l.push(t),!o&&l.push(s.now()+a)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(t),i=this,l=i._infiniteTimeWindow,o=i._buffer,s=o.slice(),a=0;a<s.length&&!t.closed;a+=l?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),r},e.prototype._trimBuffer=function(){var t=this,r=t._bufferSize,i=t._timestampProvider,l=t._buffer,o=t._infiniteTimeWindow,s=(o?1:2)*r;if(r<1/0&&s<l.length&&l.splice(0,l.length-s),!o){for(var a=i.now(),u=0,c=1;c<l.length&&l[c]<=a;c+=2)u=c;u&&l.splice(0,u+1)}},e}(nn),a0=function(n){Xt(e,n);function e(t,r){return n.call(this)||this}return e.prototype.schedule=function(t,r){return this},e}(Sr),fo={setInterval:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=fo.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,Fr([n,e],zr(t))):setInterval.apply(void 0,Fr([n,e],zr(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},u0=function(n){Xt(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(t,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=t;var l=this.id,o=this.scheduler;return l!=null&&(this.id=this.recycleAsyncId(o,l,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,r),this},e.prototype.requestAsyncId=function(t,r,i){return i===void 0&&(i=0),fo.setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&fo.clearInterval(r)},e.prototype.execute=function(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,r){var i=!1,l;try{this.work(t)}catch(o){i=!0,l=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),l},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,r=t.id,i=t.scheduler,l=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qi(l,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(a0),fa=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,r){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},n.now=zo.now,n}(),c0=function(n){Xt(e,n);function e(t,r){r===void 0&&(r=fa.now);var i=n.call(this,t,r)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(t){var r=this.actions;if(this._active){r.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,i){for(;t=r.shift();)t.unsubscribe();throw i}},e}(fa),zf=new c0(u0),f0=zf,Fi=new vt(function(n){return n.complete()});function Ff(n){return n&&at(n.schedule)}function d0(n){return n[n.length-1]}function jf(n){return Ff(d0(n))?n.pop():void 0}var Jf=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function Hf(n){return at(n==null?void 0:n.then)}function $f(n){return at(n[Uo])}function Kf(n){return Symbol.asyncIterator&&at(n==null?void 0:n[Symbol.asyncIterator])}function Qf(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function h0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wf=h0();function Gf(n){return at(n==null?void 0:n[Wf])}function Zf(n){return Z1(this,arguments,function(){var e,t,r,i;return Rf(this,function(l){switch(l.label){case 0:e=n.getReader(),l.label=1;case 1:l.trys.push([1,,9,10]),l.label=2;case 2:return[4,pr(e.read())];case 3:return t=l.sent(),r=t.value,i=t.done,i?[4,pr(void 0)]:[3,5];case 4:return[2,l.sent()];case 5:return[4,pr(r)];case 6:return[4,l.sent()];case 7:return l.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function Yf(n){return at(n==null?void 0:n.getReader)}function Jt(n){if(n instanceof vt)return n;if(n!=null){if($f(n))return p0(n);if(Jf(n))return m0(n);if(Hf(n))return g0(n);if(Kf(n))return Xf(n);if(Gf(n))return _0(n);if(Yf(n))return b0(n)}throw Qf(n)}function p0(n){return new vt(function(e){var t=n[Uo]();if(at(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function m0(n){return new vt(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function g0(n){return new vt(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Lf)})}function _0(n){return new vt(function(e){var t,r;try{for(var i=wr(n),l=i.next();!l.done;l=i.next()){var o=l.value;if(e.next(o),e.closed)return}}catch(s){t={error:s}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function Xf(n){return new vt(function(e){v0(n,e).catch(function(t){return e.error(t)})})}function b0(n){return Xf(Zf(n))}function v0(n,e){var t,r,i,l;return G1(this,void 0,void 0,function(){var o,s;return Rf(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),t=Y1(n),a.label=1;case 1:return[4,t.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=a.sent(),i={error:s},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(l=t.return)?[4,l.call(t)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function gn(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var l=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(l),!i)return l}function xf(n,e){return e===void 0&&(e=0),ut(function(t,r){t.subscribe(et(r,function(i){return gn(r,n,function(){return r.next(i)},e)},function(){return gn(r,n,function(){return r.complete()},e)},function(i){return gn(r,n,function(){return r.error(i)},e)}))})}function ed(n,e){return e===void 0&&(e=0),ut(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function y0(n,e){return Jt(n).pipe(ed(e),xf(e))}function w0(n,e){return Jt(n).pipe(ed(e),xf(e))}function k0(n,e){return new vt(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function E0(n,e){return new vt(function(t){var r;return gn(t,e,function(){r=n[Wf](),gn(t,e,function(){var i,l,o;try{i=r.next(),l=i.value,o=i.done}catch(s){t.error(s);return}o?t.complete():t.next(l)},0,!0)}),function(){return at(r==null?void 0:r.return)&&r.return()}})}function td(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(function(t){gn(t,e,function(){var r=n[Symbol.asyncIterator]();gn(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function O0(n,e){return td(Zf(n),e)}function I0(n,e){if(n!=null){if($f(n))return y0(n,e);if(Jf(n))return k0(n,e);if(Hf(n))return w0(n,e);if(Kf(n))return td(n,e);if(Gf(n))return E0(n,e);if(Yf(n))return O0(n,e)}throw Qf(n)}function nd(n,e){return e?I0(n,e):Jt(n)}function da(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=jf(n);return nd(n,t)}var rd=nl(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function id(n){return n instanceof Date&&!isNaN(n)}var ld=nl(function(n){return function(e){e===void 0&&(e=null),n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function S0(n,e){var t=id(n)?{first:n}:typeof n=="number"?{each:n}:n,r=t.first,i=t.each,l=t.with,o=l===void 0?N0:l,s=t.scheduler,a=s===void 0?e??zf:s,u=t.meta,c=u===void 0?null:u;if(r==null&&i==null)throw new TypeError("No timeout provided.");return ut(function(f,d){var p,b,_=null,v=0,E=function(I){b=gn(d,a,function(){try{p.unsubscribe(),Jt(o({meta:c,lastValue:_,seen:v})).subscribe(d)}catch(S){d.error(S)}},I)};p=f.subscribe(et(d,function(I){b==null||b.unsubscribe(),v++,d.next(_=I),i>0&&E(i)},void 0,void 0,function(){b!=null&&b.closed||b==null||b.unsubscribe(),_=null})),!v&&E(r!=null?typeof r=="number"?r:+r-a.now():i)})}function N0(n){throw new ld(n)}function hr(n,e){return ut(function(t,r){var i=0;t.subscribe(et(r,function(l){r.next(n.call(e,l,i++))}))})}function C0(n,e,t,r,i,l,o,s){var a=[],u=0,c=0,f=!1,d=function(){f&&!a.length&&!u&&e.complete()},p=function(_){return u<r?b(_):a.push(_)},b=function(_){l&&e.next(_),u++;var v=!1;Jt(t(_,c++)).subscribe(et(e,function(E){i==null||i(E),l?p(E):e.next(E)},function(){v=!0},void 0,function(){if(v)try{u--;for(var E=function(){var I=a.shift();o?gn(e,o,function(){return b(I)}):b(I)};a.length&&u<r;)E();d()}catch(I){e.error(I)}}))};return n.subscribe(et(e,p,function(){f=!0,d()})),function(){s==null||s()}}function ji(n,e,t){return t===void 0&&(t=1/0),at(e)?ji(function(r,i){return hr(function(l,o){return e(r,l,i,o)})(Jt(n(r,i)))},t):(typeof e=="number"&&(t=e),ut(function(r,i){return C0(r,i,n,t)}))}function Fo(n){return n===void 0&&(n=1/0),ji(Gt,n)}function D0(){return Fo(1)}function T0(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return D0()(nd(n,jf(n)))}function A0(n,e,t){n===void 0&&(n=0),t===void 0&&(t=f0);var r=-1;return e!=null&&(Ff(e)?t=e:r=e),new vt(function(i){var l=id(n)?+n-t.now():n;l<0&&(l=0);var o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},l)})}function jr(n,e){return ut(function(t,r){var i=0;t.subscribe(et(r,function(l){return n.call(e,l,i++)&&r.next(l)}))})}function jo(n){return ut(function(e,t){var r=null,i=!1,l;r=e.subscribe(et(t,void 0,void 0,function(o){l=Jt(n(o,jo(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function P0(n,e,t,r,i){return function(l,o){var s=t,a=e,u=0;l.subscribe(et(o,function(c){var f=u++;a=s?n(a,c,f):(s=!0,c),r&&o.next(a)},i&&function(){s&&o.next(a),o.complete()}))}}function R0(n){return ut(function(e,t){var r=!1;e.subscribe(et(t,function(i){r=!0,t.next(i)},function(){r||t.next(n),t.complete()}))})}function ho(n){return n<=0?function(){return Fi}:ut(function(e,t){var r=0;e.subscribe(et(t,function(i){++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function V0(n,e){return ut(function(t,r){var i=new Set;t.subscribe(et(r,function(l){var o=n?n(l):l;i.has(o)||(i.add(o),r.next(l))})),e&&Jt(e).subscribe(et(r,function(){return i.clear()},Ui))})}function B0(n,e){return e===void 0&&(e=Gt),n=n??M0,ut(function(t,r){var i,l=!0;t.subscribe(et(r,function(o){var s=e(o);(l||!n(i,s))&&(l=!1,i=s,r.next(o))}))})}function M0(n,e){return n===e}function L0(n){return n===void 0&&(n=q0),ut(function(e,t){var r=!1;e.subscribe(et(t,function(i){r=!0,t.next(i)},function(){return r?t.complete():t.error(n())}))})}function q0(){return new rd}function Hl(n){return ut(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function U0(n,e){var t=arguments.length>=2;return function(r){return r.pipe(n?jr(function(i,l){return n(i,l,r)}):Gt,ho(1),t?R0(e):L0(function(){return new rd}))}}function od(n,e,t,r){return ut(function(i,l){var o;!e||typeof e=="function"?o=e:(t=e.duration,o=e.element,r=e.connector);var s=new Map,a=function(b){s.forEach(b),b(l)},u=function(b){return a(function(_){return _.error(b)})},c=0,f=!1,d=new Uf(l,function(b){try{var _=n(b),v=s.get(_);if(!v){s.set(_,v=r?r():new nn);var E=p(_,v);if(l.next(E),t){var I=et(v,function(){v.complete(),I==null||I.unsubscribe()},void 0,void 0,function(){return s.delete(_)});d.add(Jt(t(E)).subscribe(I))}}v.next(o?o(b):b)}catch(S){u(S)}},function(){return a(function(b){return b.complete()})},u,function(){return s.clear()},function(){return f=!0,c===0});i.subscribe(d);function p(b,_){var v=new vt(function(E){c++;var I=_.subscribe(E);return function(){I.unsubscribe(),--c===0&&f&&d.unsubscribe()}});return v.key=b,v}})}function z0(){return ut(function(n,e){var t,r=!1;n.subscribe(et(e,function(i){var l=t;t=i,r&&e.next([l,i]),r=!0}))})}function F0(n){n===void 0&&(n=1/0);var e;n&&typeof n=="object"?e=n:e={count:n};var t=e.count,r=t===void 0?1/0:t,i=e.delay,l=e.resetOnSuccess,o=l===void 0?!1:l;return r<=0?Gt:ut(function(s,a){var u=0,c,f=function(){var d=!1;c=s.subscribe(et(a,function(p){o&&(u=0),a.next(p)},void 0,function(p){if(u++<r){var b=function(){c?(c.unsubscribe(),c=null,f()):d=!0};if(i!=null){var _=typeof i=="number"?A0(i):Jt(i(p,u)),v=et(a,function(){v.unsubscribe(),b()},function(){a.complete()});_.subscribe(v)}else b()}else a.error(p)})),d&&(c.unsubscribe(),c=null,f())};f()})}function j0(n,e){return ut(P0(n,e,arguments.length>=2,!0))}function J0(n,e){return ut(function(t,r){var i=null,l=0,o=!1,s=function(){return o&&!i&&r.complete()};t.subscribe(et(r,function(a){i==null||i.unsubscribe();var u=0,c=l++;Jt(n(a,c)).subscribe(i=et(r,function(f){return r.next(e?e(a,f,c,u++):f)},function(){i=null,s()}))},function(){o=!0,s()}))})}function H0(){return J0(Gt)}function $0(n){return ut(function(e,t){Jt(n).subscribe(et(t,function(){return t.complete()},Ui)),!t.closed&&e.subscribe(t)})}function Pi(n,e,t){var r=at(n)||e||t?{next:n,error:e,complete:t}:n;return r?ut(function(i,l){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var s=!0;i.subscribe(et(l,function(a){var u;(u=r.next)===null||u===void 0||u.call(r,a),l.next(a)},function(){var a;s=!1,(a=r.complete)===null||a===void 0||a.call(r),l.complete()},function(a){var u;s=!1,(u=r.error)===null||u===void 0||u.call(r,a),l.error(a)},function(){var a,u;s&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Gt}var K0={url:"",deserializer:function(n){return JSON.parse(n.data)},serializer:function(n){return JSON.stringify(n)}},Q0="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",W0=function(n){Xt(e,n);function e(t,r){var i=n.call(this)||this;if(i._socket=null,t instanceof vt)i.destination=r,i.source=t;else{var l=i._config=ao({},K0);if(i._output=new nn,typeof t=="string")l.url=t;else for(var o in t)t.hasOwnProperty(o)&&(l[o]=t[o]);if(!l.WebSocketCtor&&WebSocket)l.WebSocketCtor=WebSocket;else if(!l.WebSocketCtor)throw new Error("no WebSocket constructor can be found");i.destination=new Ai}return i}return e.prototype.lift=function(t){var r=new e(this._config,this.destination);return r.operator=t,r.source=this,r},e.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new Ai),this._output=new nn},e.prototype.multiplex=function(t,r,i){var l=this;return new vt(function(o){try{l.next(t())}catch(a){o.error(a)}var s=l.subscribe({next:function(a){try{i(a)&&o.next(a)}catch(u){o.error(u)}},error:function(a){return o.error(a)},complete:function(){return o.complete()}});return function(){try{l.next(r())}catch(a){o.error(a)}s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,r=this._config,i=r.WebSocketCtor,l=r.protocol,o=r.url,s=r.binaryType,a=this._output,u=null;try{u=l?new i(o,l):new i(o),this._socket=u,s&&(this._socket.binaryType=s)}catch(f){a.error(f);return}var c=new Sr(function(){t._socket=null,u&&u.readyState===1&&u.close()});u.onopen=function(f){var d=t._socket;if(!d){u.close(),t._resetState();return}var p=t._config.openObserver;p&&p.next(f);var b=t.destination;t.destination=rl.create(function(_){if(u.readyState===1)try{var v=t._config.serializer;u.send(v(_))}catch(E){t.destination.error(E)}},function(_){var v=t._config.closingObserver;v&&v.next(void 0),_&&_.code?u.close(_.code,_.reason):a.error(new TypeError(Q0)),t._resetState()},function(){var _=t._config.closingObserver;_&&_.next(void 0),u.close(),t._resetState()}),b&&b instanceof Ai&&c.add(b.subscribe(t.destination))},u.onerror=function(f){t._resetState(),a.error(f)},u.onclose=function(f){u===t._socket&&t._resetState();var d=t._config.closeObserver;d&&d.next(f),f.wasClean?a.complete():a.error(f)},u.onmessage=function(f){try{var d=t._config.deserializer;a.next(d(f))}catch(p){a.error(p)}}},e.prototype._subscribe=function(t){var r=this,i=this.source;return i?i.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(function(){var l=r._socket;r._output.observers.length===0&&(l&&(l.readyState===1||l.readyState===0)&&l.close(),r._resetState())}),t)},e.prototype.unsubscribe=function(){var t=this._socket;t&&(t.readyState===1||t.readyState===0)&&t.close(),this._resetState(),n.prototype.unsubscribe.call(this)},e}(co);function G0(n){return new W0(n)}function po(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function Z0(n){if(typeof n!="boolean")throw new Error(`Expected boolean, not ${n}`)}function sd(n,...e){if(!(n instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function Y0(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");po(n.outputLen),po(n.blockLen)}function X0(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function x0(n,e){sd(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const Xn={number:po,bool:Z0,bytes:sd,hash:Y0,exists:X0,output:x0},$l=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kl=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),en=(n,e)=>n<<32-e|n>>>e,ep=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ep)throw new Error("Non little-endian hardware is not supported");const tp=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function il(n){if(!(n instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=tp[n[t]];return e}function np(n){if(typeof n!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function Jo(n){if(typeof n=="string"&&(n=np(n)),!(n instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof n})`);return n}function rp(...n){if(!n.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const e=n.reduce((r,i)=>r+i.length,0),t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const l=n[r];t.set(l,i),i+=l.length}return t}class ad{clone(){return this._cloneInto()}}function ud(n){const e=r=>n().update(Jo(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function cd(n=32){if($l&&typeof $l.getRandomValues=="function")return $l.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function ip(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),l=BigInt(4294967295),o=Number(t>>i&l),s=Number(t&l),a=r?4:0,u=r?0:4;n.setUint32(e+a,o,r),n.setUint32(e+u,s,r)}class lp extends ad{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Kl(this.buffer)}update(e){Xn.exists(this);const{view:t,buffer:r,blockLen:i}=this;e=Jo(e);const l=e.length;for(let o=0;o<l;){const s=Math.min(i-this.pos,l-o);if(s===i){const a=Kl(e);for(;i<=l-o;o+=i)this.process(a,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xn.exists(this),Xn.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:l}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)t[f]=0;ip(r,i-8,BigInt(this.length*8),l),this.process(r,0);const s=Kl(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)s.setUint32(4*f,c[f],l)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:l,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=l,e.destroyed=o,i%t&&e.buffer.set(r),e}}const op=(n,e,t)=>n&e^~n&t,sp=(n,e,t)=>n&e^n&t^e&t,ap=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),An=new Uint32Array(64);class fd extends lp{constructor(){super(64,32,8,!1),this.A=Tn[0]|0,this.B=Tn[1]|0,this.C=Tn[2]|0,this.D=Tn[3]|0,this.E=Tn[4]|0,this.F=Tn[5]|0,this.G=Tn[6]|0,this.H=Tn[7]|0}get(){const{A:e,B:t,C:r,D:i,E:l,F:o,G:s,H:a}=this;return[e,t,r,i,l,o,s,a]}set(e,t,r,i,l,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=l|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let f=0;f<16;f++,t+=4)An[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const d=An[f-15],p=An[f-2],b=en(d,7)^en(d,18)^d>>>3,_=en(p,17)^en(p,19)^p>>>10;An[f]=_+An[f-7]+b+An[f-16]|0}let{A:r,B:i,C:l,D:o,E:s,F:a,G:u,H:c}=this;for(let f=0;f<64;f++){const d=en(s,6)^en(s,11)^en(s,25),p=c+d+op(s,a,u)+ap[f]+An[f]|0,b=(en(r,2)^en(r,13)^en(r,22))+sp(r,i,l)|0;c=u,u=a,a=s,s=o+p|0,o=l,l=i,i=r,r=p+b|0}r=r+this.A|0,i=i+this.B|0,l=l+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,i,l,o,s,a,u,c)}roundClean(){An.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class up extends fd{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Jr=ud(()=>new fd);ud(()=>new up);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dd=BigInt(0),ll=BigInt(1),cp=BigInt(2),ol=n=>n instanceof Uint8Array,fp=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function kr(n){if(!ol(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=fp[n[t]];return e}function hd(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Ho(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Er(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(n.length%2)throw new Error("hex string is invalid: unpadded "+n.length);const e=new Uint8Array(n.length/2);for(let t=0;t<e.length;t++){const r=t*2,i=n.slice(r,r+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("invalid byte sequence");e[t]=l}return e}function Ot(n){return Ho(kr(n))}function $o(n){if(!ol(n))throw new Error("Uint8Array expected");return Ho(kr(Uint8Array.from(n).reverse()))}const zn=(n,e)=>Er(n.toString(16).padStart(e*2,"0")),pd=(n,e)=>zn(n,e).reverse(),dp=n=>Er(hd(n));function bt(n,e,t){let r;if(typeof e=="string")try{r=Er(e)}catch(l){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${l}`)}else if(ol(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function At(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!ol(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function hp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function sl(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new TextEncoder().encode(n)}function pp(n){let e;for(e=0;n>dd;n>>=ll,e+=1);return e}const mp=(n,e)=>n>>BigInt(e)&ll,gp=(n,e,t)=>n|(t?ll:dd)<<BigInt(e),Ko=n=>(cp<<BigInt(n-1))-ll,Ql=n=>new Uint8Array(n),ha=n=>Uint8Array.from(n);function md(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Ql(n),i=Ql(n),l=0;const o=()=>{r.fill(1),i.fill(0),l=0},s=(...c)=>t(i,r,...c),a=(c=Ql())=>{i=s(ha([0]),c),r=s(),c.length!==0&&(i=s(ha([1]),c),r=s())},u=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let c=0;const f=[];for(;c<e;){r=s();const d=r.slice();f.push(d),c+=r.length}return At(...f)};return(c,f)=>{o(),a(c);let d;for(;!(d=f(u()));)a();return o(),d}}const _p={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Nr(n,e,t={}){const r=(i,l,o)=>{const s=_p[l];if(typeof s!="function")throw new Error(`Invalid validator "${l}", expected function`);const a=n[i];if(!(o&&a===void 0)&&!s(a,n))throw new Error(`Invalid param ${String(i)}=${a} (${typeof a}), expected ${l}`)};for(const[i,l]of Object.entries(e))r(i,l,!1);for(const[i,l]of Object.entries(t))r(i,l,!0);return n}const bp=Object.freeze(Object.defineProperty({__proto__:null,bitGet:mp,bitLen:pp,bitMask:Ko,bitSet:gp,bytesToHex:kr,bytesToNumberBE:Ot,bytesToNumberLE:$o,concatBytes:At,createHmacDrbg:md,ensureBytes:bt,equalBytes:hp,hexToBytes:Er,hexToNumber:Ho,numberToBytesBE:zn,numberToBytesLE:pd,numberToHexUnpadded:hd,numberToVarBytesBE:dp,utf8ToBytes:sl,validateObject:Nr},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mt=BigInt(0),nt=BigInt(1),Zn=BigInt(2),vp=BigInt(3),mo=BigInt(4),pa=BigInt(5),ma=BigInt(8);BigInt(9);BigInt(16);function pt(n,e){const t=n%e;return t>=mt?t:e+t}function yp(n,e,t){if(t<=mt||e<mt)throw new Error("Expected power/modulo > 0");if(t===nt)return mt;let r=nt;for(;e>mt;)e&nt&&(r=r*n%t),n=n*n%t,e>>=nt;return r}function Ut(n,e,t){let r=n;for(;e-- >mt;)r*=r,r%=t;return r}function go(n,e){if(n===mt||e<=mt)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=pt(n,e),r=e,i=mt,l=nt;for(;t!==mt;){const o=r/t,s=r%t,a=i-l*o;r=t,t=s,i=l,l=a}if(r!==nt)throw new Error("invert: does not exist");return pt(i,e)}function wp(n){const e=(n-nt)/Zn;let t,r,i;for(t=n-nt,r=0;t%Zn===mt;t/=Zn,r++);for(i=Zn;i<n&&yp(i,e,n)!==n-nt;i++);if(r===1){const o=(n+nt)/mo;return function(s,a){const u=s.pow(a,o);if(!s.eql(s.sqr(u),a))throw new Error("Cannot find square root");return u}}const l=(t+nt)/Zn;return function(o,s){if(o.pow(s,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let a=r,u=o.pow(o.mul(o.ONE,i),t),c=o.pow(s,l),f=o.pow(s,t);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let b=o.sqr(f);d<a&&!o.eql(b,o.ONE);d++)b=o.sqr(b);const p=o.pow(u,nt<<BigInt(a-d-1));u=o.sqr(p),c=o.mul(c,p),f=o.mul(f,u),a=d}return c}}function kp(n){if(n%mo===vp){const e=(n+nt)/mo;return function(t,r){const i=t.pow(r,e);if(!t.eql(t.sqr(i),r))throw new Error("Cannot find square root");return i}}if(n%ma===pa){const e=(n-pa)/ma;return function(t,r){const i=t.mul(r,Zn),l=t.pow(i,e),o=t.mul(r,l),s=t.mul(t.mul(o,Zn),l),a=t.mul(o,t.sub(s,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return wp(n)}const Ep=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gd(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Ep.reduce((r,i)=>(r[i]="function",r),e);return Nr(n,t)}function Op(n,e,t){if(t<mt)throw new Error("Expected power > 0");if(t===mt)return n.ONE;if(t===nt)return e;let r=n.ONE,i=e;for(;t>mt;)t&nt&&(r=n.mul(r,i)),i=n.sqr(i),t>>=nt;return r}function Ip(n,e){const t=new Array(e.length),r=e.reduce((l,o,s)=>n.is0(o)?l:(t[s]=l,n.mul(l,o)),n.ONE),i=n.inv(r);return e.reduceRight((l,o,s)=>n.is0(o)?l:(t[s]=n.mul(l,t[s]),n.mul(l,o)),i),t}function Qo(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Sp(n,e,t=!1,r={}){if(n<=mt)throw new Error(`Expected Fp ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:l}=Qo(n,e);if(l>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=kp(n),s=Object.freeze({ORDER:n,BITS:i,BYTES:l,MASK:Ko(i),ZERO:mt,ONE:nt,create:a=>pt(a,n),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return mt<=a&&a<n},is0:a=>a===mt,isOdd:a=>(a&nt)===nt,neg:a=>pt(-a,n),eql:(a,u)=>a===u,sqr:a=>pt(a*a,n),add:(a,u)=>pt(a+u,n),sub:(a,u)=>pt(a-u,n),mul:(a,u)=>pt(a*u,n),pow:(a,u)=>Op(s,a,u),div:(a,u)=>pt(a*go(u,n),n),sqrN:a=>a*a,addN:(a,u)=>a+u,subN:(a,u)=>a-u,mulN:(a,u)=>a*u,inv:a=>go(a,n),sqrt:r.sqrt||(a=>o(s,a)),invertBatch:a=>Ip(s,a),cmov:(a,u,c)=>c?u:a,toBytes:a=>t?pd(a,l):zn(a,l),fromBytes:a=>{if(a.length!==l)throw new Error(`Fp.fromBytes: expected ${l}, got ${a.length}`);return t?$o(a):Ot(a)}});return Object.freeze(s)}function Np(n,e,t=!1){n=bt("privateHash",n);const r=n.length,i=Qo(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const l=t?$o(n):Ot(n);return pt(l,e-nt)+nt}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cp=BigInt(0),Wl=BigInt(1);function Dp(n,e){const t=(i,l)=>{const o=l.negate();return i?o:l},r=i=>{const l=Math.ceil(e/i)+1,o=2**(i-1);return{windows:l,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,l){let o=n.ZERO,s=i;for(;l>Cp;)l&Wl&&(o=o.add(s)),s=s.double(),l>>=Wl;return o},precomputeWindow(i,l){const{windows:o,windowSize:s}=r(l),a=[];let u=i,c=u;for(let f=0;f<o;f++){c=u,a.push(c);for(let d=1;d<s;d++)c=c.add(u),a.push(c);u=c.double()}return a},wNAF(i,l,o){const{windows:s,windowSize:a}=r(i);let u=n.ZERO,c=n.BASE;const f=BigInt(2**i-1),d=2**i,p=BigInt(i);for(let b=0;b<s;b++){const _=b*a;let v=Number(o&f);o>>=p,v>a&&(v-=d,o+=Wl);const E=_,I=_+Math.abs(v)-1,S=b%2!==0,N=v<0;v===0?c=c.add(t(S,l[E])):u=u.add(t(N,l[I]))}return{p:u,f:c}},wNAFCached(i,l,o,s){const a=i._WINDOW_SIZE||1;let u=l.get(i);return u||(u=this.precomputeWindow(i,a),a!==1&&l.set(i,s(u))),this.wNAF(a,u,o)}}}function _d(n){return gd(n.Fp),Nr(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Qo(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Tp(n){const e=_d(n);Nr(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Ap,hexToBytes:Pp}=bp,xn={Err:class extends Error{constructor(n=""){super(n)}},_parseInt(n){const{Err:e}=xn;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Ap(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=xn,t=typeof n=="string"?Pp(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l}=xn._parseInt(t.subarray(2)),{d:o,l:s}=xn._parseInt(l);if(s.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const c=u.toString(16);return c.length&1?`0${c}`:c},r=e(t(n.s)),i=e(t(n.r)),l=r.length/2,o=i.length/2,s=t(l),a=t(o);return`30${t(o+l+4)}02${a}${i}02${s}${r}`}},Wt=BigInt(0),lt=BigInt(1),pn=BigInt(2),Ji=BigInt(3),ga=BigInt(4);function Rp(n){const e=Tp(n),{Fp:t}=e,r=e.toBytes||((b,_,v)=>{const E=_.toAffine();return At(Uint8Array.from([4]),t.toBytes(E.x),t.toBytes(E.y))}),i=e.fromBytes||(b=>{const _=b.subarray(1),v=t.fromBytes(_.subarray(0,t.BYTES)),E=t.fromBytes(_.subarray(t.BYTES,2*t.BYTES));return{x:v,y:E}});function l(b){const{a:_,b:v}=e,E=t.sqr(b),I=t.mul(E,b);return t.add(t.add(I,t.mul(b,_)),v)}if(!t.eql(t.sqr(e.Gy),l(e.Gx)))throw new Error("bad generator point: equation left != right");function o(b){return typeof b=="bigint"&&Wt<b&&b<e.n}function s(b){if(!o(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function a(b){const{allowedPrivateKeyLengths:_,nByteLength:v,wrapPrivateKey:E,n:I}=e;if(_&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=kr(b)),typeof b!="string"||!_.includes(b.length))throw new Error("Invalid key");b=b.padStart(v*2,"0")}let S;try{S=typeof b=="bigint"?b:Ot(bt("private key",b,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof b}`)}return E&&(S=pt(S,I)),s(S),S}const u=new Map;function c(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(_,v,E){if(this.px=_,this.py=v,this.pz=E,_==null||!t.isValid(_))throw new Error("x required");if(v==null||!t.isValid(v))throw new Error("y required");if(E==null||!t.isValid(E))throw new Error("z required")}static fromAffine(_){const{x:v,y:E}=_||{};if(!_||!t.isValid(v)||!t.isValid(E))throw new Error("invalid affine point");if(_ instanceof f)throw new Error("projective point not allowed");const I=S=>t.eql(S,t.ZERO);return I(v)&&I(E)?f.ZERO:new f(v,E,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(_){const v=t.invertBatch(_.map(E=>E.pz));return _.map((E,I)=>E.toAffine(v[I])).map(f.fromAffine)}static fromHex(_){const v=f.fromAffine(i(bt("pointHex",_)));return v.assertValidity(),v}static fromPrivateKey(_){return f.BASE.multiply(a(_))}_setWindowSize(_){this._WINDOW_SIZE=_,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:_,y:v}=this.toAffine();if(!t.isValid(_)||!t.isValid(v))throw new Error("bad point: x or y not FE");const E=t.sqr(v),I=l(_);if(!t.eql(E,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:_}=this.toAffine();if(t.isOdd)return!t.isOdd(_);throw new Error("Field doesn't support isOdd")}equals(_){c(_);const{px:v,py:E,pz:I}=this,{px:S,py:N,pz:C}=_,O=t.eql(t.mul(v,C),t.mul(S,I)),D=t.eql(t.mul(E,C),t.mul(N,I));return O&&D}negate(){return new f(this.px,t.neg(this.py),this.pz)}double(){const{a:_,b:v}=e,E=t.mul(v,Ji),{px:I,py:S,pz:N}=this;let C=t.ZERO,O=t.ZERO,D=t.ZERO,A=t.mul(I,I),P=t.mul(S,S),L=t.mul(N,N),H=t.mul(I,S);return H=t.add(H,H),D=t.mul(I,N),D=t.add(D,D),C=t.mul(_,D),O=t.mul(E,L),O=t.add(C,O),C=t.sub(P,O),O=t.add(P,O),O=t.mul(C,O),C=t.mul(H,C),D=t.mul(E,D),L=t.mul(_,L),H=t.sub(A,L),H=t.mul(_,H),H=t.add(H,D),D=t.add(A,A),A=t.add(D,A),A=t.add(A,L),A=t.mul(A,H),O=t.add(O,A),L=t.mul(S,N),L=t.add(L,L),A=t.mul(L,H),C=t.sub(C,A),D=t.mul(L,P),D=t.add(D,D),D=t.add(D,D),new f(C,O,D)}add(_){c(_);const{px:v,py:E,pz:I}=this,{px:S,py:N,pz:C}=_;let O=t.ZERO,D=t.ZERO,A=t.ZERO;const P=e.a,L=t.mul(e.b,Ji);let H=t.mul(v,S),z=t.mul(E,N),V=t.mul(I,C),x=t.add(v,E),J=t.add(S,N);x=t.mul(x,J),J=t.add(H,z),x=t.sub(x,J),J=t.add(v,I);let q=t.add(S,C);return J=t.mul(J,q),q=t.add(H,V),J=t.sub(J,q),q=t.add(E,I),O=t.add(N,C),q=t.mul(q,O),O=t.add(z,V),q=t.sub(q,O),A=t.mul(P,J),O=t.mul(L,V),A=t.add(O,A),O=t.sub(z,A),A=t.add(z,A),D=t.mul(O,A),z=t.add(H,H),z=t.add(z,H),V=t.mul(P,V),J=t.mul(L,J),z=t.add(z,V),V=t.sub(H,V),V=t.mul(P,V),J=t.add(J,V),H=t.mul(z,J),D=t.add(D,H),H=t.mul(q,J),O=t.mul(x,O),O=t.sub(O,H),H=t.mul(x,z),A=t.mul(q,A),A=t.add(A,H),new f(O,D,A)}subtract(_){return this.add(_.negate())}is0(){return this.equals(f.ZERO)}wNAF(_){return p.wNAFCached(this,u,_,v=>{const E=t.invertBatch(v.map(I=>I.pz));return v.map((I,S)=>I.toAffine(E[S])).map(f.fromAffine)})}multiplyUnsafe(_){const v=f.ZERO;if(_===Wt)return v;if(s(_),_===lt)return this;const{endo:E}=e;if(!E)return p.unsafeLadder(this,_);let{k1neg:I,k1:S,k2neg:N,k2:C}=E.splitScalar(_),O=v,D=v,A=this;for(;S>Wt||C>Wt;)S&lt&&(O=O.add(A)),C&lt&&(D=D.add(A)),A=A.double(),S>>=lt,C>>=lt;return I&&(O=O.negate()),N&&(D=D.negate()),D=new f(t.mul(D.px,E.beta),D.py,D.pz),O.add(D)}multiply(_){s(_);let v=_,E,I;const{endo:S}=e;if(S){const{k1neg:N,k1:C,k2neg:O,k2:D}=S.splitScalar(v);let{p:A,f:P}=this.wNAF(C),{p:L,f:H}=this.wNAF(D);A=p.constTimeNegate(N,A),L=p.constTimeNegate(O,L),L=new f(t.mul(L.px,S.beta),L.py,L.pz),E=A.add(L),I=P.add(H)}else{const{p:N,f:C}=this.wNAF(v);E=N,I=C}return f.normalizeZ([E,I])[0]}multiplyAndAddUnsafe(_,v,E){const I=f.BASE,S=(C,O)=>O===Wt||O===lt||!C.equals(I)?C.multiplyUnsafe(O):C.multiply(O),N=S(this,v).add(S(_,E));return N.is0()?void 0:N}toAffine(_){const{px:v,py:E,pz:I}=this,S=this.is0();_==null&&(_=S?t.ONE:t.inv(I));const N=t.mul(v,_),C=t.mul(E,_),O=t.mul(I,_);if(S)return{x:t.ZERO,y:t.ZERO};if(!t.eql(O,t.ONE))throw new Error("invZ was invalid");return{x:N,y:C}}isTorsionFree(){const{h:_,isTorsionFree:v}=e;if(_===lt)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:_,clearCofactor:v}=e;return _===lt?this:v?v(f,this):this.multiplyUnsafe(e.h)}toRawBytes(_=!0){return this.assertValidity(),r(f,this,_)}toHex(_=!0){return kr(this.toRawBytes(_))}}f.BASE=new f(e.Gx,e.Gy,t.ONE),f.ZERO=new f(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,p=Dp(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:a,weierstrassEquation:l,isWithinCurveOrder:o}}function Vp(n){const e=_d(n);return Nr(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Bp(n){const e=Vp(n),{Fp:t,n:r}=e,i=t.BYTES+1,l=2*t.BYTES+1;function o(J){return Wt<J&&J<t.ORDER}function s(J){return pt(J,r)}function a(J){return go(J,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:d}=Rp({...e,toBytes(J,q,Z){const oe=q.toAffine(),Y=t.toBytes(oe.x),Q=At;return Z?Q(Uint8Array.from([q.hasEvenY()?2:3]),Y):Q(Uint8Array.from([4]),Y,t.toBytes(oe.y))},fromBytes(J){const q=J.length,Z=J[0],oe=J.subarray(1);if(q===i&&(Z===2||Z===3)){const Y=Ot(oe);if(!o(Y))throw new Error("Point is not on curve");const Q=f(Y);let G=t.sqrt(Q);const fe=(G&lt)===lt;return(Z&1)===1!==fe&&(G=t.neg(G)),{x:Y,y:G}}else if(q===l&&Z===4){const Y=t.fromBytes(oe.subarray(0,t.BYTES)),Q=t.fromBytes(oe.subarray(t.BYTES,2*t.BYTES));return{x:Y,y:Q}}else throw new Error(`Point of length ${q} was invalid. Expected ${i} compressed bytes or ${l} uncompressed bytes`)}}),p=J=>kr(zn(J,e.nByteLength));function b(J){const q=r>>lt;return J>q}function _(J){return b(J)?s(-J):J}const v=(J,q,Z)=>Ot(J.slice(q,Z));class E{constructor(q,Z,oe){this.r=q,this.s=Z,this.recovery=oe,this.assertValidity()}static fromCompact(q){const Z=e.nByteLength;return q=bt("compactSignature",q,Z*2),new E(v(q,0,Z),v(q,Z,2*Z))}static fromDER(q){const{r:Z,s:oe}=xn.toSig(bt("DER",q));return new E(Z,oe)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(q){return new E(this.r,this.s,q)}recoverPublicKey(q){const{r:Z,s:oe,recovery:Y}=this,Q=D(bt("msgHash",q));if(Y==null||![0,1,2,3].includes(Y))throw new Error("recovery id invalid");const G=Y===2||Y===3?Z+e.n:Z;if(G>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const fe=Y&1?"03":"02",ue=u.fromHex(fe+p(G)),X=a(G),K=s(-Q*X),se=s(oe*X),te=u.BASE.multiplyAndAddUnsafe(ue,K,se);if(!te)throw new Error("point at infinify");return te.assertValidity(),te}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Er(this.toDERHex())}toDERHex(){return xn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Er(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const I={isValidPrivateKey(J){try{return c(J),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const J=e.randomBytes(t.BYTES+8),q=Np(J,r);return zn(q,e.nByteLength)},precompute(J=8,q=u.BASE){return q._setWindowSize(J),q.multiply(BigInt(3)),q}};function S(J,q=!0){return u.fromPrivateKey(J).toRawBytes(q)}function N(J){const q=J instanceof Uint8Array,Z=typeof J=="string",oe=(q||Z)&&J.length;return q?oe===i||oe===l:Z?oe===2*i||oe===2*l:J instanceof u}function C(J,q,Z=!0){if(N(J))throw new Error("first arg must be private key");if(!N(q))throw new Error("second arg must be public key");return u.fromHex(q).multiply(c(J)).toRawBytes(Z)}const O=e.bits2int||function(J){const q=Ot(J),Z=J.length*8-e.nBitLength;return Z>0?q>>BigInt(Z):q},D=e.bits2int_modN||function(J){return s(O(J))},A=Ko(e.nBitLength);function P(J){if(typeof J!="bigint")throw new Error("bigint expected");if(!(Wt<=J&&J<A))throw new Error(`bigint expected < 2^${e.nBitLength}`);return zn(J,e.nByteLength)}function L(J,q,Z=H){if(["recovered","canonical"].some(he=>he in Z))throw new Error("sign() legacy options not supported");const{hash:oe,randomBytes:Y}=e;let{lowS:Q,prehash:G,extraEntropy:fe}=Z;Q==null&&(Q=!0),J=bt("msgHash",J),G&&(J=bt("prehashed msgHash",oe(J)));const ue=D(J),X=c(q),K=[P(X),P(ue)];if(fe!=null){const he=fe===!0?Y(t.BYTES):fe;K.push(bt("extraEntropy",he,t.BYTES))}const se=At(...K),te=ue;function be(he){const de=O(he);if(!d(de))return;const _e=a(de),ge=u.BASE.multiply(de).toAffine(),Ie=s(ge.x);if(Ie===Wt)return;const Le=s(_e*s(te+Ie*X));if(Le===Wt)return;let ze=(ge.x===Ie?0:2)|Number(ge.y&lt),Ae=Le;return Q&&b(Le)&&(Ae=_(Le),ze^=1),new E(Ie,Ae,ze)}return{seed:se,k2sig:be}}const H={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function V(J,q,Z=H){const{seed:oe,k2sig:Y}=L(J,q,Z);return md(e.hash.outputLen,e.nByteLength,e.hmac)(oe,Y)}u.BASE._setWindowSize(8);function x(J,q,Z,oe=z){var Y;const Q=J;if(q=bt("msgHash",q),Z=bt("publicKey",Z),"strict"in oe)throw new Error("options.strict was renamed to lowS");const{lowS:G,prehash:fe}=oe;let ue,X;try{if(typeof Q=="string"||Q instanceof Uint8Array)try{ue=E.fromDER(Q)}catch(ge){if(!(ge instanceof xn.Err))throw ge;ue=E.fromCompact(Q)}else if(typeof Q=="object"&&typeof Q.r=="bigint"&&typeof Q.s=="bigint"){const{r:ge,s:Ie}=Q;ue=new E(ge,Ie)}else throw new Error("PARSE");X=u.fromHex(Z)}catch(ge){if(ge.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(G&&ue.hasHighS())return!1;fe&&(q=e.hash(q));const{r:K,s:se}=ue,te=D(q),be=a(se),he=s(te*be),de=s(K*be),_e=(Y=u.BASE.multiplyAndAddUnsafe(X,he,de))==null?void 0:Y.toAffine();return _e?s(_e.x)===K:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:C,sign:V,verify:x,ProjectivePoint:u,Signature:E,utils:I}}function Mp(n,e){const t=n.ORDER;let r=Wt;for(let d=t-lt;d%pn===Wt;d/=pn)r+=lt;const i=r,l=(t-lt)/pn**i,o=(l-lt)/pn,s=pn**i-lt,a=pn**(i-lt),u=n.pow(e,l),c=n.pow(e,(l+lt)/pn);let f=(d,p)=>{let b=u,_=n.pow(p,s),v=n.sqr(_);v=n.mul(v,p);let E=n.mul(d,v);E=n.pow(E,o),E=n.mul(E,_),_=n.mul(E,p),v=n.mul(E,d);let I=n.mul(v,_);E=n.pow(I,a);let S=n.eql(E,n.ONE);_=n.mul(v,c),E=n.mul(I,b),v=n.cmov(_,v,S),I=n.cmov(E,I,S);for(let N=i;N>lt;N--){let C=pn**(N-pn),O=n.pow(I,C);const D=n.eql(O,n.ONE);_=n.mul(v,b),b=n.mul(b,b),O=n.mul(I,b),v=n.cmov(_,v,D),I=n.cmov(O,I,D)}return{isValid:S,value:v}};if(n.ORDER%ga===Ji){const d=(n.ORDER-Ji)/ga,p=n.sqrt(n.neg(e));f=(b,_)=>{let v=n.sqr(_);const E=n.mul(b,_);v=n.mul(v,E);let I=n.pow(v,d);I=n.mul(I,E);const S=n.mul(I,p),N=n.mul(n.sqr(I),_),C=n.eql(N,b);let O=n.cmov(S,I,C);return{isValid:C,value:O}}}return f}function Lp(n,e){if(gd(n),!n.isValid(e.A)||!n.isValid(e.B)||!n.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const t=Mp(n,e.Z);if(!n.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,l,o,s,a,u,c,f;i=n.sqr(r),i=n.mul(i,e.Z),l=n.sqr(i),l=n.add(l,i),o=n.add(l,n.ONE),o=n.mul(o,e.B),s=n.cmov(e.Z,n.neg(l),!n.eql(l,n.ZERO)),s=n.mul(s,e.A),l=n.sqr(o),u=n.sqr(s),a=n.mul(u,e.A),l=n.add(l,a),l=n.mul(l,o),u=n.mul(u,s),a=n.mul(u,e.B),l=n.add(l,a),c=n.mul(i,o);const{isValid:d,value:p}=t(l,u);f=n.mul(i,r),f=n.mul(f,p),c=n.cmov(c,o,d),f=n.cmov(f,p,d);const b=n.isOdd(r)===n.isOdd(f);return f=n.cmov(n.neg(f),f,b),c=n.div(c,s),{x:c,y:f}}}function qp(n){if(n instanceof Uint8Array)return n;if(typeof n=="string")return sl(n);throw new Error("DST must be Uint8Array or string")}const Up=Ot;function Vn(n,e){if(n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function zp(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function Hr(n){if(!(n instanceof Uint8Array))throw new Error("Uint8Array expected")}function Wo(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function Fp(n,e,t,r){Hr(n),Hr(e),Wo(t),e.length>255&&(e=r(At(sl("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:l}=r,o=Math.ceil(t/i);if(o>255)throw new Error("Invalid xmd length");const s=At(e,Vn(e.length,1)),a=Vn(0,l),u=Vn(t,2),c=new Array(o),f=r(At(a,n,u,Vn(0,1),s));c[0]=r(At(f,Vn(1,1),s));for(let d=1;d<=o;d++){const p=[zp(f,c[d-1]),Vn(d+1,1),s];c[d]=r(At(...p))}return At(...c).slice(0,t)}function jp(n,e,t,r,i){if(Hr(n),Hr(e),Wo(t),e.length>255){const l=Math.ceil(2*r/8);e=i.create({dkLen:l}).update(sl("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:t}).update(n).update(Vn(t,2)).update(e).update(Vn(e.length,1)).digest()}function _a(n,e,t){Nr(t,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:l,hash:o,expand:s,DST:a}=t;Hr(n),Wo(e);const u=qp(a),c=r.toString(2).length,f=Math.ceil((c+i)/8),d=e*l*f;let p;if(s==="xmd")p=Fp(n,u,d,o);else if(s==="xof")p=jp(n,u,d,i,o);else if(s==="_internal_pass")p=n;else throw new Error('expand must be "xmd" or "xof"');const b=new Array(e);for(let _=0;_<e;_++){const v=new Array(l);for(let E=0;E<l;E++){const I=f*(E+_*l),S=p.subarray(I,I+f);v[E]=pt(Up(S),r)}b[_]=v}return b}function Jp(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[l,o,s,a]=t.map(u=>u.reduce((c,f)=>n.add(n.mul(c,r),f)));return r=n.div(l,o),i=n.mul(i,n.div(s,a)),{x:r,y:i}}}function Hp(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const l=_a(r,2,{...t,DST:t.DST,...i}),o=n.fromAffine(e(l[0])),s=n.fromAffine(e(l[1])),a=o.add(s).clearCofactor();return a.assertValidity(),a},encodeToCurve(r,i){const l=_a(r,1,{...t,DST:t.encodeDST,...i}),o=n.fromAffine(e(l[0])).clearCofactor();return o.assertValidity(),o}}}class bd extends ad{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Xn.hash(e);const r=Jo(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,l=new Uint8Array(i);l.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<l.length;o++)l[o]^=54;this.iHash.update(l),this.oHash=e.create();for(let o=0;o<l.length;o++)l[o]^=106;this.oHash.update(l),l.fill(0)}update(e){return Xn.exists(this),this.iHash.update(e),this}digestInto(e){Xn.exists(this),Xn.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:l,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=l,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vd=(n,e,t)=>new bd(n,e).update(t).digest();vd.create=(n,e)=>new bd(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $p(n){return{hash:n,hmac:(e,...t)=>vd(n,e,rp(...t)),randomBytes:cd}}function Kp(n,e){const t=r=>Bp({...n,...$p(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const al=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Hi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),yd=BigInt(1),$i=BigInt(2),ba=(n,e)=>(n+e/$i)/e;function wd(n){const e=al,t=BigInt(3),r=BigInt(6),i=BigInt(11),l=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),u=n*n*n%e,c=u*u*n%e,f=Ut(c,t,e)*c%e,d=Ut(f,t,e)*c%e,p=Ut(d,$i,e)*u%e,b=Ut(p,i,e)*p%e,_=Ut(b,l,e)*b%e,v=Ut(_,s,e)*_%e,E=Ut(v,a,e)*v%e,I=Ut(E,s,e)*_%e,S=Ut(I,t,e)*c%e,N=Ut(S,o,e)*b%e,C=Ut(N,r,e)*u%e,O=Ut(C,$i,e);if(!Jn.eql(Jn.sqr(O),n))throw new Error("Cannot find square root");return O}const Jn=Sp(al,void 0,void 0,{sqrt:wd}),ul=Kp({a:BigInt(0),b:BigInt(7),Fp:Jn,n:Hi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Hi,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),l=t,o=BigInt("0x100000000000000000000000000000000"),s=ba(l*n,e),a=ba(-r*n,e);let u=pt(n-s*t-a*i,e),c=pt(-s*r-a*l,e);const f=u>o,d=c>o;if(f&&(u=e-u),d&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:f,k1:u,k2neg:d,k2:c}}}},Jr),cl=BigInt(0),kd=n=>typeof n=="bigint"&&cl<n&&n<al,Qp=n=>typeof n=="bigint"&&cl<n&&n<Hi,va={};function Ki(n,...e){let t=va[n];if(t===void 0){const r=Jr(Uint8Array.from(n,i=>i.charCodeAt(0)));t=At(r,r),va[n]=t}return Jr(At(t,...e))}const Go=n=>n.toRawBytes(!0).slice(1),_o=n=>zn(n,32),Gl=n=>pt(n,al),$r=n=>pt(n,Hi),Zo=ul.ProjectivePoint,Wp=(n,e,t)=>Zo.BASE.multiplyAndAddUnsafe(n,e,t);function bo(n){let e=ul.utils.normPrivateKeyToScalar(n),t=Zo.fromPrivateKey(e);return{scalar:t.hasEvenY()?e:$r(-e),bytes:Go(t)}}function Ed(n){if(!kd(n))throw new Error("bad x: need 0 < x < p");const e=Gl(n*n),t=Gl(e*n+BigInt(7));let r=wd(t);r%$i!==cl&&(r=Gl(-r));const i=new Zo(n,r,yd);return i.assertValidity(),i}function Od(...n){return $r(Ot(Ki("BIP0340/challenge",...n)))}function Gp(n){return bo(n).bytes}function Zp(n,e,t=cd(32)){const r=bt("message",n),{bytes:i,scalar:l}=bo(e),o=bt("auxRand",t,32),s=_o(l^Ot(Ki("BIP0340/aux",o))),a=Ki("BIP0340/nonce",s,i,r),u=$r(Ot(a));if(u===cl)throw new Error("sign failed: k is zero");const{bytes:c,scalar:f}=bo(u),d=Od(c,i,r),p=new Uint8Array(64);if(p.set(c,0),p.set(_o($r(f+d*l)),32),!Id(p,r,i))throw new Error("sign: Invalid signature produced");return p}function Id(n,e,t){const r=bt("signature",n,64),i=bt("message",e),l=bt("publicKey",t,32);try{const o=Ed(Ot(l)),s=Ot(r.subarray(0,32));if(!kd(s))return!1;const a=Ot(r.subarray(32,64));if(!Qp(a))return!1;const u=Od(_o(s),Go(o),i),c=Wp(o,a,$r(-u));return!(!c||!c.hasEvenY()||c.toAffine().x!==s)}catch{return!1}}const Yo={getPublicKey:Gp,sign:Zp,verify:Id,utils:{randomPrivateKey:ul.utils.randomPrivateKey,lift_x:Ed,pointToBytes:Go,numberToBytesBE:zn,bytesToNumberBE:Ot,taggedHash:Ki,mod:pt}},Yp=Jp(Jn,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(n=>n.map(e=>BigInt(e)))),Xp=Lp(Jn,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Jn.create(BigInt("-11"))});Hp(ul.ProjectivePoint,n=>{const{x:e,y:t}=Xp(Jn.create(n[0]));return Yp(e,t)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Jn.ORDER,m:1,k:128,expand:"xmd",hash:Jr});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cr(n){if(!Number.isSafeInteger(n))throw new Error(`Wrong integer: ${n}`)}function _n(...n){const e=(i,l)=>o=>i(l(o)),t=Array.from(n).reverse().reduce((i,l)=>i?e(i,l.encode):l.encode,void 0),r=n.reduce((i,l)=>i?e(i,l.decode):l.decode,void 0);return{encode:t,decode:r}}function bn(n){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(t=>{if(Cr(t),t<0||t>=n.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${n.length})`);return n[t]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(t=>{if(typeof t!="string")throw new Error(`alphabet.decode: not string element=${t}`);const r=n.indexOf(t);if(r===-1)throw new Error(`Unknown letter: "${t}". Allowed: ${n}`);return r})}}}function vn(n=""){if(typeof n!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let t of e)if(typeof t!="string")throw new Error(`join.encode: non-string input=${t}`);return e.join(n)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(n)}}}function fl(n,e="="){if(Cr(n),typeof e!="string")throw new Error("padding chr should be string");return{encode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;t.length*n%8;)t.push(e);return t},decode(t){if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of t)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let r=t.length;if(r*n%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&t[r-1]===e;r--)if(!((r-1)*n%8))throw new Error("Invalid padding: string has too much padding");return t.slice(0,r)}}}function Sd(n){if(typeof n!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>n(e)}}function ya(n,e,t){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: wrong to=${t}, base cannot be less than 2`);if(!Array.isArray(n))throw new Error("convertRadix: data should be array");if(!n.length)return[];let r=0;const i=[],l=Array.from(n);for(l.forEach(o=>{if(Cr(o),o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,s=!0;for(let a=r;a<l.length;a++){const u=l[a],c=e*o+u;if(!Number.isSafeInteger(c)||e*o/e!==o||c-u!==e*o)throw new Error("convertRadix: carry overflow");if(o=c%t,l[a]=Math.floor(c/t),!Number.isSafeInteger(l[a])||l[a]*t+o!==c)throw new Error("convertRadix: carry overflow");if(s)l[a]?s=!1:r=a;else continue}if(i.push(o),s)break}for(let o=0;o<n.length-1&&n[o]===0;o++)i.push(0);return i.reverse()}const Nd=(n,e)=>e?Nd(e,n%e):n,Qi=(n,e)=>n+(e-Nd(n,e));function vo(n,e,t,r){if(!Array.isArray(n))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(Qi(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${Qi(e,t)}`);let i=0,l=0;const o=2**t-1,s=[];for(const a of n){if(Cr(a),a>=2**e)throw new Error(`convertRadix2: invalid data word=${a} from=${e}`);if(i=i<<e|a,l+e>32)throw new Error(`convertRadix2: carry overflow pos=${l} from=${e}`);for(l+=e;l>=t;l-=t)s.push((i>>l-t&o)>>>0);i&=2**l-1}if(i=i<<t-l&o,!r&&l>=e)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&l>0&&s.push(i>>>0),s}function xp(n){return Cr(n),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ya(Array.from(e),2**8,n)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ya(e,n,2**8))}}}function $n(n,e=!1){if(Cr(n),n<=0||n>32)throw new Error("radix2: bits should be in (0..32]");if(Qi(8,n)>32||Qi(n,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return vo(Array.from(t),8,n,!e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(vo(t,n,8,e))}}}function wa(n){if(typeof n!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return n.apply(null,e)}catch{}}}const em=_n($n(4),bn("0123456789ABCDEF"),vn("")),tm=_n($n(5),bn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),fl(5),vn(""));_n($n(5),bn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),fl(5),vn(""));_n($n(5),bn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),vn(""),Sd(n=>n.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const nm=_n($n(6),bn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),fl(6),vn("")),rm=_n($n(6),bn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),fl(6),vn("")),Xo=n=>_n(xp(58),bn(n),vn("")),yo=Xo("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Xo("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Xo("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const ka=[0,2,3,5,6,7,9,10,11],im={encode(n){let e="";for(let t=0;t<n.length;t+=8){const r=n.subarray(t,t+8);e+=yo.encode(r).padStart(ka[r.length],"1")}return e},decode(n){let e=[];for(let t=0;t<n.length;t+=11){const r=n.slice(t,t+11),i=ka.indexOf(r.length),l=yo.decode(r);for(let o=0;o<l.length-i;o++)if(l[o]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(l.slice(l.length-i)))}return Uint8Array.from(e)}},wo=_n(bn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),vn("")),Ea=[996825010,642813549,513874426,1027748829,705979059];function Lr(n){const e=n>>25;let t=(n&33554431)<<5;for(let r=0;r<Ea.length;r++)(e>>r&1)===1&&(t^=Ea[r]);return t}function Oa(n,e,t=1){const r=n.length;let i=1;for(let l=0;l<r;l++){const o=n.charCodeAt(l);if(o<33||o>126)throw new Error(`Invalid prefix (${n})`);i=Lr(i)^o>>5}i=Lr(i);for(let l=0;l<r;l++)i=Lr(i)^n.charCodeAt(l)&31;for(let l of e)i=Lr(i)^l;for(let l=0;l<6;l++)i=Lr(i);return i^=t,wo.encode(vo([i%2**30],30,5,!1))}function Cd(n){const e=n==="bech32"?1:734539939,t=$n(5),r=t.decode,i=t.encode,l=wa(r);function o(c,f,d=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const p=c.length+7+f.length;if(d!==!1&&p>d)throw new TypeError(`Length ${p} exceeds limit ${d}`);return c=c.toLowerCase(),`${c}1${wo.encode(f)}${Oa(c,f,e)}`}function s(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const d=c.toLowerCase();if(c!==d&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=d;const p=c.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');const b=c.slice(0,p),_=c.slice(p+1);if(_.length<6)throw new Error("Data must be at least 6 characters long");const v=wo.decode(_).slice(0,-6),E=Oa(b,v,e);if(!_.endsWith(E))throw new Error(`Invalid checksum in ${c}: expected "${E}"`);return{prefix:b,words:v}}const a=wa(s);function u(c){const{prefix:f,words:d}=s(c,!1);return{prefix:f,words:d,bytes:r(d)}}return{encode:o,decode:s,decodeToBytes:u,decodeUnsafe:a,fromWords:r,fromWordsUnsafe:l,toWords:i}}const Ia=Cd("bech32");Cd("bech32m");const lm={encode:n=>new TextDecoder().decode(n),decode:n=>new TextEncoder().encode(n)},om=_n($n(4),bn("0123456789abcdef"),vn(""),Sd(n=>{if(typeof n!="string"||n.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof n} with length ${n.length}`);return n.toLowerCase()})),sm={utf8:lm,hex:om,base16:em,base32:tm,base64:nm,base64url:rm,base58:yo,base58xmr:im};`${Object.keys(sm).join(", ")}`;function Sa(n){const{words:e}=Ia.decode(n),t=new Uint8Array(Ia.fromWords(e));return il(t)}const am=new TextEncoder;function um(n){return il(Yo.getPublicKey(n))}function cm(n,e){const t=e!=null&&e.startsWith("nsec1")?Sa(e):e,r=n.pubkey?n.pubkey.startsWith("npub1")?Sa(n.pubkey):n.pubkey:um(t),i={...n,tags:n.tags??[],pubkey:r,created_at:n.created_at??Td()},l=i.id??Dd(i),o=i.sig??dm(l,t);return{...i,id:l,sig:o}}async function fm(n){var e;const t=(e=window??{})==null?void 0:e.nostr;if(!t)throw new Error("NIP-07 interface is not ready.");return t.signEvent({kind:n.kind,tags:n.tags??[],content:n.content,created_at:n.created_at??Td()})}function Dd(n){const e=JSON.stringify([0,n.pubkey,n.created_at,n.kind,n.tags,n.content]);return il(Jr(am.encode(e)))}function dm(n,e){return il(Yo.sign(n,e))}function hm(n){try{return Yo.verify(n.sig,Dd(n),n.pubkey)}catch(e){return console.warn("The following error occurred during verify():",e),!1}}function Td(){return Math.floor(new Date().getTime()/1e3)}function Or(n){return V0(({event:e})=>e.id,n)}function xo(){return zi(j0((n,e)=>n.event.created_at<e.event.created_at?e:n),B0((n,e)=>n===e,({event:n})=>n.id))}function pm(n){return zi(od(n),hr(zi(xo())),Fo())}function Hn(){return jr(({event:n})=>hm(n))}function mm(n){return jr(({event:e})=>e.kind===n)}function Wi(n){return zi(S0(n),jo(e=>{if(e instanceof ld)return Fi;throw e}))}function gm(n){return e=>Object.fromEntries(Object.keys(n).map(t=>[t,(e==null?void 0:e[t])??n[t]]))}function _m(){const n=new nn;return[n.pipe(Pi({next(){n.complete()}})),()=>n.next(1)]}var ko;(n=>{(e=>{e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Blank=255]="Blank",e[e.Report=1984]="Report",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.RelayList=10002]="RelayList",e[e.Auth=22242]="Auth",e[e.BadgeDefinition=30008]="BadgeDefinition",e[e.ProfileBadge=30009]="ProfileBadge",e[e.Article=30023]="Article"})(n.Kind||(n.Kind={}))})(ko||(ko={}));class Ad{constructor(e){Rn(this,"filters$",new s0(null)),Rn(this,"_rxReqId"),this._rxReqId=e??wm()}get rxReqId(){return this._rxReqId}getReqObservable(){return this.filters$.asObservable()}emit(e){const t=Em(e);t?this.filters$.next(t):this.filters$.next(null)}pipe(...e){const t=this.rxReqId,r=this.strategy;return{...this,get rxReqId(){return t},get strategy(){return r},getReqObservable:()=>this.getReqObservable().pipe(...e)}}}function bm(n){return new vm(n)}class vm extends Ad{constructor(e){super(e)}get strategy(){return"forward"}}function dl(n){return new ym(n)}class ym extends Ad{constructor(e){super(e==null?void 0:e.subId),this.emit(e.filters)}get strategy(){return"oneshot"}}function wm(){return`${Math.floor(Math.random()*1e6)}`}function km(n){const e={};for(const[t,r]of Object.entries(n)){if((t==="since"||t==="until"||t==="limit")&&(r??-1)>=0){e[t]=r;continue}if((t.startsWith("#")&&t.length===2||t==="ids"||t==="kinds"||t==="authors")&&r&&r.length>0){e[t]=r;continue}}return!(!e.since||!e.until||e.since<=e.until)||Object.keys(e).length<=0?null:e}function Em(n){if(!n)return null;const e=n.flatMap(t=>km(t)??[]);return e.length>0?e:null}function Yr(n){return new Sm(n)}const Om=gm({rxNostrId:void 0,retry:10,timeout:1e4});let Im=0;class Sm{constructor(e){Rn(this,"options"),Rn(this,"relays",{}),Rn(this,"activeReqs",{}),Rn(this,"message$",new nn),Rn(this,"error$",new nn),Rn(this,"status$",new nn);const t=Om(e);this.options={...t,rxNostrId:t.rxNostrId??`rx-nostr${Im++}`}}getRelays(){return Object.values(this.relays).map(({url:e,read:t,write:r})=>({url:e,read:t,write:r}))}createWebsocket(e){const t=G0(e);let r="not-started";const i=s=>{r!==s&&(r=s,this.status$.next({from:e,state:r}))},l=t.pipe(Pi({subscribe:()=>{i(r==="not-started"?"starting":"reconnecting")},next:()=>{i("ongoing")},complete:()=>{i("terminated")}}),F0(this.options.retry),jo(s=>(this.relays[e].activeSubIds.clear(),this.error$.next({from:e,reason:s}),i("error"),Fi))),o=()=>{l.subscribe(s=>{this.message$.next({from:e,message:s})})};return{send:s=>{t.next(s)},ensure:()=>{r==="not-started"&&i("not-started"),(r==="not-started"||r==="error")&&o()},close:()=>{t.complete()},reconnect:()=>{if(r==="error")o();else throw new Error("reconnect() can be called only in 'error' state")},getState:()=>r}}setRelays(e){const t=this.createWebsocket.bind(this),r=a(this.relays,e),i=this.getReadableUrls(),l=this.getReadableUrls(Object.values(r)),o=c(i,l);for(const f of o)this.finalizeReq({url:f});const s=c(l,i);for(const f of Object.values(this.activeReqs))this.ensureReq(f,{relays:s.map(d=>r[d])});this.relays=r;for(const f of Object.values(r))f.websocket.ensure();function a(f,d){const p={};for(const b of Array.isArray(d)?d.map(u):Object.entries(d).map(([_,v])=>({url:_,...v}))){const _=b.url,v=f[_],E=(v==null?void 0:v.websocket)??t(_),I=(v==null?void 0:v.activeSubIds)??new Set;p[b.url]={...b,websocket:E,activeSubIds:I}}return p}function u(f){const d=typeof f=="string"?{url:f,read:!0,write:!0}:f;return d.url=W1(d.url,{normalizeProtocol:!1}),d}function c(f,d){return f.filter(p=>!d.includes(p))}}addRelay(e){this.setRelays([...this.getRelays(),e])}removeRelay(e){const t=this.getRelays(),r=t.filter(i=>i.url!==e);t.length!==r.length&&this.setRelays(r)}hasRelay(e){return this.getRelays().some(t=>t.url===e)}getAllRelayState(){return Object.fromEntries(Object.values(this.relays).map(e=>[e.url,this.getRelayState(e.url)]))}getRelayState(e){var t;const r=this.relays[e];if(!r)throw new Error("Relay not found");return((t=r.websocket)==null?void 0:t.getState())??"not-started"}reconnect(e){var t;return(t=this.relays[e].websocket)==null?void 0:t.reconnect()}use(e){const t=this.options.timeout,r=e.strategy,i=this.options.rxNostrId,l=e.rxReqId,o=this.ensureReq.bind(this),s=this.finalizeReq.bind(this),a=E=>{const I=E[1];this.activeReqs[I]=E},u=E=>{delete this.activeReqs[E]},c=()=>this.getReadableUrls().length,f=E=>{const I=c(),[S,N]=_m();return[this.message$.pipe(b(E),_(),r==="oneshot"?ho(I):$0(S),ji(C=>{const O=C.key;return p({message$:C,completeOnEose:r!=="forward",url:O,subId:E}).pipe(r!=="forward"?Wi(t):Gt,r!=="forward"?Hl(()=>{s({subId:E,url:O})}):Gt)})),N]},d=e.getReqObservable().pipe(jr(E=>E!==null),v(),Pi({next:E=>{r==="forward"&&a(E),o(E,{overwrite:r==="forward"})},finalize:()=>{r==="forward"&&u(Zl({rxNostrId:i,rxReqId:l}))}}),r==="oneshot"?U0():Gt,hr(([,E])=>f(E)));return T0(da(null),d).pipe(z0(),Pi(([E])=>{E!==null&&E[1]()}),hr(([,E])=>E[0]),r==="forward"?H0():Fo(),r==="forward"?Hl(()=>{s({subId:Zl({rxNostrId:i,rxReqId:l})})}):Gt);function p(E){const{url:I,subId:S,message$:N,completeOnEose:C}=E;return new vt(O=>{const D=N.subscribe({next:({message:A})=>{const P=A[0];P==="EVENT"?O.next({from:I,subId:S,event:A[2]}):P==="EOSE"&&C&&O.complete()},complete:()=>{O.complete()},error:A=>{O.error(A)}});return()=>{D.unsubscribe()}})}function b(E){return jr(I=>(I.message[0]==="EVENT"||I.message[0]==="EOSE")&&I.message[1]===E)}function _(){return od(({from:E})=>E)}function v(){const E=I=>Zl({rxNostrId:i,rxReqId:l,index:I});switch(r){case"backward":return hr((I,S)=>["REQ",E(S),...I]);case"forward":case"oneshot":return hr(I=>["REQ",E(),...I])}}}createAllEventObservable(){return this.message$.asObservable().pipe(ji(({from:e,message:t})=>t[0]==="EVENT"?da({from:e,subId:t[1],event:t[2]}):Fi))}createAllErrorObservable(){return this.error$.asObservable()}createAllMessageObservable(){return this.message$.asObservable()}createConnectionStateObservable(){return this.status$.asObservable()}send(e,t){const r=this.getWritableUrls(),i=new Ai(r.length);let l=null;return(t?Promise.resolve(cm(e,t)):fm(e)).then(o=>{i.closed||(l=this.createAllMessageObservable().subscribe(({from:s,message:a})=>{a[0]==="OK"&&i.next({from:s,id:o.id})}));for(const s of r)this.relays[s].websocket.send(["EVENT",o])}),i.pipe(ho(r.length),Hl(()=>{i.complete(),i.unsubscribe(),l==null||l.unsubscribe()}))}dispose(){this.message$.complete(),this.error$.complete();for(const e of Object.values(this.relays))e.websocket.close()}ensureReq(e,t){const r=e[1];for(const i of(t==null?void 0:t.relays)??Object.values(this.relays))!i.read||!(t!=null&&t.overwrite)&&i.activeSubIds.has(r)||(i.websocket.send(e),i.activeSubIds.add(r))}finalizeReq(e){const{subId:t,url:r}=e;if(t===void 0&&r===void 0)throw new Error;const i=r?[this.relays[r]]:Object.values(this.relays);for(const l of i){const o=t?[t]:Array.from(l.activeSubIds);for(const s of o)l.activeSubIds.has(s)&&l.websocket.send(["CLOSE",s]),l.activeSubIds.delete(s)}}getReadableUrls(e){return(e??Object.values(this.relays)).filter(t=>t.read).map(t=>t.url)}getWritableUrls(e){return(e??Object.values(this.relays)).filter(t=>t.write).map(t=>t.url)}}function Zl(n){return`${n.rxNostrId}:${n.rxReqId}:${n.index??0}`}const Nm={searchRelays:[],bookmarkRelays:[],postRelays:[],relayEvent:void 0},ln=rn({}),Cm=["wss://directory.yabu.me","wss://purplepag.es","wss://relay.nostr.band","wss://nos.lol"],Yl=["wss://relay.nostr.band","wss://nos.lol","wss://relayable.org"],Pd=rn(new Map);function es(n){const e=n[1].split(":");return n.length>2&&n[2]!==""?{kind:Number(e[0]),pubkey:e.length>1?e[1]:"",identifier:e.length>2?e[2]:"",relays:[n[2]]}:{kind:Number(e[0]),pubkey:e.length>1?e[1]:"",identifier:e.length>2?e[2]:""}}async function Na(n){if(n[0]==="e")return{id:n[1],filter:{ids:[n[1]]}};if(n[0]==="a"){const e=es(n);if(!e.pubkey)return{id:n[1],filter:{}};const t=e.identifier.trim()!==""?{authors:[e.pubkey],"#d":[e.identifier],kinds:[e.kind]}:{authors:[e.pubkey],kinds:[e.kind]};return{id:"",kind:e.kind,filter:t}}else return{id:n[1],filter:{}}}function Eo(n){window.open(`https://nostr.band/?q=${n}`,"_blank")}function ur(n){let e="";for(const t in n)e+=n[t]?`OK ${t}<br/>`:`failed ${t}<br/>`;return e}async function Rd(){let n="";const e=Ct.subscribe(t=>{n=t});if(n&&n!=="")return n;{const t=st(tl);if(t&&t!=="")try{return Ct.set(Vo(t)),e(),n}catch{try{return Ct.set(await window.nostr.getPublicKey()),e(),n}catch{return e(),""}}else try{return Ct.set(await window.nostr.getPublicKey()),e(),n}catch{return e(),""}}}async function hl(n,e){const t=st(tl);if(t&&t!=="")try{return await af.decrypt(t,Vo(t),e)}catch{try{return await window.nostr.nip04.decrypt(n,e)}catch(i){throw i}}else try{return await window.nostr.nip04.decrypt(n,e)}catch(r){throw r}}async function ts(n,e){const t=st(tl);if(t&&t!=="")try{return await af.encrypt(t,Vo(t),e)}catch{try{return await window.nostr.nip04.encrypt(n,e)}catch(i){throw i}}else try{return await window.nostr.nip04.encrypt(n,e)}catch(r){throw r}}function Dm(){return n=>new sn(e=>{const t=new Map;n.subscribe({next(r){console.log(r);const i=r.event.tags.find(l=>l[0]==="d");if(i){const l=i[1],o=t.get(l);(!o||r.event.created_at>o.event.created_at)&&t.set(l,r)}},complete(){Array.from(t.values()).forEach(i=>e.next(i)),e.complete()},error(r){e.error(r)}})})}async function Tm(n,e){if(console.log("fetchFilteredEvents "+JSON.stringify(e[0])),n.length===0)return console.error("relay設定されてない"),[];const t=Yr();t.setRelays(n),console.log("[rx-nostr getRelays]",t.getRelays());const r=dl({filters:e}),i=e[0].kinds&&e[0].kinds[0]>=3e4&&e[0].kinds[0]<4e4?t.use(r).pipe(Wi(3e3),Or(),Hn(),Dm()):t.use(r).pipe(Or(),Hn(),xo(),Wi(3e3));let l=[];const o={next:a=>{console.log("[rx-nostr packet]",a),e[0].kinds&&(e[0].kinds[0]<3e4||e[0].kinds[0]>=4e4)?l.length===0?l.push(a.event):a.event.created_at>l[0].created_at&&(l[0]=a.event):l.push(a.event)},error:a=>{console.error("Error occurred:",a)},complete:()=>{console.log("Subscription completed")}},s=i.subscribe(o);return await new Promise(a=>{s.add(()=>{a()})}),console.log("[fetchFilteredEvents]"),console.log(l),l}async function Mk(n){const e=Yr();e.setRelays(Cm),console.log(e.getRelays());const t=[{authors:[n],kinds:[3,10002]}];console.log(t);const r=dl({filters:t}),i=e.use(r).pipe(Hn(),Or(),pm(s=>s.event.kind),Wi(2e3)),l=[],o=i.subscribe({next:s=>{console.log(s),l.push(s.event)},error:s=>{console.log(s)},complete:()=>{console.log("owari")}});return await new Promise(s=>{o.add(()=>{s()})}),await Am(n,l),l}async function Am(n,e){console.log("setting relays...");let t=[],r=[];const i=e.find(s=>s.kind===10002),l=e.find(s=>s.kind===3),o=st(ln);if(o[n]||(o[n]={...Nm}),i&&i.tags.length>0)for(const s of i.tags){const a=s[1].endsWith("/")?s[1]:s[1]+"/";s[0]==="r"&&await Oo(a)&&(s.length<3?(t.push(a),r.push(a)):s[2]==="read"?t.push(a):s[2]==="write"&&r.push(a)),o[n].relayEvent=i}else if(l&&l.content!=="")try{const s=JSON.parse(l.content);for(const a of Object.keys(s)){const u=a.endsWith("/")?a:a+"/";await Oo(u)&&(s[a].read&&t.push(u),s[a].write&&r.push(u))}o[n].relayEvent=l}catch(s){console.error("JSON parse error:",s)}t.length>0&&(o[n].searchRelays=t),r.length>0&&(o[n].bookmarkRelays=r,o[n].postRelays=r),o[n].searchRelays.length===0&&(o[n].searchRelays=Yl),o[n].bookmarkRelays.length===0&&(o[n].bookmarkRelays=Yl),o[n].postRelays.length===0&&(o[n].postRelays=Yl),ln.update(s=>({...s,[n]:{...s[n],...o[n]}})),console.log("complete set relsys")}async function Oo(n,e=1e3){const t=st(Pd);if(t.has(n))return console.log("すでにあるよ",t.get(n)),!0;let r,i;if(n.startsWith("ws://"))r=n.slice(5),i=new URL("http://"+r);else if(n.startsWith("wss://"))r=n.slice(6),i=new URL("https://"+r);else return!1;let l=new Headers;l.set("Accept","application/nostr+json");const o=new AbortController,s=setTimeout(()=>o.abort(),e);try{let a=await fetch(i,{headers:l,signal:o.signal});return console.log(a),a.ok?(console.log("せっとするよ",t.set(n,await a.json())),!0):!1}catch(a){return a instanceof Error&&(a.name==="AbortError"?console.log("Request timed out"):console.log(a)),!1}finally{clearTimeout(s)}}async function Lk(n){if(n==null)return{message:"無効なIDです",error:!0};n.startsWith("nostr:")&&(n=n.slice(6));try{const e=me.decode(n);if(e.type=="npub")return{tag:["p",e.data],error:!1};if(e.type=="nprofile")return{tag:["p",e.data.pubkey],error:!1};throw new Error}catch{return{message:"無効なIDです",error:!0}}}async function qk(n){if(n==null)return{message:"無効なIDです",error:!0};n.startsWith("nostr:")&&(n=n.slice(6));try{const e=me.decode(n);if(e.type=="naddr")return{tag:["a",`${e.data.kind}:${e.data.pubkey}:${e.data.identifier}`],error:!1};throw new Error}catch{return{message:"無効なIDです",error:!0}}}async function Uk(n){if(n==null)return{message:"無効なIDです",error:!0};n.startsWith("nostr:")&&(n=n.slice(6));try{const e=me.decode(n);if(e.type=="note")return{tag:["e",e.data],error:!1};if(e.type=="nevent")return{tag:["e",e.data.id],error:!1};throw new Error}catch{return{message:"無効なIDです",error:!0}}}async function zk(n){return console.log("response:",n),n==null||n==!1?{message:"無効なIDかもです",error:!0}:await Pm(n)}async function Pm(n){const e={error:!1};if(n.startsWith("nostr:")&&(n=n.slice(6)),n.startsWith("note1")||n.startsWith("nevent"))try{const t=me.decode(n);t.type=="note"?e.tag=["e",t.data]:t.type=="nevent"&&(e.tag=["e",t.data.id])}catch(t){e.error=!0,e.message=t,console.log("Decoding failed:",t)}else if(n.startsWith("naddr"))try{const t=me.decode(n);return t.type=="naddr"?(e.tag=["a",`${t.data.kind}:${t.data.pubkey}:${t.data.identifier}`],e):(e.error=!0,e)}catch(t){return e.error=!0,e.message=t,e}else if(/^[0-9a-fA-F]+$/.test(n))try{me.noteEncode(n),e.tag=["e",n]}catch(t){e.error=!0,e.message=t}else e.error=!0,e.message="無効なIDです";return console.log(e),e}function Fk(n){return Array.isArray(n)?n.every(e=>!Array.isArray(e)):!1}async function jk(n,e,t,r){console.log(n,e,t);let i=[];if(n.length>0)try{const l=await hl(e,n),o=JSON.parse(l);if(Array.isArray(o)&&Array.isArray(o[0]))r&&t.map(s=>{if(o.findIndex(u=>u[1]===s[1])!==-1)throw Error("same name exists")}),o.push(...t),i=o;else throw new Error("content is not array")}catch(l){throw new Error(l)}else i=t;if(console.log(i),i.length>0)try{return await ts(e,JSON.stringify(i))}catch{throw new Error("Encode error")}else throw new Error("error")}async function Jk(n,e,t){console.log(n,t,t.length);let r=[];if(n.length>0&&t.length>0){t.sort((i,l)=>l-i);try{const i=await hl(e,n),l=JSON.parse(i);if(Array.isArray(l)&&Array.isArray(l[0])){for(const o of t)l.splice(o,1);r=l}else throw new Error("content is not array")}catch{throw new Error("Decode error")}}else throw new Error("error");if(console.log(r),r.length>0)try{return await ts(e,JSON.stringify(r))}catch{throw new Error("Encode error")}else return""}function Hk(n,e){if(n.length>0&&e.length>0){e.sort((t,r)=>r-t);try{for(const t of e)n.splice(t,1)}catch{throw new Error("error")}}return n}async function $k(n,e,t,r){console.log(n,e,r);try{const i=await hl(e,n),l=JSON.parse(i);return l[t]=r,await ts(e,JSON.stringify(l))}catch{throw new Error("Decode error")}}function Ca(n,e,t){const r=n.slice();return r[11]=e[t],r}function Da(n){let e,t,r,i,l,o,s,a,u,c="about",f,d,p,b,_="profileJSON",v,E,I,S,N,C,O=[],D=new Map,A,P,L="open Lists",H,z,V="copy pubKey",x,J,q,Z="Open in external app",oe,Y,Q=n[0].buttonTextCancel+"",G,fe,ue,X=n[3]&&n[3].picture&&Ta(n),K=n[3]&&n[3].banner&&Aa(n),se=n[3]&&n[3].about&&Pa(n),te=n[3]&&Ra(n),be=Be(Object.keys(kt));const he=de=>de[11];for(let de=0;de<be.length;de+=1){let _e=Ca(n,be,de),ge=he(_e);D.set(ge,O[de]=Va(ge,_e))}return{c(){e=y("div"),t=y("div"),r=y("div"),i=y("div"),X&&X.c(),l=F(),o=y("div"),K&&K.c(),s=F(),a=y("div"),u=y("div"),u.textContent=c,f=F(),se&&se.c(),d=F(),p=y("div"),b=y("div"),b.textContent=_,v=F(),te&&te.c(),E=F(),I=y("div"),S=y("div"),N=y("div"),C=y("select");for(let de=0;de<O.length;de+=1)O[de].c();A=F(),P=y("button"),P.textContent=L,H=F(),z=y("button"),z.textContent=V,x=F(),J=y("div"),q=y("button"),q.textContent=Z,oe=F(),Y=y("button"),G=B(Q),this.h()},l(de){e=w(de,"DIV",{class:!0});var _e=k(e);t=w(_e,"DIV",{class:!0});var ge=k(t);r=w(ge,"DIV",{class:!0});var Ie=k(r);i=w(Ie,"DIV",{class:!0});var Le=k(i);X&&X.l(Le),Le.forEach(h),l=j(Ie),o=w(Ie,"DIV",{});var ze=k(o);K&&K.l(ze),ze.forEach(h),Ie.forEach(h),s=j(ge),a=w(ge,"DIV",{class:!0});var Ae=k(a);u=w(Ae,"DIV",{class:!0,"data-svelte-h":!0}),qe(u)!=="svelte-ea5rn7"&&(u.textContent=c),f=j(Ae),se&&se.l(Ae),Ae.forEach(h),d=j(ge),p=w(ge,"DIV",{class:!0});var Me=k(p);b=w(Me,"DIV",{class:!0,"data-svelte-h":!0}),qe(b)!=="svelte-a5q7il"&&(b.textContent=_),v=j(Me),te&&te.l(Me),Me.forEach(h),ge.forEach(h),E=j(_e),I=w(_e,"DIV",{class:!0});var ht=k(I);S=w(ht,"DIV",{class:!0});var ct=k(S);N=w(ct,"DIV",{class:!0});var yt=k(N);C=w(yt,"SELECT",{class:!0});var Rt=k(C);for(let Ue=0;Ue<O.length;Ue+=1)O[Ue].l(Rt);Rt.forEach(h),A=j(yt),P=w(yt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),qe(P)!=="svelte-fz8nv7"&&(P.textContent=L),yt.forEach(h),H=j(ct),z=w(ct,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),qe(z)!=="svelte-1d0znl4"&&(z.textContent=V),ct.forEach(h),x=j(ht),J=w(ht,"DIV",{class:!0});var Fe=k(J);q=w(Fe,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),qe(q)!=="svelte-l5qsgj"&&(q.textContent=Z),oe=j(Fe),Y=w(Fe,"BUTTON",{type:!0,class:!0});var ke=k(Y);G=M(ke,Q),ke.forEach(h),Fe.forEach(h),ht.forEach(h),_e.forEach(h),this.h()},h(){m(i,"class","w-16 h-16 rounded-lg flex justify-center overflow-hidden bg-surface-500/25"),m(r,"class","grid grid-cols-[auto_1fr] gap-2 max-w-md max-h-40"),m(u,"class","font-bold"),m(a,"class","rounded-sm border-4 border-dotted border-surface-300 p-1 bg-surface-100/80 dark:bg-surface-800/80"),m(b,"class","font-bold"),m(p,"class","rounded-sm border-4 border-dotted border-surface-300 p-1 bg-surface-100/80 dark:bg-surface-800/80"),m(t,"class","grid grid-row-[auto_auto_auto] gap-1 max-w-md"),m(C,"class","input p-1"),n[2]===void 0&&Wr(()=>n[5].call(C)),m(P,"type","button"),m(P,"class","btn variant-filled-secondary p-1"),m(N,"class","flex"),m(z,"type","button"),m(z,"class","btn variant-filled-secondary p-1"),m(S,"class","grid grid-row-[auto_auto] gap-2"),m(q,"type","button"),m(q,"class","btn variant-filled-surface p-2"),m(Y,"type","button"),m(Y,"class","btn variant-filled-surface p-2"),m(J,"class","grid grid-row-[auto_auto] gap-2"),m(I,"class","grid grid-cols-[auto_auto] gap-2"),m(e,"class","modal-example-form "+Vm+" svelte-1casfzw")},m(de,_e){T(de,e,_e),g(e,t),g(t,r),g(r,i),X&&X.m(i,null),g(r,l),g(r,o),K&&K.m(o,null),g(t,s),g(t,a),g(a,u),g(a,f),se&&se.m(a,null),g(t,d),g(t,p),g(p,b),g(p,v),te&&te.m(p,null),g(e,E),g(e,I),g(I,S),g(S,N),g(N,C);for(let ge=0;ge<O.length;ge+=1)O[ge]&&O[ge].m(C,null);Fn(C,n[2],!0),g(N,A),g(N,P),g(S,H),g(S,z),g(I,x),g(I,J),g(J,q),g(J,oe),g(J,Y),g(Y,G),fe||(ue=[ee(C,"change",n[5]),ee(P,"click",n[6]),ee(z,"click",n[7]),ee(q,"click",n[8]),ee(Y,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],fe=!0)},p(de,_e){n=de,n[3]&&n[3].picture?X?X.p(n,_e):(X=Ta(n),X.c(),X.m(i,null)):X&&(X.d(1),X=null),n[3]&&n[3].banner?K?K.p(n,_e):(K=Aa(n),K.c(),K.m(o,null)):K&&(K.d(1),K=null),n[3]&&n[3].about?se?se.p(n,_e):(se=Pa(n),se.c(),se.m(a,null)):se&&(se.d(1),se=null),n[3]?te?te.p(n,_e):(te=Ra(n),te.c(),te.m(p,null)):te&&(te.d(1),te=null),_e&0&&(be=Be(Object.keys(kt)),O=Ao(O,_e,he,1,n,be,D,C,Po,Va,null,Ca)),_e&4&&Fn(C,n[2]),_e&1&&Q!==(Q=n[0].buttonTextCancel+"")&&W(G,Q)},d(de){de&&h(e),X&&X.d(),K&&K.d(),se&&se.d(),te&&te.d();for(let _e=0;_e<O.length;_e+=1)O[_e].d();fe=!1,je(ue)}}}function Ta(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","w-16 object-contain justify-center"),Ne(e.src,t=n[3].picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){T(r,e,i)},p(r,i){i&8&&!Ne(e.src,t=r[3].picture)&&m(e,"src",t)},d(r){r&&h(e)}}}function Aa(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class",""),Ne(e.src,t=n[3].banner)||m(e,"src",t),m(e,"alt","")},m(r,i){T(r,e,i)},p(r,i){i&8&&!Ne(e.src,t=r[3].banner)&&m(e,"src",t)},d(r){r&&h(e)}}}function Pa(n){let e,t=n[3].about+"",r;return{c(){e=y("div"),r=B(t),this.h()},l(i){e=w(i,"DIV",{class:!0});var l=k(e);r=M(l,t),l.forEach(h),this.h()},h(){m(e,"class","break-all whitespace-pre-wrap text-sm max-h-32 overflow-auto")},m(i,l){T(i,e,l),g(e,r)},p(i,l){l&8&&t!==(t=i[3].about+"")&&W(r,t)},d(i){i&&h(e)}}}function Ra(n){let e,t=JSON.stringify(n[3],void 0,4)+"",r;return{c(){e=y("div"),r=B(t),this.h()},l(i){e=w(i,"DIV",{class:!0});var l=k(e);r=M(l,t),l.forEach(h),this.h()},h(){m(e,"class","break-all whitespace-pre-wrap text-sm max-h-24 overflow-auto")},m(i,l){T(i,e,l),g(e,r)},p(i,l){l&8&&t!==(t=JSON.stringify(i[3],void 0,4)+"")&&W(r,t)},d(i){i&&h(e)}}}function Va(n,e){let t,r=`${kt[Number(e[11])]} (${e[11]})`,i;return{key:n,first:null,c(){t=y("option"),i=B(r),this.h()},l(l){t=w(l,"OPTION",{});var o=k(t);i=M(o,r),o.forEach(h),this.h()},h(){t.__value=e[11],$e(t,t.__value),this.first=t},m(l,o){T(l,t,o),g(t,i)},p(l,o){e=l},d(l){l&&h(t)}}}function Rm(n){let e,t=n[1][0]&&Da(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=Da(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(r){r&&h(e),t&&t.d(r)}}}const Vm="card p-4  shadow-xl space-y-4 break-all";function Bm(n,e,t){let r;ce(n,Re,p=>t(1,r=p));let{parent:i}=e,l=Object.keys(kt)[0],o,s={openList:!1,kind:Number(Object.keys(kt)[0])};function a(p){var _,v;const b=p==="npub"?me.npubEncode((_=r[0])==null?void 0:_.meta.metadata.pubkey):(v=r[0])==null?void 0:v.meta.metadata.pubkey;navigator.clipboard.writeText(b).then(()=>{console.log(`copied: ${b.slice(0,15)}...`);const E={message:`copied: ${b.slice(0,15)}...`,timeout:3e3};ft.trigger(E)},()=>{console.log("failed to copy");const E={message:"failed to copy",timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(E)}),i.onClose()}function u(){l=el(this),t(2,l)}const c=()=>{var p;br(`${window.location.origin}/${me.npubEncode((p=r[0])==null?void 0:p.meta.metadata.pubkey)}/${l}`),Re.close()},f=()=>a("npub"),d=()=>{var p;Eo(me.npubEncode((p=r[0])==null?void 0:p.meta.metadata.pubkey)),i.onClose()};return n.$$set=p=>{"parent"in p&&t(0,i=p.parent)},n.$$.update=()=>{var p,b,_;if(n.$$.dirty&2&&(_=(b=(p=r[0])==null?void 0:p.meta)==null?void 0:b.metadata)!=null&&_.content)try{t(3,o=JSON.parse(r[0].meta.metadata.content))}catch{console.log("failed to open profileJSON")}},console.log(s),[i,r,l,o,a,u,c,f,d]}class Xr extends De{constructor(e){super(),Te(this,e,Bm,Rm,Ce,{parent:0})}}const Mm='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z"/></svg>';function Ba(n){let e,t,r=(n[1][0].title??"(title missing)")+"",i,l,o,s=JSON.stringify(n[1][0].meta.note,void 0,4)+"",a,u,c,f,d=n[1][0].meta.note.content.length+"",p,b,_=n[1][0].meta.note.tags.length+"",v,E,I,S,N,C,O="Download Json",D,A,P="copy noteID",L,H,z=n[0].buttonTextCancel+"",V,x,J,q,Z=n[1][0].meta.tagArray&&n[1][0].meta.tagArray.length>0&&Ma(n);return{c(){e=y("div"),t=y("header"),i=B(r),l=F(),o=y("div"),a=B(s),u=F(),c=y("div"),f=B("Content Length: "),p=B(d),b=B(", Tags Count: "),v=B(_),E=F(),Z&&Z.c(),I=F(),S=y("footer"),N=y("div"),C=y("button"),C.textContent=O,D=F(),A=y("button"),A.textContent=P,L=F(),H=y("button"),V=B(z),this.h()},l(oe){e=w(oe,"DIV",{class:!0});var Y=k(e);t=w(Y,"HEADER",{class:!0});var Q=k(t);i=M(Q,r),Q.forEach(h),l=j(Y),o=w(Y,"DIV",{class:!0});var G=k(o);a=M(G,s),G.forEach(h),u=j(Y),c=w(Y,"DIV",{class:!0});var fe=k(c);f=M(fe,"Content Length: "),p=M(fe,d),b=M(fe,", Tags Count: "),v=M(fe,_),fe.forEach(h),E=j(Y),Z&&Z.l(Y),I=j(Y),S=w(Y,"FOOTER",{class:!0});var ue=k(S);N=w(ue,"DIV",{class:!0});var X=k(N);C=w(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),qe(C)!=="svelte-17i6fin"&&(C.textContent=O),D=j(X),A=w(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),qe(A)!=="svelte-1deinu8"&&(A.textContent=P),L=j(X),H=w(X,"BUTTON",{type:!0,class:!0});var K=k(H);V=M(K,z),K.forEach(h),X.forEach(h),ue.forEach(h),Y.forEach(h),this.h()},h(){m(t,"class",Um),m(o,"class","bg-surface-50-900-token break-words whitespace-pre-wrap max-h-60 overflow-auto break-all max-w-[768px] p-1"),m(c,"class","text-right text-sm"),m(C,"type","button"),m(C,"class","btn variant-filled-success p-1"),m(A,"type","button"),m(A,"class","btn variant-filled-secondary p-1"),m(H,"type","button"),m(H,"class","btn variant-filled-surface p-2"),m(N,"class","flex flex-wrap gap-2"),m(S,"class",x="modal-footer "+n[0].regionFooter+" mt-2"),m(e,"class","modal-example-form "+qm+" bg-surface-200-700-token")},m(oe,Y){T(oe,e,Y),g(e,t),g(t,i),g(e,l),g(e,o),g(o,a),g(e,u),g(e,c),g(c,f),g(c,p),g(c,b),g(c,v),g(e,E),Z&&Z.m(e,null),g(e,I),g(e,S),g(S,N),g(N,C),g(N,D),g(N,A),g(N,L),g(N,H),g(H,V),J||(q=[ee(C,"click",n[4]),ee(A,"click",n[6]),ee(H,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],J=!0)},p(oe,Y){n=oe,Y&2&&r!==(r=(n[1][0].title??"(title missing)")+"")&&W(i,r),Y&2&&s!==(s=JSON.stringify(n[1][0].meta.note,void 0,4)+"")&&W(a,s),Y&2&&d!==(d=n[1][0].meta.note.content.length+"")&&W(p,d),Y&2&&_!==(_=n[1][0].meta.note.tags.length+"")&&W(v,_),n[1][0].meta.tagArray&&n[1][0].meta.tagArray.length>0?Z?Z.p(n,Y):(Z=Ma(n),Z.c(),Z.m(e,I)):Z&&(Z.d(1),Z=null),Y&1&&z!==(z=n[0].buttonTextCancel+"")&&W(V,z),Y&1&&x!==(x="modal-footer "+n[0].regionFooter+" mt-2")&&m(S,"class",x)},d(oe){oe&&h(e),Z&&Z.d(),J=!1,je(q)}}}function Ma(n){let e,t="<b>list tag</b>",r,i,l,o=JSON.stringify(n[1][0].meta.tagArray)+"",s,a,u=(n[1][0].meta.tagArray[0]==="a"||n[1][0].meta.tagArray[0]==="p")&&La(n);return{c(){e=y("div"),e.innerHTML=t,r=F(),i=y("div"),l=y("div"),s=B(o),a=F(),u&&u.c(),this.h()},l(c){e=w(c,"DIV",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-1h0t4t8"&&(e.innerHTML=t),r=j(c),i=w(c,"DIV",{class:!0});var f=k(i);l=w(f,"DIV",{class:!0});var d=k(l);s=M(d,o),d.forEach(h),a=j(f),u&&u.l(f),f.forEach(h),this.h()},h(){m(e,"class","mt-2"),m(l,"class","bg-surface-50-900-token break-words whitespace-pre-wrap max-h-60 overflow-auto p-1"),m(i,"class","grid grid-cols-[1fr_auto]")},m(c,f){T(c,e,f),T(c,r,f),T(c,i,f),g(i,l),g(l,s),g(i,a),u&&u.m(i,null)},p(c,f){f&2&&o!==(o=JSON.stringify(c[1][0].meta.tagArray)+"")&&W(s,o),c[1][0].meta.tagArray[0]==="a"||c[1][0].meta.tagArray[0]==="p"?u?u.p(c,f):(u=La(c),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},d(c){c&&(h(e),h(r),h(i)),u&&u.d()}}}function La(n){let e,t,r,i;return{c(){e=y("button"),t=new Ee(!1),this.h()},l(l){e=w(l,"BUTTON",{class:!0});var o=k(e);t=Oe(o,!1),o.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn-icon h-full dark:fill-white")},m(l,o){T(l,e,o),t.m(Mm,e),r||(i=ee(e,"click",n[5]),r=!0)},p:$,d(l){l&&h(e),r=!1,i()}}}function Lm(n){let e,t=n[1][0]&&Ba(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=Ba(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(r){r&&h(e),t&&t.d(r)}}}const qm="card p-4  shadow-xl  break-all",Um="text-2xl font-bold";function zm(n,e,t){let r,i;ce(n,Re,f=>t(1,r=f)),ce(n,on,f=>t(7,i=f));let{parent:l}=e;function o(f){var p,b;const d=f==="note"?me.noteEncode((p=r[0])==null?void 0:p.meta.note.id):(b=r[0])==null?void 0:b.meta.note.id;navigator.clipboard.writeText(d).then(()=>{console.log(`copied: ${d.slice(0,15)}...`);const _={message:`copied: ${d.slice(0,15)}...`,timeout:3e3};ft.trigger(_)},()=>{console.log("failed to copy");const _={message:i("modal.failed_copy"),timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(_)}),l.onClose()}function s(f){console.log(f);try{const d=f[0]==="a"?me.naddrEncode(es(f)):f[0]==="p"?me.npubEncode(f[1]):f[1];navigator.clipboard.writeText(d).then(()=>{console.log(`copied: ${d.slice(0,15)}...`);const p={message:`copied: ${d.slice(0,15)}...`,timeout:3e3};ft.trigger(p)},()=>{console.log("failed to copy");const p={message:i("modal.failed_copy"),timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(p)})}catch{console.log("failed to copy")}}const a=()=>{const f=r[0].meta.note,d=JSON.stringify(f,null,2),p=new Blob([d],{type:"application/json"}),b=URL.createObjectURL(p),_=document.createElement("a");_.href=b;const v=f.tags.find(I=>I[0]==="d"),E=v?`bkmstr_kind${f.kind}_${v[1]}_${f.created_at}`:`bkmstr_kind${f.kind}_${f.created_at}.json`;_.download=E,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(b)},u=()=>s(r[0].meta.tagArray),c=()=>o("note");return n.$$set=f=>{"parent"in f&&t(0,l=f.parent)},[l,r,o,s,a,u,c]}class Dr extends De{constructor(e){super(),Te(this,e,zm,Lm,Ce,{parent:0})}}var Ve=(n=>(n[n.Multi=0]="Multi",n[n.Owner=1]="Owner",n[n.Viewer=2]="Viewer",n[n.other=3]="other",n[n.none=4]="none",n))(Ve||{});async function Fm(n){try{const e=await fetch(`/api/ogp?url=${encodeURIComponent(n)}`).catch(r=>console.log(r)),t=await(e==null?void 0:e.json().catch(r=>console.log(r)));return{title:t.title||"",image:t.open_graph&&t.open_graph.images?t.open_graph.images[0].url:"",description:t.open_graph&&t.open_graph.description||"",favicon:t.favicon||""}}catch(e){return console.log(e),{title:"",image:"",description:"",favicon:""}}}const Ir=async n=>n.length>0?await n.reduce((e,t)=>{const[r,i,...l]=t;return e.some(([s,a])=>s===r&&a===i)||e.push([r,i,...l]),e},[]):[];/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */const pl=rn();/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function jm(n){return Pf(e=>e.event.id===n)}function Jm(n){return Pf(e=>e.event.pubkey===n)}function Vd(){return U1((n,e)=>[...n,e],[])}function Hm(n){return Gr(Vd(),qo(e=>{const t=new Map;return e.forEach(r=>{const i=n(r),l=t.get(i);l?t.set(i,[...l,r]):t.set(i,[r])}),t}))}function $m(n){return Gr(Hm(n),qo(e=>Array.from(e.entries()).map(([,t])=>t.slice(-1)[0])))}class xr{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Kr=typeof window>"u"||"Deno"in window;function zt(){}function Km(n,e){return typeof n=="function"?n(e):n}function Io(n){return typeof n=="number"&&n>=0&&n!==1/0}function Bd(n,e){return Math.max(n+(e||0)-Date.now(),0)}function qr(n,e,t){return ml(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function Bn(n,e,t){return ml(n)?[{...e,queryKey:n},t]:[n||{},e]}function qa(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:l,queryKey:o,stale:s}=n;if(ml(o)){if(r){if(e.queryHash!==ns(o,e.options))return!1}else if(!Gi(e.queryKey,o))return!1}if(t!=="all"){const a=e.isActive();if(t==="active"&&!a||t==="inactive"&&a)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||typeof i<"u"&&i!==e.state.fetchStatus||l&&!l(e))}function Ua(n,e){const{exact:t,fetching:r,predicate:i,mutationKey:l}=n;if(ml(l)){if(!e.options.mutationKey)return!1;if(t){if(er(e.options.mutationKey)!==er(l))return!1}else if(!Gi(e.options.mutationKey,l))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function ns(n,e){return((e==null?void 0:e.queryKeyHashFn)||er)(n)}function er(n){return JSON.stringify(n,(e,t)=>No(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function Gi(n,e){return Md(n,e)}function Md(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!Md(n[t],e[t])):!1}function Ld(n,e){if(n===e)return n;const t=za(n)&&za(e);if(t||No(n)&&No(e)){const r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),l=i.length,o=t?[]:{};let s=0;for(let a=0;a<l;a++){const u=t?a:i[a];o[u]=Ld(n[u],e[u]),o[u]===n[u]&&s++}return r===l&&s===r?n:o}return e}function So(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function za(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function No(n){if(!Fa(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Fa(t)||!t.hasOwnProperty("isPrototypeOf"))}function Fa(n){return Object.prototype.toString.call(n)==="[object Object]"}function ml(n){return Array.isArray(n)}function qd(n){return new Promise(e=>{setTimeout(e,n)})}function ja(n){qd(0).then(n)}function Qm(){if(typeof AbortController=="function")return new AbortController}function Co(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Ld(n,e):e}class Wm extends xr{constructor(){super(),this.setup=e=>{if(!Kr&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Zi=new Wm,Ja=["online","offline"];class Gm extends xr{constructor(){super(),this.setup=e=>{if(!Kr&&window.addEventListener){const t=()=>e();return Ja.forEach(r=>{window.addEventListener(r,t,!1)}),()=>{Ja.forEach(r=>{window.removeEventListener(r,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Yi=new Gm;function Zm(n){return Math.min(1e3*2**n,3e4)}function gl(n){return(n??"online")==="online"?Yi.isOnline():!0}class Ud{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Ri(n){return n instanceof Ud}function zd(n){let e=!1,t=0,r=!1,i,l,o;const s=new Promise((v,E)=>{l=v,o=E}),a=v=>{r||(p(new Ud(v)),n.abort==null||n.abort())},u=()=>{e=!0},c=()=>{e=!1},f=()=>!Zi.isFocused()||n.networkMode!=="always"&&!Yi.isOnline(),d=v=>{r||(r=!0,n.onSuccess==null||n.onSuccess(v),i==null||i(),l(v))},p=v=>{r||(r=!0,n.onError==null||n.onError(v),i==null||i(),o(v))},b=()=>new Promise(v=>{i=E=>{const I=r||!f();return I&&v(E),I},n.onPause==null||n.onPause()}).then(()=>{i=void 0,r||n.onContinue==null||n.onContinue()}),_=()=>{if(r)return;let v;try{v=n.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(d).catch(E=>{var I,S;if(r)return;const N=(I=n.retry)!=null?I:3,C=(S=n.retryDelay)!=null?S:Zm,O=typeof C=="function"?C(t,E):C,D=N===!0||typeof N=="number"&&t<N||typeof N=="function"&&N(t,E);if(e||!D){p(E);return}t++,n.onFail==null||n.onFail(t,E),qd(O).then(()=>{if(f())return b()}).then(()=>{e?p(E):_()})})};return gl(n.networkMode)?_():b().then(_),{promise:s,cancel:a,continue:()=>(i==null?void 0:i())?s:Promise.resolve(),cancelRetry:u,continueRetry:c}}const rs=console;function Ym(){let n=[],e=0,t=c=>{c()},r=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||s()}return f},l=c=>{e?n.push(c):ja(()=>{t(c)})},o=c=>(...f)=>{l(()=>{c(...f)})},s=()=>{const c=n;n=[],c.length&&ja(()=>{r(()=>{c.forEach(f=>{t(f)})})})};return{batch:i,batchCalls:o,schedule:l,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c}}}const ot=Ym();class Fd{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Io(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Kr?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Xm extends Fd{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||rs,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||xm(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const r=Co(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(e),r?r.then(zt).catch(zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Bd(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const o=Qm(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};a(s);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(a(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const d=p=>{if(Ri(p)&&p.silent||this.dispatch({type:"error",error:p}),!Ri(p)){var b,_,v,E;(b=(_=this.cache.config).onError)==null||b.call(_,p,this),(v=(E=this.cache.config).onSettled)==null||v.call(E,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=zd({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var b,_,v,E;if(typeof p>"u"){d(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(b=(_=this.cache.config).onSuccess)==null||b.call(_,p,this),(v=(E=this.cache.config).onSettled)==null||v.call(E,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(p,b)=>{this.dispatch({type:"failed",failureCount:p,error:b})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=r=>{var i,l;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:gl(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(l=e.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Ri(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function xm(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class eg extends xr{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var i;const l=t.queryKey,o=(i=t.queryHash)!=null?i:ns(l,t);let s=this.get(o);return s||(s=new Xm({cache:this,logger:e.getLogger(),queryKey:l,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(l)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ot.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=Bn(e,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>qa(r,i))}findAll(e,t){const[r]=Bn(e,t);return Object.keys(r).length>0?this.queries.filter(i=>qa(r,i)):this.queries}notify(e){ot.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){ot.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ot.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class tg extends Fd{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||rs,this.observers=[],this.state=e.state||ng(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var D;return this.retryer=zd({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,P)=>{this.dispatch({type:"failed",failureCount:A,error:P})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(D=this.options.retry)!=null?D:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,i,l,o,s,a,u,c;if(!t){var f,d,p,b;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(d=this.mutationCache.config).onMutate)==null?void 0:f.call(d,this.state.variables,this));const A=await((p=(b=this.options).onMutate)==null?void 0:p.call(b,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}const D=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,D,this.state.variables,this.state.context,this)),await((l=(o=this.options).onSuccess)==null?void 0:l.call(o,D,this.state.variables,this.state.context)),await((s=(a=this.mutationCache.config).onSettled)==null?void 0:s.call(a,D,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,D,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:D}),D}catch(D){try{var _,v,E,I,S,N,C,O;throw await((_=(v=this.mutationCache.config).onError)==null?void 0:_.call(v,D,this.state.variables,this.state.context,this)),await((E=(I=this.options).onError)==null?void 0:E.call(I,D,this.state.variables,this.state.context)),await((S=(N=this.mutationCache.config).onSettled)==null?void 0:S.call(N,void 0,D,this.state.variables,this.state.context,this)),await((C=(O=this.options).onSettled)==null?void 0:C.call(O,void 0,D,this.state.variables,this.state.context)),D}finally{this.dispatch({type:"error",error:D})}}}dispatch(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!gl(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=t(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function ng(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class rg extends xr{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const i=new tg({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){ot.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>Ua(e,t))}findAll(e){return this.mutations.filter(t=>Ua(e,t))}notify(e){ot.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return ot.batch(()=>t.reduce((r,i)=>r.then(()=>i.continue().catch(zt)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function ig(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,r,i,l,o;const s=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,a=(r=n.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=a==null?void 0:a.pageParam,c=(a==null?void 0:a.direction)==="forward",f=(a==null?void 0:a.direction)==="backward",d=((l=n.state.data)==null?void 0:l.pages)||[],p=((o=n.state.data)==null?void 0:o.pageParams)||[];let b=p,_=!1;const v=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var D;if((D=n.signal)!=null&&D.aborted)_=!0;else{var A;(A=n.signal)==null||A.addEventListener("abort",()=>{_=!0})}return n.signal}})},E=n.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+n.options.queryHash+"'")),I=(O,D,A,P)=>(b=P?[D,...b]:[...b,D],P?[A,...O]:[...O,A]),S=(O,D,A,P)=>{if(_)return Promise.reject("Cancelled");if(typeof A>"u"&&!D&&O.length)return Promise.resolve(O);const L={queryKey:n.queryKey,pageParam:A,meta:n.options.meta};v(L);const H=E(L);return Promise.resolve(H).then(V=>I(O,A,V,P))};let N;if(!d.length)N=S([]);else if(c){const O=typeof u<"u",D=O?u:Ha(n.options,d);N=S(d,O,D)}else if(f){const O=typeof u<"u",D=O?u:lg(n.options,d);N=S(d,O,D,!0)}else{b=[];const O=typeof n.options.getNextPageParam>"u";N=(s&&d[0]?s(d[0],0,d):!0)?S([],O,p[0]):Promise.resolve(I([],p[0],d[0]));for(let A=1;A<d.length;A++)N=N.then(P=>{if(s&&d[A]?s(d[A],A,d):!0){const H=O?p[A]:Ha(n.options,P);return S(P,O,H)}return Promise.resolve(I(P,p[A],d[A]))})}return N.then(O=>({pages:O,pageParams:b}))}}}}function Ha(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function lg(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}class jd{constructor(e={}){this.queryCache=e.queryCache||new eg,this.mutationCache=e.mutationCache||new rg,this.logger=e.logger||rs,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Zi.subscribe(()=>{Zi.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Yi.subscribe(()=>{Yi.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=Bn(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state.data}ensureQueryData(e,t,r){const i=qr(e,t,r),l=this.getQueryData(i.queryKey);return l?Promise.resolve(l):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.queryCache.find(e),l=i==null?void 0:i.state.data,o=Km(t,l);if(typeof o>"u")return;const s=qr(e),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ot.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state}removeQueries(e,t){const[r]=Bn(e,t),i=this.queryCache;ot.batch(()=>{i.findAll(r).forEach(l=>{i.remove(l)})})}resetQueries(e,t,r){const[i,l]=Bn(e,t,r),o=this.queryCache,s={type:"active",...i};return ot.batch(()=>(o.findAll(i).forEach(a=>{a.reset()}),this.refetchQueries(s,l)))}cancelQueries(e,t,r){const[i,l={}]=Bn(e,t,r);typeof l.revert>"u"&&(l.revert=!0);const o=ot.batch(()=>this.queryCache.findAll(i).map(s=>s.cancel(l)));return Promise.all(o).then(zt).catch(zt)}invalidateQueries(e,t,r){const[i,l]=Bn(e,t,r);return ot.batch(()=>{var o,s;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const a={...i,type:(o=(s=i.refetchType)!=null?s:i.type)!=null?o:"active"};return this.refetchQueries(a,l)})}refetchQueries(e,t,r){const[i,l]=Bn(e,t,r),o=ot.batch(()=>this.queryCache.findAll(i).filter(a=>!a.isDisabled()).map(a=>{var u;return a.fetch(void 0,{...l,cancelRefetch:(u=l==null?void 0:l.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let s=Promise.all(o).then(zt);return l!=null&&l.throwOnError||(s=s.catch(zt)),s}fetchQuery(e,t,r){const i=qr(e,t,r),l=this.defaultQueryOptions(i);typeof l.retry>"u"&&(l.retry=!1);const o=this.queryCache.build(this,l);return o.isStaleByTime(l.staleTime)?o.fetch(l):Promise.resolve(o.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(zt).catch(zt)}fetchInfiniteQuery(e,t,r){const i=qr(e,t,r);return i.behavior=ig(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(zt).catch(zt)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(i=>er(e)===er(i.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(r=>Gi(e,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(i=>er(e)===er(i.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(r=>Gi(e,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=ns(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class og extends xr{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),$a(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Do(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Do(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),So(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const l=this.hasListeners();l&&Ka(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),l&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();l&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return ag(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(zt)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Kr||this.currentResult.isStale||!Io(this.options.staleTime))return;const t=Bd(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Kr||this.options.enabled===!1||!Io(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Zi.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,i=this.options,l=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,a=e!==r,u=a?e.state:this.currentQueryInitialState,c=a?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:d,error:p,errorUpdatedAt:b,fetchStatus:_,status:v}=f,E=!1,I=!1,S;if(t._optimisticResults){const A=this.hasListeners(),P=!A&&$a(e,t),L=A&&Ka(e,r,t,i);(P||L)&&(_=gl(e.options.networkMode)?"fetching":"paused",d||(v="loading")),t._optimisticResults==="isRestoring"&&(_="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&v!=="error")S=c.data,d=c.dataUpdatedAt,v=c.status,E=!0;else if(t.select&&typeof f.data<"u")if(l&&f.data===(o==null?void 0:o.data)&&t.select===this.selectFn)S=this.selectResult;else try{this.selectFn=t.select,S=t.select(f.data),S=Co(l==null?void 0:l.data,S,t),this.selectResult=S,this.selectError=null}catch(A){this.selectError=A}else S=f.data;if(typeof t.placeholderData<"u"&&typeof S>"u"&&v==="loading"){let A;if(l!=null&&l.isPlaceholderData&&t.placeholderData===(s==null?void 0:s.placeholderData))A=l.data;else if(A=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof A<"u")try{A=t.select(A),this.selectError=null}catch(P){this.selectError=P}typeof A<"u"&&(v="success",S=Co(l==null?void 0:l.data,A,t),I=!0)}this.selectError&&(p=this.selectError,S=this.selectResult,b=Date.now(),v="error");const N=_==="fetching",C=v==="loading",O=v==="error";return{status:v,fetchStatus:_,isLoading:C,isSuccess:v==="success",isError:O,isInitialLoading:C&&N,data:S,dataUpdatedAt:d,error:p,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!C,isLoadingError:O&&f.dataUpdatedAt===0,isPaused:_==="paused",isPlaceholderData:I,isPreviousData:E,isRefetchError:O&&f.dataUpdatedAt!==0,isStale:is(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,So(r,t))return;this.currentResult=r;const i={cache:!0},l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!this.trackedProps.size)return!0;const a=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==t[c]&&a.has(c)})};(e==null?void 0:e.listeners)!==!1&&l()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!Ri(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){ot.batch(()=>{if(e.onSuccess){var t,r,i,l;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(i=(l=this.options).onSettled)==null||i.call(l,this.currentResult.data,null)}else if(e.onError){var o,s,a,u;(o=(s=this.options).onError)==null||o.call(s,this.currentResult.error),(a=(u=this.options).onSettled)==null||a.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function sg(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function $a(n,e){return sg(n,e)||n.state.dataUpdatedAt>0&&Do(n,e,e.refetchOnMount)}function Do(n,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&is(n,e)}return!1}function Ka(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&is(n,t)}function is(n,e){return n.isStaleByTime(e.staleTime)}function ag(n,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:!So(n.getCurrentResult(),e)}const Jd="$$_queryClient",ug=()=>{const n=He(Jd);if(!n)throw new Error("No QueryClient was found in Svelte context. Did you forget to wrap your component with QueryClientProvider?");return n},cg=n=>{Je(Jd,n)};function Hd(){return ug()}function fg(n,e){const t=Hd(),r=t.defaultQueryOptions(n);r._optimisticResults="optimistic";let i=new e(t,r);r.onError&&(r.onError=ot.batchCalls(r.onError)),r.onSuccess&&(r.onSuccess=ot.batchCalls(r.onSuccess)),r.onSettled&&(r.onSettled=ot.batchCalls(r.onSettled)),Ur(i).subscribe(s=>{i=s,i.setOptions(r,{listeners:!1})});const l=Ur(i.getCurrentResult(),s=>i.subscribe(ot.batchCalls(s))),{subscribe:o}=Di(l,s=>(s=i.getOptimisticResult(r),r.notifyOnChangeProps?s:i.trackResult(s)));return{subscribe:o}}function dg(n,e,t){const r=qr(n,e,t);return fg(r,og)}function hg(n){let e;const t=n[2].default,r=Ke(t,n,n[1],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,[l]){r&&r.p&&(!e||l&2)&&Qe(r,t,i,i[1],e?Ge(t,i[1],l,null):We(i[1]),null)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function pg(n,e,t){let{$$slots:r={},$$scope:i}=e,{client:l=new jd}=e;return lf(()=>{l.mount()}),cg(l),of(()=>{l.unmount()}),n.$$set=o=>{"client"in o&&t(0,l=o.client),"$$scope"in o&&t(1,i=o.$$scope)},[l,i,r]}class mg extends De{constructor(e){super(),Te(this,e,pg,hg,Ce,{client:0})}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function ls({rxNostr:n,queryKey:e,filters:t,operator:r,req:i,initData:l}){const o=Hd();if(n.getRelays().length===0)return o.setQueryData(e,l),{data:Ur(l),status:Ur("success"),error:Ur()};let s;i?(i.emit(t),s=i):s=dl({filters:t});const a=rn("loading"),u=rn(void 0),c=n.use(s).pipe(r),f=dg(e,()=>new Promise((d,p)=>{let b=!1;c.subscribe({next:_=>{b?o.setQueryData(e,_):(d(_),b=!0)},complete:()=>a.set("success"),error:_=>{console.error(_),a.set("error"),u.set(_),b||(p(_),b=!0)}})}));return{data:Di(f,d=>d.data,l),status:Di([f,a],([d,p])=>d.isSuccess?"success":d.isError?"error":p),error:Di([f,u],([d,p])=>d.isError?d.error:p)}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function gg({rxNostr:n,relays:e}){if(e.length===0)return Tf([[]]);const t=e.map(r=>{const i=typeof r=="string"?r:r.url,l=n.hasRelay(i)?n.getRelayState(i):"not-started";return{from:i,state:l}});return n.createConnectionStateObservable().pipe(z1(...t),$m(({from:r})=>r))}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function _g(n,e,t,r,i){const l=[{kinds:[r],authors:[t],limit:1}],o=Gr(mm(r),Jm(t),Hn(),xo());return ls({rxNostr:n,queryKey:e,filters:l,operator:o,req:i})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function bg(n,e,t,r){const i=[{ids:[t],limit:1}],l=Gr(jm(t),Or(),Hn());return ls({rxNostr:n,queryKey:e,filters:i,operator:l,req:r})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function vg(n,e,t,r){return _g(n,e,t,ko.Kind.Metadata,r)}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function yg(n,e,t,r){const i=Gr(Or(),Hn(),Vd());return ls({rxNostr:n,queryKey:e,filters:t,operator:i,req:r})}const wg=n=>({}),Qa=n=>({}),kg=n=>({}),Wa=n=>({}),Eg=n=>({metadata:n&16,status:n&32}),Ga=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},Og=n=>({error:n&8}),Za=n=>({error:n[3]});function Ig(n){let e;const t=n[12].nodata,r=Ke(t,n,n[11],Qa);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2048)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,wg):We(i[11]),Qa)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Sg(n){let e;const t=n[12].loading,r=Ke(t,n,n[11],Wa);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2048)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,kg):We(i[11]),Wa)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Ng(n){let e;const t=n[12].default,r=Ke(t,n,n[11],Ga);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2096)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Eg):We(i[11]),Ga)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Cg(n){let e;const t=n[12].error,r=Ke(t,n,n[11],Za);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2056)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Og):We(i[11]),Za)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Dg(n){let e,t,r,i;const l=[Cg,Ng,Sg,Ig],o=[];function s(a,u){return a[3]?0:a[4]?1:a[5]==="loading"?2:3}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,[u]){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function Tg(n,e,t){let r,i,l,o,s,a,u=$,c=()=>(u(),u=Zt(o,O=>t(3,a=O)),o),f,d=$,p=()=>(d(),d=Zt(i,O=>t(4,f=O)),i),b,_=$,v=()=>(_(),_=Zt(l,O=>t(5,b=O)),l);ce(n,pl,O=>t(10,s=O)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>_());let{$$slots:E={},$$scope:I}=e,{queryKey:S}=e,{pubkey:N}=e,{req:C=void 0}=e;return n.$$set=O=>{"queryKey"in O&&t(6,S=O.queryKey),"pubkey"in O&&t(7,N=O.pubkey),"req"in O&&t(8,C=O.req),"$$scope"in O&&t(11,I=O.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=vg(s.rxNostr,S,N,C)),n.$$.dirty&512&&p(t(2,i=r.data)),n.$$.dirty&512&&v(t(1,l=r.status)),n.$$.dirty&512&&c(t(0,o=r.error))},[o,l,i,a,f,b,S,N,C,r,s,I,E]}class an extends De{constructor(e){super(),Te(this,e,Tg,Dg,Ce,{queryKey:6,pubkey:7,req:8})}}const Ag=n=>({connections:n&4}),Ya=n=>({connections:n[2]});function Pg(n){let e;const t=n[6].default,r=Ke(t,n,n[7],Ya);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&132)&&Qe(r,t,i,i[7],e?Ge(t,i[7],l,Ag):We(i[7]),Ya)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Rg(n){let e,t;return e=new mg({props:{client:n[0],$$slots:{default:[Pg]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,[i]){const l={};i&1&&(l.client=r[0]),i&132&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Vg(n,e,t){let r,i,l,o,s=$,a=()=>(s(),s=Zt(r,_=>t(2,o=_)),r);n.$$.on_destroy.push(()=>s());let{$$slots:u={},$$scope:c}=e,{queryClientConfig:f={}}=e,{relays:d=[]}=e;const p=Yr(),b={defaultOptions:{queries:{staleTime:1e3*60,refetchInterval:1/0}}};return of(()=>{p.dispose()}),n.$$set=_=>{"queryClientConfig"in _&&t(3,f=_.queryClientConfig),"relays"in _&&t(4,d=_.relays),"$$scope"in _&&t(7,c=_.$$scope)},n.$$.update=()=>{n.$$.dirty&16&&a(t(1,r=gg({rxNostr:p,relays:d}))),n.$$.dirty&8&&t(5,i={...b,...f}),n.$$.dirty&32&&t(0,l=new jd(i)),n.$$.dirty&16&&(p.setRelays(d),pl.set({rxNostr:p}))},[l,r,o,f,d,i,u,c]}class Kk extends De{constructor(e){super(),Te(this,e,Vg,Rg,Ce,{queryClientConfig:3,relays:4})}}const Bg=n=>({}),Xa=n=>({}),Mg=n=>({}),xa=n=>({}),Lg=n=>({text:n&16,status:n&32}),eu=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},qg=n=>({error:n&8}),tu=n=>({error:n[3]});function Ug(n){let e;const t=n[12].nodata,r=Ke(t,n,n[11],Xa);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2048)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Bg):We(i[11]),Xa)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function zg(n){let e;const t=n[12].loading,r=Ke(t,n,n[11],xa);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2048)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Mg):We(i[11]),xa)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Fg(n){let e;const t=n[12].default,r=Ke(t,n,n[11],eu);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2096)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Lg):We(i[11]),eu)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function jg(n){let e;const t=n[12].error,r=Ke(t,n,n[11],tu);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2056)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,qg):We(i[11]),tu)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Jg(n){let e,t,r,i;const l=[jg,Fg,zg,Ug],o=[];function s(a,u){return a[3]?0:a[4]?1:a[5]==="loading"?2:3}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,[u]){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function Hg(n,e,t){let r,i,l,o,s,a,u=$,c=()=>(u(),u=Zt(o,O=>t(3,a=O)),o),f,d=$,p=()=>(d(),d=Zt(i,O=>t(4,f=O)),i),b,_=$,v=()=>(_(),_=Zt(l,O=>t(5,b=O)),l);ce(n,pl,O=>t(10,s=O)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>_());let{$$slots:E={},$$scope:I}=e,{queryKey:S}=e,{id:N}=e,{req:C=void 0}=e;return n.$$set=O=>{"queryKey"in O&&t(6,S=O.queryKey),"id"in O&&t(7,N=O.id),"req"in O&&t(8,C=O.req),"$$scope"in O&&t(11,I=O.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=bg(s.rxNostr,S,N,C)),n.$$.dirty&512&&p(t(2,i=r.data)),n.$$.dirty&512&&v(t(1,l=r.status)),n.$$.dirty&512&&c(t(0,o=r.error))},[o,l,i,a,f,b,S,N,C,r,s,I,E]}class _l extends De{constructor(e){super(),Te(this,e,Hg,Jg,Ce,{queryKey:6,id:7,req:8})}}const $g=n=>({}),nu=n=>({}),Kg=n=>({}),ru=n=>({}),Qg=n=>({events:n&16,status:n&32}),iu=n=>{var e;return{events:(e=n[4])==null?void 0:e.map(e_),status:n[5]}},Wg=n=>({error:n&8}),lu=n=>({error:n[3]});function Gg(n){let e;const t=n[12].nodata,r=Ke(t,n,n[11],nu);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2048)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,$g):We(i[11]),nu)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Zg(n){let e;const t=n[12].loading,r=Ke(t,n,n[11],ru);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2048)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Kg):We(i[11]),ru)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Yg(n){let e;const t=n[12].default,r=Ke(t,n,n[11],iu);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2096)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Qg):We(i[11]),iu)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Xg(n){let e;const t=n[12].error,r=Ke(t,n,n[11],lu);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,l){r&&r.m(i,l),e=!0},p(i,l){r&&r.p&&(!e||l&2056)&&Qe(r,t,i,i[11],e?Ge(t,i[11],l,Wg):We(i[11]),lu)},i(i){e||(R(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function xg(n){let e,t,r,i;const l=[Xg,Yg,Zg,Gg],o=[];function s(a,u){var c;return a[3]?0:((c=a[4])==null?void 0:c.length)>0?1:a[5]==="loading"?2:3}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,[u]){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}const e_=({event:n})=>n;function t_(n,e,t){let r,i,l,o,s,a,u=$,c=()=>(u(),u=Zt(o,O=>t(3,a=O)),o),f,d=$,p=()=>(d(),d=Zt(i,O=>t(4,f=O)),i),b,_=$,v=()=>(_(),_=Zt(l,O=>t(5,b=O)),l);ce(n,pl,O=>t(10,s=O)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>_());let{$$slots:E={},$$scope:I}=e,{queryKey:S}=e,{filters:N}=e,{req:C=void 0}=e;return n.$$set=O=>{"queryKey"in O&&t(6,S=O.queryKey),"filters"in O&&t(7,N=O.filters),"req"in O&&t(8,C=O.req),"$$scope"in O&&t(11,I=O.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=yg(s.rxNostr,S,N,C)),n.$$.dirty&512&&p(t(2,i=r.data)),n.$$.dirty&512&&v(t(1,l=r.status)),n.$$.dirty&512&&c(t(0,o=r.error))},[o,l,i,a,f,b,S,N,C,r,s,I,E]}class n_ extends De{constructor(e){super(),Te(this,e,t_,xg,Ce,{queryKey:6,filters:7,req:8})}}function r_(n){let e,t,r=n[0][0]+"",i,l,o=n[0][1]+"",s;return{c(){e=y("div"),t=B("["),i=B(r),l=B(`]\r
		`),s=B(o),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=k(e);t=M(u,"["),i=M(u,r),l=M(u,`]\r
		`),s=M(u,o),u.forEach(h),this.h()},h(){m(e,"class","-mt-0.5 px-2 opacity-70 text-sm whitespace-nowrap overflow-x-hidden")},m(a,u){T(a,e,u),g(e,t),g(e,i),g(e,l),g(e,s)},p(a,u){u&1&&r!==(r=a[0][0]+"")&&W(i,r),u&1&&o!==(o=a[0][1]+"")&&W(s,o)},i:$,o:$,d(a){a&&h(e)}}}function i_(n){let e,t;return e=new _l({props:{queryKey:[n[0][1]],id:n[0][1],$$slots:{nodata:[f_],error:[c_],loading:[u_],default:[a_,({text:r})=>({7:r}),({text:r})=>r?128:0]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.queryKey=[r[0][1]]),i&1&&(l.id=r[0][1]),i&395&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function l_(n){let e,t;return e=new an({props:{queryKey:["metadata",n[0][1]],pubkey:n[0][1],$$slots:{nodata:[__],error:[g_],loading:[m_],default:[p_,({metadata:r})=>({6:r}),({metadata:r})=>r?64:0]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&1&&(l.queryKey=["metadata",r[0][1]]),i&1&&(l.pubkey=r[0][1]),i&325&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function o_(n){let e=n[7].content+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&128&&e!==(e=r[7].content+"")&&W(t,e)},d(r){r&&h(t)}}}function s_(n){let e="<content-warning>",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p:$,d(r){r&&h(t)}}}function a_(n){let e,t,r,i=n[0][0]+"",l,o,s,a,u;function c(b,_){return _&136&&(s=null),s==null&&(s=!!(b[7].tags.some(v_)&&b[3]==!1)),s?s_:o_}let f=c(n,-1),d=f(n);function p(){return n[5](n[7])}return{c(){e=y("div"),t=y("button"),r=B("["),l=B(i),o=B(`]\r
\r
				`),d.c(),this.h()},l(b){e=w(b,"DIV",{class:!0});var _=k(e);t=w(_,"BUTTON",{class:!0});var v=k(t);r=M(v,"["),l=M(v,i),o=M(v,`]\r
\r
				`),d.l(v),v.forEach(h),_.forEach(h),this.h()},h(){m(t,"class","opacity-70 text-sm w-full truncate overflow-x-hidden text-start"),m(e,"class","-mt-1 px-2")},m(b,_){T(b,e,_),g(e,t),g(t,r),g(t,l),g(t,o),d.m(t,null),a||(u=ee(t,"click",p),a=!0)},p(b,_){n=b,_&1&&i!==(i=n[0][0]+"")&&W(l,i),f===(f=c(n,_))&&d?d.p(n,_):(d.d(1),d=f(n),d&&(d.c(),d.m(t,null)))},d(b){b&&h(e),d.d(),a=!1,u()}}}function u_(n){let e,t,r,i=n[0][0]+"",l,o,s=n[0][1]+"",a;return{c(){e=y("div"),t=y("div"),r=B("["),l=B(i),o=B("] "),a=B(s),this.h()},l(u){e=w(u,"DIV",{slot:!0});var c=k(e);t=w(c,"DIV",{class:!0});var f=k(t);r=M(f,"["),l=M(f,i),o=M(f,"] "),a=M(f,s),f.forEach(h),c.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden"),m(e,"slot","loading")},m(u,c){T(u,e,c),g(e,t),g(t,r),g(t,l),g(t,o),g(t,a)},p(u,c){c&1&&i!==(i=u[0][0]+"")&&W(l,i),c&1&&s!==(s=u[0][1]+"")&&W(a,s)},d(u){u&&h(e)}}}function c_(n){let e,t,r,i=n[0][0]+"",l,o,s=n[0][1]+"",a;return{c(){e=y("div"),t=y("div"),r=B("["),l=B(i),o=B("] "),a=B(s),this.h()},l(u){e=w(u,"DIV",{slot:!0});var c=k(e);t=w(c,"DIV",{class:!0});var f=k(t);r=M(f,"["),l=M(f,i),o=M(f,"] "),a=M(f,s),f.forEach(h),c.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden"),m(e,"slot","error")},m(u,c){T(u,e,c),g(e,t),g(t,r),g(t,l),g(t,o),g(t,a)},p(u,c){c&1&&i!==(i=u[0][0]+"")&&W(l,i),c&1&&s!==(s=u[0][1]+"")&&W(a,s)},d(u){u&&h(e)}}}function f_(n){let e,t,r,i=n[0][0]+"",l,o,s=n[0][1]+"",a;return{c(){e=y("div"),t=y("div"),r=B("["),l=B(i),o=B("] "),a=B(s),this.h()},l(u){e=w(u,"DIV",{slot:!0});var c=k(e);t=w(c,"DIV",{class:!0});var f=k(t);r=M(f,"["),l=M(f,i),o=M(f,"] "),a=M(f,s),f.forEach(h),c.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden"),m(e,"slot","nodata")},m(u,c){T(u,e,c),g(e,t),g(t,r),g(t,l),g(t,o),g(t,a)},p(u,c){c&1&&i!==(i=u[0][0]+"")&&W(l,i),c&1&&s!==(s=u[0][1]+"")&&W(a,s)},d(u){u&&h(e)}}}function d_(n){let e=me.npubEncode(n[6].pubkey).slice(0,12)+"",t,r,i=me.npubEncode(n[6].pubkey).slice(-4)+"",l;return{c(){t=B(e),r=B(":"),l=B(i)},l(o){t=M(o,e),r=M(o,":"),l=M(o,i)},m(o,s){T(o,t,s),T(o,r,s),T(o,l,s)},p(o,s){s&64&&e!==(e=me.npubEncode(o[6].pubkey).slice(0,12)+"")&&W(t,e),s&64&&i!==(i=me.npubEncode(o[6].pubkey).slice(-4)+"")&&W(l,i)},d(o){o&&(h(t),h(r),h(l))}}}function h_(n){let e=JSON.parse(n[6].content).name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&64&&e!==(e=JSON.parse(r[6].content).name+"")&&W(t,e)},d(r){r&&h(t)}}}function p_(n){let e,t,r,i,l,o;function s(f,d){return d&64&&(i=null),i==null&&(i=JSON.parse(f[6].content).name!==""),i?h_:d_}let a=s(n,-1),u=a(n);function c(){return n[4](n[6])}return{c(){e=y("div"),t=B(`[p]\r
			`),r=y("button"),u.c(),this.h()},l(f){e=w(f,"DIV",{class:!0});var d=k(e);t=M(d,`[p]\r
			`),r=w(d,"BUTTON",{class:!0});var p=k(r);u.l(p),p.forEach(h),d.forEach(h),this.h()},h(){m(r,"class","w-full truncate text-start"),m(e,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden")},m(f,d){T(f,e,d),g(e,t),g(e,r),u.m(r,null),l||(o=ee(r,"click",c),l=!0)},p(f,d){n=f,a===(a=s(n,d))&&u?u.p(n,d):(u.d(1),u=a(n),u&&(u.c(),u.m(r,null)))},d(f){f&&h(e),u.d(),l=!1,o()}}}function m_(n){let e,t,r,i=n[0][1]+"",l;return{c(){e=y("div"),t=y("div"),r=B("[p] "),l=B(i),this.h()},l(o){e=w(o,"DIV",{slot:!0});var s=k(e);t=w(s,"DIV",{class:!0});var a=k(t);r=M(a,"[p] "),l=M(a,i),a.forEach(h),s.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden"),m(e,"slot","loading")},m(o,s){T(o,e,s),g(e,t),g(t,r),g(t,l)},p(o,s){s&1&&i!==(i=o[0][1]+"")&&W(l,i)},d(o){o&&h(e)}}}function g_(n){let e,t,r,i=n[0][1]+"",l;return{c(){e=y("div"),t=y("div"),r=B("[p] "),l=B(i),this.h()},l(o){e=w(o,"DIV",{slot:!0});var s=k(e);t=w(s,"DIV",{class:!0});var a=k(t);r=M(a,"[p] "),l=M(a,i),a.forEach(h),s.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden"),m(e,"slot","error")},m(o,s){T(o,e,s),g(e,t),g(t,r),g(t,l)},p(o,s){s&1&&i!==(i=o[0][1]+"")&&W(l,i)},d(o){o&&h(e)}}}function __(n){let e,t,r,i=n[0][1]+"",l;return{c(){e=y("div"),t=y("div"),r=B("[p] "),l=B(i),this.h()},l(o){e=w(o,"DIV",{slot:!0});var s=k(e);t=w(s,"DIV",{class:!0});var a=k(t);r=M(a,"[p] "),l=M(a,i),a.forEach(h),s.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-70 text-sm overflow-x-hidden"),m(e,"slot","nodata")},m(o,s){T(o,e,s),g(e,t),g(t,r),g(t,l)},p(o,s){s&1&&i!==(i=o[0][1]+"")&&W(l,i)},d(o){o&&h(e)}}}function b_(n){let e,t,r,i;const l=[l_,i_,r_],o=[];function s(a,u){return a[0][0]==="p"?0:a[0][0]==="e"||a[0][0]==="q"?1:2}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,[u]){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}const v_=n=>n[0]==="content-warning";function y_(n,e,t){let r;ce(n,_r,u=>t(3,r=u));let{tag:i}=e,{handleClickDate:l}=e,{handleClickPubkey:o}=e;const s=u=>{o(u,i[1])},a=u=>{l(u,i)};return n.$$set=u=>{"tag"in u&&t(0,i=u.tag),"handleClickDate"in u&&t(1,l=u.handleClickDate),"handleClickPubkey"in u&&t(2,o=u.handleClickPubkey)},[i,l,o,r,s,a]}class bl extends De{constructor(e){super(),Te(this,e,y_,b_,Ce,{tag:0,handleClickDate:1,handleClickPubkey:2})}}function ou(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","object-contain object-contain max-h-[6rem]"),Ne(e.src,t=n[0].image)||m(e,"src",t),m(e,"alt","")},m(r,i){T(r,e,i)},p(r,i){i&1&&!Ne(e.src,t=r[0].image)&&m(e,"src",t)},d(r){r&&h(e)}}}function su(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","object-contain w-5 pl-0.5 pr-0.5"),Ne(e.src,t=n[0].favicon)||m(e,"src",t),m(e,"alt","")},m(r,i){T(r,e,i)},p(r,i){i&1&&!Ne(e.src,t=r[0].favicon)&&m(e,"src",t)},d(r){r&&h(e)}}}function w_(n){let e,t,r,i,l,o,s,a,u=n[0].title+"",c,f,d,p=n[0].description+"",b,_,v,E,I,S=new URL(n[1]).hostname+"",N,C=n[2]&&n[0].image&&ou(n),O=n[0].favicon!==""&&su(n);return{c(){e=y("div"),t=y("a"),r=y("div"),i=y("div"),l=y("div"),C&&C.c(),o=F(),s=y("div"),a=y("div"),c=B(u),f=F(),d=y("div"),b=B(p),_=F(),v=y("div"),O&&O.c(),E=F(),I=y("div"),N=B(S),this.h()},l(D){e=w(D,"DIV",{class:!0});var A=k(e);t=w(A,"A",{class:!0,href:!0,target:!0});var P=k(t);r=w(P,"DIV",{class:!0});var L=k(r);i=w(L,"DIV",{class:!0});var H=k(i);l=w(H,"DIV",{class:!0});var z=k(l);C&&C.l(z),z.forEach(h),o=j(H),s=w(H,"DIV",{class:!0});var V=k(s);a=w(V,"DIV",{class:!0});var x=k(a);c=M(x,u),x.forEach(h),f=j(V),d=w(V,"DIV",{class:!0});var J=k(d);b=M(J,p),J.forEach(h),V.forEach(h),H.forEach(h),_=j(L),v=w(L,"DIV",{class:!0});var q=k(v);O&&O.l(q),E=j(q),I=w(q,"DIV",{class:!0});var Z=k(I);N=M(Z,S),Z.forEach(h),q.forEach(h),L.forEach(h),P.forEach(h),A.forEach(h),this.h()},h(){m(l,"class","overflow-hidden relative rounded-xl max-h-[6rem]"),m(a,"class","line-clamp-2 text-sm font-bold text-primary-700 dark:text-primary-100"),m(d,"class","line-clamp-4 text-xs text-primary-500 dark:text-primary-300"),m(s,"class","p-0.5 grid grid-rows-[auto_1fr] z-10 min-w-[12em]"),m(i,"class","grid grid-cols-[auto_1fr] gap-0.5"),m(I,"class","text-xs text-primary-500 dark:text-primary-300"),m(v,"class","flex flex-row-reverse ... -my-1"),m(r,"class","grid grid-rows-[auto_1fr]"),m(t,"class",""),m(t,"href",n[1]),m(t,"target","_blank"),m(e,"class","drop-shadow-md rounded-xl m-1 p-1 border border-primary-400 hover:drop-shadow-xl z-20 break-all bg-primary-200 dark:bg-primary-700 dark:hover:border-primary-400 dark:border-primary-500")},m(D,A){T(D,e,A),g(e,t),g(t,r),g(r,i),g(i,l),C&&C.m(l,null),g(i,o),g(i,s),g(s,a),g(a,c),g(s,f),g(s,d),g(d,b),g(r,_),g(r,v),O&&O.m(v,null),g(v,E),g(v,I),g(I,N)},p(D,[A]){D[2]&&D[0].image?C?C.p(D,A):(C=ou(D),C.c(),C.m(l,null)):C&&(C.d(1),C=null),A&1&&u!==(u=D[0].title+"")&&W(c,u),A&1&&p!==(p=D[0].description+"")&&W(b,p),D[0].favicon!==""?O?O.p(D,A):(O=su(D),O.c(),O.m(v,E)):O&&(O.d(1),O=null),A&2&&S!==(S=new URL(D[1]).hostname+"")&&W(N,S),A&2&&m(t,"href",D[1])},i:$,o:$,d(D){D&&h(e),C&&C.d(),O&&O.d()}}}function k_(n,e,t){let r;ce(n,Pt,o=>t(2,r=o));let{ogp:i}=e,{url:l}=e;return n.$$set=o=>{"ogp"in o&&t(0,i=o.ogp),"url"in o&&t(1,l=o.url)},[i,l,r]}class Ht extends De{constructor(e){super(),Te(this,e,k_,w_,Ce,{ogp:0,url:1})}}const au=/(:[^:\s]+:)/,uu=/(https?:\/\/+[^\s"'<`\]\)]+[^\s"'<`:\].\)]+)/,cu=/\.(?:jpg|jpeg|png|gif|webp)$/i,fu=/(nostr:[A-Za-z0-9]+)/,du=/(#\[\d+\])/i,hu=/(\B#[^\s#.?:/。、　()（）]+)/gi;async function E_(n,e){var t;try{const r=e.filter(c=>c[0]==="emoji"),i=e.filter(c=>c[0]==="t");i.sort((c,f)=>f[1].length-c[1].length);let l=[];r.length>0&&l.push(au.source),i.length>0&&l.push(hu.source),l.push(fu.source),l.push(uu.source),l.push(cu.source),l.push(du.source);const o=new RegExp(l.join("|"),"g"),s=n.split(o),a=[];let u=0;for(let c of s)if(c!==void 0){try{if(c.match(fu)){const f=c.indexOf("nostr:"),d=c.slice(0,f),p=c.slice(f);a.push({content:d,type:"text"}),a.push({content:p,type:"nostr",url:p.slice(6)})}else if(r.length>0&&c.match(au)){const f=(t=r.find(d=>`:${d[1]}:`===c))==null?void 0:t[2];f?a.push({content:c,type:"emoji",url:f}):a.push({content:c,type:"text"})}else O_(c)?c.match(uu)?c.match(cu)?a.push({content:c,type:"image"}):a.push({content:c,type:"url"}):a.push({content:c,type:"url"}):c.match(du)?parseInt(c.slice(2,-1))<e.length?a.push({content:c,type:"quote",number:parseInt(c.slice(2,-1))}):a.push({content:c,type:"text"}):i.length>0&&c.match(hu)?i.find(d=>new RegExp(`${d[1]}`,"i").test(c))?a.push({content:c,type:"hashtag"}):a.push({content:c,type:"text"}):a.push({content:c,type:"text"})}catch(f){console.log("Error processing word:",c,f)}u++}return a}catch(r){return console.log("Error in extractTextParts:",r),[{content:n,type:"text"}]}}function O_(n){const e=/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i;try{return new URL(n),e.test(n)}catch{return!1}}function pu(n){let e,t,r,i,l,o,s=n[0].buttonTextCancel+"",a,u,c,f,d;return{c(){e=y("div"),t=y("img"),i=F(),l=y("footer"),o=y("button"),a=B(s),this.h()},l(p){e=w(p,"DIV",{class:!0});var b=k(e);t=w(b,"IMG",{src:!0,alt:!0,class:!0}),i=j(b),l=w(b,"FOOTER",{class:!0});var _=k(l);o=w(_,"BUTTON",{class:!0});var v=k(o);a=M(v,s),v.forEach(h),_.forEach(h),b.forEach(h),this.h()},h(){var p;Ne(t.src,r=(p=n[1][0])==null?void 0:p.image)||m(t,"src",r),m(t,"alt",""),m(t,"class","svelte-7u9tcu"),m(o,"class",u="btn "+n[0].buttonNeutral),m(l,"class",c="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+S_)},m(p,b){T(p,e,b),g(e,t),g(e,i),g(e,l),g(l,o),g(o,a),f||(d=[ee(t,"click",n[2]),ee(o,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],f=!0)},p(p,b){var _;n=p,b&2&&!Ne(t.src,r=(_=n[1][0])==null?void 0:_.image)&&m(t,"src",r),b&1&&s!==(s=n[0].buttonTextCancel+"")&&W(a,s),b&1&&u!==(u="btn "+n[0].buttonNeutral)&&m(o,"class",u),b&1&&c!==(c="modal-footer "+n[0].regionFooter)&&m(l,"class",c)},d(p){p&&h(e),f=!1,je(d)}}}function I_(n){let e,t=n[1][0]&&pu(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=pu(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(r){r&&h(e),t&&t.d(r)}}}const S_="card p-4  shadow-xl space-y-4 break-all";function N_(n,e,t){let r;ce(n,Re,o=>t(1,r=o));let{parent:i}=e;function l(){var o;window.open((o=r[0])==null?void 0:o.image,"_blank")}return n.$$set=o=>{"parent"in o&&t(0,i=o.parent)},[i,r,l]}class C_ extends De{constructor(e){super(),Te(this,e,N_,I_,Ce,{parent:0})}}function D_(n){let e,t;return e=new Ht({props:{ogp:{title:n[1],image:n[0],description:n[2],favicon:"https://unyu-house.vercel.app/favicon.ico"},url:n[3]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,[i]){const l={};i&7&&(l.ogp={title:r[1],image:r[0],description:r[2],favicon:"https://unyu-house.vercel.app/favicon.ico"}),i&8&&(l.url=r[3]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function T_(n,e,t){let r;ce(n,Pt,d=>t(8,r=d));let{text:i}=e,{id:l}=e,{event:o}=e,s,a,u,c,f;return n.$$set=d=>{"text"in d&&t(4,i=d.text),"id"in d&&t(5,l=d.id),"event"in d&&t(6,o=d.event)},n.$$.update=()=>{if(n.$$.dirty&256&&console.log(r),n.$$.dirty&16&&i)try{const d=JSON.parse(i);t(1,s=d.name??""),t(0,a=d.picture??""),t(2,u=d.about??"")}catch{t(1,s=i)}if(n.$$.dirty&1&&console.log(a),n.$$.dirty&32&&l&&t(7,c=me.neventEncode({id:l})),n.$$.dirty&192)if(o.kind===40)t(3,f=`https://unyu-house.vercel.app/channels/${c}`);else{const d=o.tags.find(p=>p[0]==="e");if(d)try{const p=me.neventEncode({id:d[1]});t(3,f=`https://unyu-house.vercel.app/channels/${p}`)}catch{t(3,f="https://unyu-house.vercel.app/")}}},[a,s,u,f,i,l,o,c,r]}class un extends De{constructor(e){super(),Te(this,e,T_,D_,Ce,{text:4,id:5,event:6})}}const A_='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>';function mu(n,e,t){const r=n.slice();return r[19]=e[t],r}function gu(n,e,t){const r=n.slice();return r[22]=e[t],r[24]=t,r}function _u(n){let e,t,r,i=(n[6][0].title??"(title missing)")+"",l,o,s,a,u,c,f,d,p,b,_,v,E,I,S,N,C,O=n[0].buttonTextCancel+"",D,A,P,L,H,z,V=n[5]&&bu(),x=n[6][0].value.filter&&vu(n),J=Be(n[7]),q=[];for(let Q=0;Q<J.length;Q+=1)q[Q]=yu(gu(n,J,Q));let Z=n[6][0].value.isPageOwner&&n[3].sig!==""&&wu(n),oe=n[3].sig!==""&&ku(n),Y=n[2].length>0&&Eu(n);return{c(){e=y("div"),t=y("div"),r=y("header"),l=B(i),o=F(),V&&V.c(),s=F(),a=y("article"),x&&x.c(),u=F(),c=y("div");for(let Q=0;Q<q.length;Q+=1)q[Q].c();f=F(),d=y("button"),p=B("search"),_=F(),Z&&Z.c(),v=F(),oe&&oe.c(),E=F(),Y&&Y.c(),I=F(),S=y("label"),N=y("footer"),C=y("button"),D=B(O),this.h()},l(Q){e=w(Q,"DIV",{class:!0});var G=k(e);t=w(G,"DIV",{class:!0});var fe=k(t);r=w(fe,"HEADER",{class:!0});var ue=k(r);l=M(ue,i),ue.forEach(h),o=j(fe),V&&V.l(fe),fe.forEach(h),s=j(G),a=w(G,"ARTICLE",{class:!0});var X=k(a);x&&x.l(X),X.forEach(h),u=j(G),c=w(G,"DIV",{class:!0});var K=k(c);for(let de=0;de<q.length;de+=1)q[de].l(K);K.forEach(h),f=j(G),d=w(G,"BUTTON",{class:!0});var se=k(d);p=M(se,"search"),se.forEach(h),_=j(G),Z&&Z.l(G),v=j(G),oe&&oe.l(G),E=j(G),Y&&Y.l(G),I=j(G),S=w(G,"LABEL",{class:!0});var te=k(S);N=w(te,"FOOTER",{class:!0});var be=k(N);C=w(be,"BUTTON",{class:!0});var he=k(C);D=M(he,O),he.forEach(h),be.forEach(h),te.forEach(h),G.forEach(h),this.h()},h(){m(r,"class",V_),m(t,"class","grid grid-cols-[1fr_auto]"),m(a,"class","body break-all whitespace-pre-wrap text-xs"),m(c,"class","break-all text-sm grid grid-cols-[0.5fr_0.5fr]"),m(d,"class",b="btn "+n[0].buttonNeutral),m(C,"class",A="btn "+n[0].buttonNeutral),m(N,"class",P="modal-footer "+n[0].regionFooter),m(S,"class","label break-all whitespace-pre-wrap"),m(e,"class","modal-example-form "+R_+" overflow-h-auto")},m(Q,G){T(Q,e,G),g(e,t),g(t,r),g(r,l),g(t,o),V&&V.m(t,null),g(e,s),g(e,a),x&&x.m(a,null),g(e,u),g(e,c);for(let fe=0;fe<q.length;fe+=1)q[fe]&&q[fe].m(c,null);g(e,f),g(e,d),g(d,p),g(e,_),Z&&Z.m(e,null),g(e,v),oe&&oe.m(e,null),g(e,E),Y&&Y.m(e,null),g(e,I),g(e,S),g(S,N),g(N,C),g(C,D),L=!0,H||(z=[ee(d,"click",n[8]),ee(C,"click",n[11])],H=!0)},p(Q,G){if((!L||G&64)&&i!==(i=(Q[6][0].title??"(title missing)")+"")&&W(l,i),Q[5]?V?G&32&&R(V,1):(V=bu(),V.c(),R(V,1),V.m(t,null)):V&&(ye(),U(V,1,1,()=>{V=null}),we()),Q[6][0].value.filter?x?x.p(Q,G):(x=vu(Q),x.c(),x.m(a,null)):x&&(x.d(1),x=null),G&130){J=Be(Q[7]);let fe;for(fe=0;fe<J.length;fe+=1){const ue=gu(Q,J,fe);q[fe]?q[fe].p(ue,G):(q[fe]=yu(ue),q[fe].c(),q[fe].m(c,null))}for(;fe<q.length;fe+=1)q[fe].d(1);q.length=J.length}(!L||G&1&&b!==(b="btn "+Q[0].buttonNeutral))&&m(d,"class",b),Q[6][0].value.isPageOwner&&Q[3].sig!==""?Z?Z.p(Q,G):(Z=wu(Q),Z.c(),Z.m(e,v)):Z&&(Z.d(1),Z=null),Q[3].sig!==""?oe?oe.p(Q,G):(oe=ku(Q),oe.c(),oe.m(e,E)):oe&&(oe.d(1),oe=null),Q[2].length>0?Y?Y.p(Q,G):(Y=Eu(Q),Y.c(),Y.m(e,I)):Y&&(Y.d(1),Y=null),(!L||G&1)&&O!==(O=Q[0].buttonTextCancel+"")&&W(D,O),(!L||G&1&&A!==(A="btn "+Q[0].buttonNeutral))&&m(C,"class",A),(!L||G&1&&P!==(P="modal-footer "+Q[0].regionFooter))&&m(N,"class",P)},i(Q){L||(R(V),L=!0)},o(Q){U(V),L=!1},d(Q){Q&&h(e),V&&V.d(),x&&x.d(),St(q,Q),Z&&Z.d(),oe&&oe.d(),Y&&Y.d(),H=!1,je(z)}}}function bu(n){let e,t;return e=new cf({props:{"...":!0,stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30",width:"w-12"}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function vu(n){let e,t,r,i=JSON.stringify(n[6][0].value.filter,null,2)+"",l;return{c(){e=B("filter:"),t=y("br"),r=F(),l=B(i)},l(o){e=M(o,"filter:"),t=w(o,"BR",{}),r=j(o),l=M(o,i)},m(o,s){T(o,e,s),T(o,t,s),T(o,r,s),T(o,l,s)},p(o,s){s&64&&i!==(i=JSON.stringify(o[6][0].value.filter,null,2)+"")&&W(l,i)},d(o){o&&(h(e),h(t),h(r),h(l))}}}function yu(n){let e,t,r,i,l=n[22]+"",o,s;return{c(){e=y("div"),t=y("span"),i=F(),o=B(l),s=F(),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=k(e);t=w(u,"SPAN",{class:!0}),k(t).forEach(h),i=j(u),o=M(u,l),s=j(u),u.forEach(h),this.h()},h(){m(t,"class",r=Iu(n[1][n[22]])),m(e,"class","card m-0 p-0 text-sm bg-grey")},m(a,u){T(a,e,u),g(e,t),g(e,i),g(e,o),g(e,s)},p(a,u){u&2&&r!==(r=Iu(a[1][a[22]]))&&m(t,"class",r)},d(a){a&&h(e)}}}function wu(n){let e,t,r,i,l;return{c(){e=y("button"),t=B("Bloadcast"),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=M(s,"Bloadcast"),s.forEach(h),this.h()},h(){m(e,"class",r="btn "+n[0].buttonNeutral)},m(o,s){T(o,e,s),g(e,t),i||(l=ee(e,"click",n[10]),i=!0)},p(o,s){s&1&&r!==(r="btn "+o[0].buttonNeutral)&&m(e,"class",r)},d(o){o&&h(e),i=!1,l()}}}function ku(n){let e,t="Event",r,i,l=JSON.stringify(n[3],null,2)+"",o;return{c(){e=y("div"),e.textContent=t,r=F(),i=y("div"),o=B(l),this.h()},l(s){e=w(s,"DIV",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-1olktw3"&&(e.textContent=t),r=j(s),i=w(s,"DIV",{class:!0});var a=k(i);o=M(a,l),a.forEach(h),this.h()},h(){m(e,"class","border"),m(i,"class","break-all whitespace-pre-wrap max-h-[8rem] overflow-y-auto")},m(s,a){T(s,e,a),T(s,r,a),T(s,i,a),g(i,o)},p(s,a){a&8&&l!==(l=JSON.stringify(s[3],null,2)+"")&&W(o,l)},d(s){s&&(h(e),h(r),h(i))}}}function Eu(n){let e,t="Log",r,i,l=Be(n[2]),o=[];for(let s=0;s<l.length;s+=1)o[s]=Ou(mu(n,l,s));return{c(){e=y("div"),e.textContent=t,r=F(),i=y("div");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-l2bs0l"&&(e.textContent=t),r=j(s),i=w(s,"DIV",{class:!0});var a=k(i);for(let u=0;u<o.length;u+=1)o[u].l(a);a.forEach(h),this.h()},h(){m(e,"class","border"),m(i,"class","break-all whitespace-pre-wrap max-h-[8rem] overflow-y-auto")},m(s,a){T(s,e,a),T(s,r,a),T(s,i,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null)},p(s,a){if(a&4){l=Be(s[2]);let u;for(u=0;u<l.length;u+=1){const c=mu(s,l,u);o[u]?o[u].p(c,a):(o[u]=Ou(c),o[u].c(),o[u].m(i,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},d(s){s&&(h(e),h(r),h(i)),St(o,s)}}}function Ou(n){let e,t,r=n[19]+"";return{c(){e=y("div"),t=new Ee(!1),this.h()},l(i){e=w(i,"DIV",{class:!0});var l=k(e);t=Oe(l,!1),l.forEach(h),this.h()},h(){t.a=null,m(e,"class","break-all whitespace-pre-wrap")},m(i,l){T(i,e,l),t.m(r,e)},p(i,l){l&4&&r!==(r=i[19]+"")&&t.p(r)},d(i){i&&h(e)}}}function P_(n){let e,t,r=n[6][0]&&_u(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,[l]){i[6][0]?r?(r.p(i,l),l&64&&R(r,1)):(r=_u(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}const R_="card p-4 w-modal shadow-xl space-y-4",V_="text-2xl font-bold";function Iu(n){switch(n){case 1:return"badge bg-surface-400";case 2:return"badge bg-warning-400";case 3:return"badge bg-error-400";case 4:return"badge bg-success-500";default:return"badge bg-surface-300"}}function B_(n,e,t){let r,i,l;ce(n,Ct,S=>t(12,r=S)),ce(n,ln,S=>t(13,i=S)),ce(n,Re,S=>t(6,l=S));let{parent:o}=e;const s=["wss://nos.lol","wss://relay.damus.io","wss://nostr-pub.wellorder.net","wss://relay.nostr.band","wss://yabu.me","wss://relay-jp.nostr.wirednet.jp","wss://relay.nostr.wirednet.jp","wss://nostr-relay.nokotaro.com","wss://nostr.wine","wss://nostr.bitcoiner.social","wss://relay.nostr.bg","wss://nostr.mom","wss://relay.orangepill.dev","wss://relay.nostr.com.au","wss://offchain.pub","wss://nostr.fmt.wiz.biz","wss://nostr.mutinywallet.com","wss://e.nos.lol","wss://relayable.org","wss://relay.mostr.pub"];let a={};s.forEach(S=>{t(1,a[S]=0,a)});const u={id:"",pubkey:"",created_at:0,kind:1,tags:[],content:"",sig:""};let c={id:"",pubkey:"",created_at:0,kind:1,tags:[],content:"",sig:""},f,d=[],p=!1;const b=Yr();b.setRelays(s);function _(){if(f&&!f.closed)return;t(5,p=!0),t(2,d=[]),t(3,c=u),console.log(l[0].value.filter);const S=[l[0].value.filter],N=dl({filters:S});s.forEach(A=>{t(1,a[A]=1,a)});const C=b.use(N).pipe(Hn()),O={next:A=>{console.log(A),t(1,a[A.from]=4,a),t(3,c=A.event)},error:A=>{console.error("Error occurred:",A)},complete:()=>{console.log("Subscription completed"),t(5,p=!1)}};t(4,f=C.subscribe(O));const D=b.createAllErrorObservable().subscribe(A=>{console.error("Error occurred globally:",A),t(1,a[A.from]=3,a)});setTimeout(()=>{f.unsubscribe(),t(5,p=!1),c.sig===""&&d.push("failed to get Event"),D.unsubscribe()},5*1e3)}let v=[];async function E(){t(5,p=!0),f.closed||f.unsubscribe();for(let S=0;S<i[r].postRelays.length;S++){const N=new WebSocket(i[r].postRelays[S]);v.push(N),N.onopen=()=>{d.push(`Connected to ${i[r].postRelays[S]}`),t(2,d),N.send(JSON.stringify(["EVENT",c]))},N.onmessage=C=>{console.log(C);const O=JSON.parse(C.data);d.push(`message from ${i[r].postRelays[S]}: ${C.data}`),t(2,d),O[2]?(d.push(`<span class="font-bold">Success: ${i[r].postRelays[S]}</span>`),t(2,d)):(d.push(`<span class="font-bold">Failed: ${i[r].postRelays[1]}</span> (reason:  ${O[3]})`),t(2,d)),N.close(),t(5,p=!1)}}}const I=()=>{f&&!f.closed&&f.unsubscribe(),v.forEach(S=>{S.OPEN&&S.close()}),o.onClose()};return n.$$set=S=>{"parent"in S&&t(0,o=S.parent)},n.$$.update=()=>{n.$$.dirty&2&&t(1,a),n.$$.dirty&4&&t(2,d)},[o,a,d,c,f,p,l,s,_,v,E,I]}class M_ extends De{constructor(e){super(),Te(this,e,B_,P_,Ce,{parent:0})}}function L_(n){let e,t,r,i,l,o,s,a,u,c;return{c(){e=y("div"),t=y("div"),r=y("button"),i=new Ee(!1),l=F(),o=y("div"),s=B(n[1]),this.h()},l(f){e=w(f,"DIV",{class:!0});var d=k(e);t=w(d,"DIV",{class:!0});var p=k(t);r=w(p,"BUTTON",{class:!0});var b=k(r);i=Oe(b,!1),b.forEach(h),p.forEach(h),l=j(d),o=w(d,"DIV",{class:!0});var _=k(o);s=M(_,n[1]),_.forEach(h),d.forEach(h),this.h()},h(){i.a=null,m(r,"class","fill-white btn m-0 p-1 variant-filled-secondary rounded-full"),m(t,"class","flex justify-center items-center h-auto"),m(o,"class",a="break-all whitespace-pre-wrap overflow-x-hidden "+n[2]),m(e,"class","grid grid-cols-[auto_1fr] gap-1.5")},m(f,d){T(f,e,d),g(e,t),g(t,r),i.m(A_,r),g(e,l),g(e,o),g(o,s),u||(c=ee(r,"click",n[5]),u=!0)},p(f,[d]){d&2&&W(s,f[1]),d&4&&a!==(a="break-all whitespace-pre-wrap overflow-x-hidden "+f[2])&&m(o,"class",a)},i:$,o:$,d(f){f&&h(e),u=!1,c()}}}function q_(n,e,t){let r;ce(n,on,d=>t(6,r=d));let{isPageOwner:i}=e,{filter:l}=e,{message:o}=e,{textSize:s=""}=e;const a=Ro(),u={ref:M_,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function c(d){const p={type:"component",component:u,title:r("modal.search.title"),body:"",value:{filter:d,isPageOwner:i},response:async b=>{}};a.trigger(p)}const f=()=>{c(l)};return n.$$set=d=>{"isPageOwner"in d&&t(4,i=d.isPageOwner),"filter"in d&&t(0,l=d.filter),"message"in d&&t(1,o=d.message),"textSize"in d&&t(2,s=d.textSize)},[l,o,s,c,i,f]}class $t extends De{constructor(e){super(),Te(this,e,q_,L_,Ce,{isPageOwner:4,filter:0,message:1,textSize:2})}}function Su(n,e,t){const r=n.slice();return r[29]=e[t],r}function Nu(n,e,t){const r=n.slice();return r[29]=e[t],r}function U_(n){let e,t,r,i,l;t=new an({props:{queryKey:["metadata",n[12](n[0]).pubkey],pubkey:n[12](n[0]).pubkey,$$slots:{nodata:[K_],error:[$_],loading:[H_],default:[J_,({metadata:s})=>({27:s}),({metadata:s})=>[s?134217728:0]]},$$scope:{ctx:n}}});let o={ctx:n,current:null,token:null,hasCatch:!1,pending:X_,then:W_,catch:Q_,value:26,blocks:[,,,]};return rt(i=n[7](n[0]),o),{c(){e=y("div"),ne(t.$$.fragment),r=F(),o.block.c(),this.h()},l(s){e=w(s,"DIV",{class:!0});var a=k(e);re(t.$$.fragment,a),r=j(a),o.block.l(a),a.forEach(h),this.h()},h(){m(e,"class","card border border-surface-400 px-3 py-2")},m(s,a){T(s,e,a),ie(t,e,null),g(e,r),o.block.m(e,o.anchor=null),o.mount=()=>e,o.anchor=null,l=!0},p(s,a){n=s;const u={};a[0]&1&&(u.queryKey=["metadata",n[12](n[0]).pubkey]),a[0]&1&&(u.pubkey=n[12](n[0]).pubkey),a[0]&134217729|a[1]&8&&(u.$$scope={dirty:a,ctx:n}),t.$set(u),o.ctx=n,a[0]&1&&i!==(i=n[7](n[0]))&&rt(i,o)||Yt(o,n,a)},i(s){l||(R(t.$$.fragment,s),R(o.block),l=!0)},o(s){U(t.$$.fragment,s);for(let a=0;a<3;a+=1){const u=o.blocks[a];U(u)}l=!1},d(s){s&&h(e),le(t),o.block.d(),o.token=null,o=null}}}function z_(n){let e,t;return e=new an({props:{queryKey:["metadata",n[11](n[0]).pubkey],pubkey:n[11](n[0]).pubkey,$$slots:{nodata:[nb],error:[tb],loading:[eb],default:[x_,({metadata:r})=>({27:r}),({metadata:r})=>[r?134217728:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.queryKey=["metadata",r[11](r[0]).pubkey]),i[0]&1&&(l.pubkey=r[11](r[0]).pubkey),i[0]&134217729|i[1]&8&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function F_(n){let e,t;return e=new an({props:{queryKey:["metadata",me.decode(n[0]).data],pubkey:n[10](n[0]),$$slots:{nodata:[ob],error:[lb],loading:[ib],default:[rb,({metadata:r})=>({27:r}),({metadata:r})=>[r?134217728:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.queryKey=["metadata",me.decode(r[0]).data]),i[0]&1&&(l.pubkey=r[10](r[0])),i[0]&134217729|i[1]&8&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function j_(n){let e,t,r,i;return r=new _l({props:{queryKey:[n[8](n[0])],id:n[8](n[0]),$$slots:{nodata:[Db],error:[Cb],loading:[Nb],default:[Sb,({text:l})=>({26:l}),({text:l})=>[l?67108864:0]]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);re(r.$$.fragment,s),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","w-full grid grid-rows-[auto_auto] gap-0 h-fix"),m(e,"class","card border border-surface-400 px-3 py-2 mt-1")},m(l,o){T(l,e,o),g(e,t),ie(r,t,null),i=!0},p(l,o){const s={};o[0]&1&&(s.queryKey=[l[8](l[0])]),o[0]&1&&(s.id=l[8](l[0])),o[0]&67108895|o[1]&8&&(s.$$scope={dirty:o,ctx:l}),r.$set(s)},i(l){i||(R(r.$$.fragment,l),i=!0)},o(l){U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(r)}}}function J_(n){let e,t,r,i=JSON.parse(n[27].content).name+"",l,o,s;function a(){return n[19](n[27])}return{c(){e=y("button"),t=y("u"),r=B("@"),l=B(i),this.h()},l(u){e=w(u,"BUTTON",{class:!0});var c=k(e);t=w(c,"U",{});var f=k(t);r=M(f,"@"),l=M(f,i),f.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","inline-flex text-surface-600 dark:text-surface-300 break-all whitespace-pre-wrap")},m(u,c){T(u,e,c),g(e,t),g(t,r),g(t,l),o||(s=ee(e,"click",a),o=!0)},p(u,c){n=u,c[0]&134217728&&i!==(i=JSON.parse(n[27].content).name+"")&&W(l,i)},d(u){u&&h(e),o=!1,s()}}}function H_(n){let e,t,r=n[12](n[0]).pubkey+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=l[12](l[0]).pubkey+"")&&W(i,r)},d(l){l&&h(e)}}}function $_(n){let e,t,r=n[12](n[0]).pubkey+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","error")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=l[12](l[0]).pubkey+"")&&W(i,r)},d(l){l&&h(e)}}}function K_(n){let e,t,r=n[12](n[0]).pubkey+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=l[12](l[0]).pubkey+"")&&W(i,r)},d(l){l&&h(e)}}}function Q_(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function W_(n){let e,t,r=n[26]&&Cu(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,l){i[26]?r?(r.p(i,l),l[0]&1&&R(r,1)):(r=Cu(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}function Cu(n){let e,t=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",r,i,l,o,s,a,u,c,f,d;function p(){return n[20](n[26])}let b=n[26].tags.length>0&&Du(n);const _=[Y_,Z_,G_],v=[];function E(I,S){return I[26].kind===31990?0:I[26].kind===40||I[26].kind===41?1:2}return a=E(n),u=v[a]=_[a](n),{c(){e=y("button"),r=B(t),i=F(),l=y("div"),b&&b.c(),o=F(),s=y("div"),u.c(),this.h()},l(I){e=w(I,"BUTTON",{class:!0});var S=k(e);r=M(S,t),S.forEach(h),i=j(I),l=w(I,"DIV",{class:!0});var N=k(l);b&&b.l(N),o=j(N),s=w(N,"DIV",{class:!0});var C=k(s);u.l(C),C.forEach(h),N.forEach(h),this.h()},h(){m(e,"class","-mt-0.5 ml-2 text-xs underline decoration-secondary-500"),m(s,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(l,"class","w-full grid grid-rows-[auto_auto] gap-0 h-fix")},m(I,S){T(I,e,S),g(e,r),T(I,i,S),T(I,l,S),b&&b.m(l,null),g(l,o),g(l,s),v[a].m(s,null),c=!0,f||(d=ee(e,"click",p),f=!0)},p(I,S){n=I,(!c||S[0]&1)&&t!==(t=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(r,t),n[26].tags.length>0?b?(b.p(n,S),S[0]&1&&R(b,1)):(b=Du(n),b.c(),R(b,1),b.m(l,o)):b&&(ye(),U(b,1,1,()=>{b=null}),we());let N=a;a=E(n),a===N?v[a].p(n,S):(ye(),U(v[N],1,1,()=>{v[N]=null}),we(),u=v[a],u?u.p(n,S):(u=v[a]=_[a](n),u.c()),R(u,1),u.m(s,null))},i(I){c||(R(b),R(u),c=!0)},o(I){U(b),U(u),c=!1},d(I){I&&(h(e),h(i),h(l)),b&&b.d(),v[a].d(),f=!1,d()}}}function Du(n){let e,t,r=Be(n[26].tags),i=[];for(let o=0;o<r.length;o+=1)i[o]=Tu(Su(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){e=y("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(h),this.h()},h(){m(e,"class","max-h-[4em] overflow-y-auto whitespace-nowrap border-s-4 border-s-surface-500/25 dark:border-s-surface-500/50 box-border")},m(o,s){T(o,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(o,s){if(s[0]&193){r=Be(o[26].tags);let a;for(a=0;a<r.length;a+=1){const u=Su(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=Tu(u),i[a].c(),R(i[a],1),i[a].m(e,null))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function Tu(n){let e,t;return e=new bl({props:{tag:n[29],handleClickDate:n[6],handleClickPubkey:n[6]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.tag=r[29]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function G_(n){let e,t;return e=new cn({props:{text:n[26].content,tag:n[26].tags,id:n[26].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.text=r[26].content),i[0]&1&&(l.tag=r[26].tags),i[0]&1&&(l.id=r[26].id),i[0]&8&&(l.view=r[3]),i[0]&4&&(l.pubkey=r[2]),i[0]&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Z_(n){let e,t;return e=new un({props:{event:n[26],text:n[26].content,id:n[26].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.event=r[26]),i[0]&1&&(l.text=r[26].content),i[0]&1&&(l.id=r[26].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Y_(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[26].content).name,image:JSON.parse(n[26].content).banner,description:JSON.parse(n[26].content).about,favicon:JSON.parse(n[26].content).picture},url:JSON.parse(n[26].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&1&&(l.ogp={title:JSON.parse(r[26].content).name,image:JSON.parse(r[26].content).banner,description:JSON.parse(r[26].content).about,favicon:JSON.parse(r[26].content).picture}),i[0]&1&&(l.url=JSON.parse(r[26].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function X_(n){let e,t;return{c(){e=y("div"),t=B(n[0]),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=M(i,n[0]),i.forEach(h),this.h()},h(){m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap")},m(r,i){T(r,e,i),g(e,t)},p(r,i){i[0]&1&&W(t,r[0])},i:$,o:$,d(r){r&&h(e)}}}function x_(n){let e,t,r,i=JSON.parse(n[27].content).name+"",l,o,s;function a(){return n[18](n[27])}return{c(){e=y("button"),t=y("u"),r=B("@"),l=B(i),this.h()},l(u){e=w(u,"BUTTON",{class:!0});var c=k(e);t=w(c,"U",{});var f=k(t);r=M(f,"@"),l=M(f,i),f.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","inline-flex text-surface-600 dark:text-surface-300 break-all whitespace-pre-wrap")},m(u,c){T(u,e,c),g(e,t),g(t,r),g(t,l),o||(s=ee(e,"click",a),o=!0)},p(u,c){n=u,c[0]&134217728&&i!==(i=JSON.parse(n[27].content).name+"")&&W(l,i)},d(u){u&&h(e),o=!1,s()}}}function eb(n){let e,t,r=n[11](n[0]).pubkey+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=l[11](l[0]).pubkey+"")&&W(i,r)},d(l){l&&h(e)}}}function tb(n){let e,t,r=n[11](n[0]).pubkey+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","error")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=l[11](l[0]).pubkey+"")&&W(i,r)},d(l){l&&h(e)}}}function nb(n){let e,t,r=n[11](n[0]).pubkey+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=l[11](l[0]).pubkey+"")&&W(i,r)},d(l){l&&h(e)}}}function rb(n){let e,t,r,i=JSON.parse(n[27].content).name+"",l,o,s;function a(){return n[17](n[27])}return{c(){e=y("button"),t=y("u"),r=B("@"),l=B(i),this.h()},l(u){e=w(u,"BUTTON",{class:!0});var c=k(e);t=w(c,"U",{});var f=k(t);r=M(f,"@"),l=M(f,i),f.forEach(h),c.forEach(h),this.h()},h(){m(e,"class","inline-flex text-surface-600 dark:text-surface-300")},m(u,c){T(u,e,c),g(e,t),g(t,r),g(t,l),o||(s=ee(e,"click",a),o=!0)},p(u,c){n=u,c[0]&134217728&&i!==(i=JSON.parse(n[27].content).name+"")&&W(l,i)},d(u){u&&h(e),o=!1,s()}}}function ib(n){let e,t,r=me.decode(n[0]).data+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=me.decode(l[0]).data+"")&&W(i,r)},d(l){l&&h(e)}}}function lb(n){let e,t,r=me.decode(n[0]).data+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","error")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=me.decode(l[0]).data+"")&&W(i,r)},d(l){l&&h(e)}}}function ob(n){let e,t,r=me.decode(n[0]).data+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o[0]&1&&r!==(r=me.decode(l[0]).data+"")&&W(i,r)},d(l){l&&h(e)}}}function Au(n){let e=JSON.parse(n[27].content).picture,t,r=e&&Pu(n);return{c(){r&&r.c(),t=ae()},l(i){r&&r.l(i),t=ae()},m(i,l){r&&r.m(i,l),T(i,t,l)},p(i,l){l[0]&134217728&&(e=JSON.parse(i[27].content).picture),e?r?r.p(i,l):(r=Pu(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(i){i&&h(t),r&&r.d(i)}}}function Pu(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","h-5 object-contain justify-center"),Ne(e.src,t=JSON.parse(n[27].content).picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){T(r,e,i)},p(r,i){i[0]&134217728&&!Ne(e.src,t=JSON.parse(r[27].content).picture)&&m(e,"src",t)},d(r){r&&h(e)}}}function Ru(n){let e=JSON.parse(n[27].content).display_name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i[0]&134217728&&e!==(e=JSON.parse(r[27].content).display_name+"")&&W(t,e)},d(r){r&&h(t)}}}function sb(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function ab(n){let e,t,r,i,l,o=n[28].length>0&&Vu(n);const s=[fb,cb,ub],a=[];function u(c,f){return c[26].kind===31990?0:c[26].kind===40||c[26].kind===41?1:2}return r=u(n),i=a[r]=s[r](n),{c(){o&&o.c(),e=F(),t=y("div"),i.c(),this.h()},l(c){o&&o.l(c),e=j(c),t=w(c,"DIV",{class:!0});var f=k(t);i.l(f),f.forEach(h),this.h()},h(){m(t,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap")},m(c,f){o&&o.m(c,f),T(c,e,f),T(c,t,f),a[r].m(t,null),l=!0},p(c,f){c[28].length>0?o?(o.p(c,f),f[0]&67108864&&R(o,1)):(o=Vu(c),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(ye(),U(o,1,1,()=>{o=null}),we());let d=r;r=u(c),r===d?a[r].p(c,f):(ye(),U(a[d],1,1,()=>{a[d]=null}),we(),i=a[r],i?i.p(c,f):(i=a[r]=s[r](c),i.c()),R(i,1),i.m(t,null))},i(c){l||(R(o),R(i),l=!0)},o(c){U(o),U(i),l=!1},d(c){c&&(h(e),h(t)),o&&o.d(c),a[r].d()}}}function Vu(n){let e,t,r=Be(n[28]),i=[];for(let o=0;o<r.length;o+=1)i[o]=Bu(Nu(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){e=y("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(h),this.h()},h(){m(e,"class","max-h-[4em] overflow-y-auto whitespace-nowrap border-s-4 border-s-surface-500/25 dark:border-s-surface-500/50 box-border")},m(o,s){T(o,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(o,s){if(s[0]&67108960){r=Be(o[28]);let a;for(a=0;a<r.length;a+=1){const u=Nu(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=Bu(u),i[a].c(),R(i[a],1),i[a].m(e,null))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function Bu(n){let e,t;return e=new bl({props:{tag:n[29],handleClickDate:n[6],handleClickPubkey:n[5]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.tag=r[29]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function ub(n){let e,t;return e=new cn({props:{text:n[26].content,tag:n[26].tags,id:n[26].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.tag=r[26].tags),i[0]&67108864&&(l.id=r[26].id),i[0]&8&&(l.view=r[3]),i[0]&4&&(l.pubkey=r[2]),i[0]&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function cb(n){let e,t;return e=new un({props:{event:n[26],text:n[26].content,id:n[26].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.event=r[26]),i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.id=r[26].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function fb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[26].content).name,image:JSON.parse(n[26].content).banner,description:JSON.parse(n[26].content).about,favicon:JSON.parse(n[26].content).picture},url:JSON.parse(n[26].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.ogp={title:JSON.parse(r[26].content).name,image:JSON.parse(r[26].content).banner,description:JSON.parse(r[26].content).about,favicon:JSON.parse(r[26].content).picture}),i[0]&67108864&&(l.url=JSON.parse(r[26].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function db(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function hb(n){let e,t,r,i,l,o=JSON.parse(n[27].content).name+"",s,a,u,c=JSON.parse(n[27].content).display_name,f,d,p,b=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",_,v,E,I,S,N,C,O=n[4]&&Au(n);function D(){return n[15](n[27])}let A=c&&Ru(n);function P(){return n[16](n[26])}let L={ctx:n,current:null,token:null,hasCatch:!1,pending:db,then:ab,catch:sb,value:28,blocks:[,,,]};return rt(I=Ir(n[26].tags),L),{c(){e=y("div"),t=y("div"),O&&O.c(),r=F(),i=y("div"),l=y("button"),s=B(o),a=F(),u=y("div"),A&&A.c(),f=F(),d=y("div"),p=y("button"),_=B(b),v=F(),E=ae(),L.block.c(),this.h()},l(H){e=w(H,"DIV",{class:!0});var z=k(e);t=w(z,"DIV",{});var V=k(t);O&&O.l(V),V.forEach(h),r=j(z),i=w(z,"DIV",{class:!0});var x=k(i);l=w(x,"BUTTON",{class:!0});var J=k(l);s=M(J,o),J.forEach(h),x.forEach(h),a=j(z),u=w(z,"DIV",{class:!0});var q=k(u);A&&A.l(q),q.forEach(h),f=j(z),d=w(z,"DIV",{class:!0});var Z=k(d);p=w(Z,"BUTTON",{class:!0});var oe=k(p);_=M(oe,b),oe.forEach(h),Z.forEach(h),z.forEach(h),v=j(H),E=ae(),L.block.l(H),this.h()},h(){m(l,"class","text-secondary-500 text-sm font-semibold"),m(i,"class","truncate wid justify-items-end"),m(u,"class","text-sm text-left self-end wi truncate justify-items-end"),m(p,"class","text-xs underline decoration-secondary-500"),m(d,"class","min-w-max"),m(e,"class","w-full grid grid-cols-[auto_auto_1fr_auto] gap-1 h-fix")},m(H,z){T(H,e,z),g(e,t),O&&O.m(t,null),g(e,r),g(e,i),g(i,l),g(l,s),g(e,a),g(e,u),A&&A.m(u,null),g(e,f),g(e,d),g(d,p),g(p,_),T(H,v,z),T(H,E,z),L.block.m(H,L.anchor=z),L.mount=()=>E.parentNode,L.anchor=E,S=!0,N||(C=[ee(l,"click",D),ee(p,"click",P)],N=!0)},p(H,z){n=H,n[4]?O?O.p(n,z):(O=Au(n),O.c(),O.m(t,null)):O&&(O.d(1),O=null),(!S||z[0]&134217728)&&o!==(o=JSON.parse(n[27].content).name+"")&&W(s,o),z[0]&134217728&&(c=JSON.parse(n[27].content).display_name),c?A?A.p(n,z):(A=Ru(n),A.c(),A.m(u,null)):A&&(A.d(1),A=null),(!S||z[0]&67108864)&&b!==(b=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(_,b),L.ctx=n,z[0]&67108864&&I!==(I=Ir(n[26].tags))&&rt(I,L)||Yt(L,n,z)},i(H){S||(R(L.block),S=!0)},o(H){for(let z=0;z<3;z+=1){const V=L.blocks[z];U(V)}S=!1},d(H){H&&(h(e),h(v),h(E)),O&&O.d(),A&&A.d(),L.block.d(H),L.token=null,L=null,N=!1,je(C)}}}function pb(n){let e,t;return e=new cn({props:{text:n[26].content,tag:n[26].tags,id:n[26].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.tag=r[26].tags),i[0]&67108864&&(l.id=r[26].id),i[0]&8&&(l.view=r[3]),i[0]&4&&(l.pubkey=r[2]),i[0]&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function mb(n){let e,t;return e=new un({props:{event:n[26],text:n[26].content,id:n[26].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.event=r[26]),i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.id=r[26].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function gb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[26].content).name,image:JSON.parse(n[26].content).banner,description:JSON.parse(n[26].content).about,favicon:JSON.parse(n[26].content).picture},url:JSON.parse(n[26].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.ogp={title:JSON.parse(r[26].content).name,image:JSON.parse(r[26].content).banner,description:JSON.parse(r[26].content).about,favicon:JSON.parse(r[26].content).picture}),i[0]&67108864&&(l.url=JSON.parse(r[26].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function _b(n){let e,t,r=n[26].pubkey+"",i,l,o,s,a=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",u,c,f,d,p,b,_;function v(){return n[14](n[26])}const E=[gb,mb,pb],I=[];function S(N,C){return N[26].kind===31990?0:N[26].kind===40||N[26].kind===41?1:2}return f=S(n),d=I[f]=E[f](n),{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("div"),s=y("button"),u=B(a),c=F(),d.c(),this.h()},l(N){e=w(N,"DIV",{slot:!0});var C=k(e);t=w(C,"DIV",{class:!0});var O=k(t);i=M(O,r),O.forEach(h),l=j(C),o=w(C,"DIV",{class:!0});var D=k(o);s=w(D,"BUTTON",{class:!0});var A=k(s);u=M(A,a),A.forEach(h),c=j(D),d.l(D),D.forEach(h),C.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm verflow-hidden break-all whitespace-pre-wrap"),m(s,"class","text-xs underline decoration-secondary-500"),m(o,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(N,C){T(N,e,C),g(e,t),g(t,i),g(e,l),g(e,o),g(o,s),g(s,u),g(o,c),I[f].m(o,null),p=!0,b||(_=ee(s,"click",v),b=!0)},p(N,C){n=N,(!p||C[0]&67108864)&&r!==(r=n[26].pubkey+"")&&W(i,r),(!p||C[0]&67108864)&&a!==(a=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(u,a);let O=f;f=S(n),f===O?I[f].p(n,C):(ye(),U(I[O],1,1,()=>{I[O]=null}),we(),d=I[f],d?d.p(n,C):(d=I[f]=E[f](n),d.c()),R(d,1),d.m(o,null))},i(N){p||(R(d),p=!0)},o(N){U(d),p=!1},d(N){N&&h(e),I[f].d(),b=!1,_()}}}function bb(n){let e,t;return e=new cn({props:{text:n[26].content,tag:n[26].tags,id:n[26].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.tag=r[26].tags),i[0]&67108864&&(l.id=r[26].id),i[0]&8&&(l.view=r[3]),i[0]&4&&(l.pubkey=r[2]),i[0]&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function vb(n){let e,t;return e=new un({props:{event:n[26],text:n[26].content,id:n[26].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.event=r[26]),i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.id=r[26].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function yb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[26].content).name,image:JSON.parse(n[26].content).banner,description:JSON.parse(n[26].content).about,favicon:JSON.parse(n[26].content).picture},url:JSON.parse(n[26].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.ogp={title:JSON.parse(r[26].content).name,image:JSON.parse(r[26].content).banner,description:JSON.parse(r[26].content).about,favicon:JSON.parse(r[26].content).picture}),i[0]&67108864&&(l.url=JSON.parse(r[26].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function wb(n){let e,t,r=n[26].pubkey+"",i,l,o,s=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",a,u,c,f,d,p,b,_;function v(){return n[13](n[26])}const E=[yb,vb,bb],I=[];function S(N,C){return N[26].kind===31990?0:N[26].kind===40||N[26].kind===41?1:2}return f=S(n),d=I[f]=E[f](n),{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("button"),a=B(s),u=F(),c=y("div"),d.c(),this.h()},l(N){e=w(N,"DIV",{slot:!0});var C=k(e);t=w(C,"DIV",{class:!0});var O=k(t);i=M(O,r),l=j(O),o=w(O,"BUTTON",{class:!0});var D=k(o);a=M(D,s),D.forEach(h),O.forEach(h),u=j(C),c=w(C,"DIV",{class:!0});var A=k(c);d.l(A),A.forEach(h),C.forEach(h),this.h()},h(){m(o,"class","text-xs underline decoration-secondary-500"),m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(c,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","error")},m(N,C){T(N,e,C),g(e,t),g(t,i),g(t,l),g(t,o),g(o,a),g(e,u),g(e,c),I[f].m(c,null),p=!0,b||(_=ee(o,"click",v),b=!0)},p(N,C){n=N,(!p||C[0]&67108864)&&r!==(r=n[26].pubkey+"")&&W(i,r),(!p||C[0]&67108864)&&s!==(s=new Date(n[26].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(a,s);let O=f;f=S(n),f===O?I[f].p(n,C):(ye(),U(I[O],1,1,()=>{I[O]=null}),we(),d=I[f],d?d.p(n,C):(d=I[f]=E[f](n),d.c()),R(d,1),d.m(c,null))},i(N){p||(R(d),p=!0)},o(N){U(d),p=!1},d(N){N&&h(e),I[f].d(),b=!1,_()}}}function kb(n){let e,t;return e=new cn({props:{text:n[26].content,tag:n[26].tags,id:n[26].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.tag=r[26].tags),i[0]&67108864&&(l.id=r[26].id),i[0]&8&&(l.view=r[3]),i[0]&4&&(l.pubkey=r[2]),i[0]&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Eb(n){let e,t;return e=new un({props:{event:n[26],text:n[26].content,id:n[26].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.event=r[26]),i[0]&67108864&&(l.text=r[26].content),i[0]&67108864&&(l.id=r[26].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ob(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[26].content).name,image:JSON.parse(n[26].content).banner,description:JSON.parse(n[26].content).about,favicon:JSON.parse(n[26].content).picture},url:JSON.parse(n[26].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.ogp={title:JSON.parse(r[26].content).name,image:JSON.parse(r[26].content).banner,description:JSON.parse(r[26].content).about,favicon:JSON.parse(r[26].content).picture}),i[0]&67108864&&(l.url=JSON.parse(r[26].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ib(n){let e,t,r=n[26].pubkey+"",i,l,o,s,a,u;const c=[Ob,Eb,kb],f=[];function d(p,b){return p[26].kind===31990?0:p[26].kind===40||p[26].kind===41?1:2}return s=d(n),a=f[s]=c[s](n),{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("div"),a.c(),this.h()},l(p){e=w(p,"DIV",{slot:!0});var b=k(e);t=w(b,"DIV",{class:!0});var _=k(t);i=M(_,r),_.forEach(h),l=j(b),o=w(b,"DIV",{class:!0});var v=k(o);a.l(v),v.forEach(h),b.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(o,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(p,b){T(p,e,b),g(e,t),g(t,i),g(e,l),g(e,o),f[s].m(o,null),u=!0},p(p,b){(!u||b[0]&67108864)&&r!==(r=p[26].pubkey+"")&&W(i,r);let _=s;s=d(p),s===_?f[s].p(p,b):(ye(),U(f[_],1,1,()=>{f[_]=null}),we(),a=f[s],a?a.p(p,b):(a=f[s]=c[s](p),a.c()),R(a,1),a.m(o,null))},i(p){u||(R(a),u=!0)},o(p){U(a),u=!1},d(p){p&&h(e),f[s].d()}}}function Sb(n){let e,t;return e=new an({props:{queryKey:["metadata",n[26].pubkey],pubkey:n[26].pubkey,$$slots:{nodata:[Ib],error:[wb],loading:[_b],default:[hb,({metadata:r})=>({27:r}),({metadata:r})=>[r?134217728:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&67108864&&(l.queryKey=["metadata",r[26].pubkey]),i[0]&67108864&&(l.pubkey=r[26].pubkey),i[0]&201326623|i[1]&8&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Nb(n){let e,t,r;return t=new $t({props:{isPageOwner:n[1],filter:{ids:[n[8](n[0])]},message:`Loading note... (${n[8](n[0])})`,textSize:"text-sm"}}),{c(){e=y("div"),ne(t.$$.fragment),this.h()},l(i){e=w(i,"DIV",{slot:!0});var l=k(e);re(t.$$.fragment,l),l.forEach(h),this.h()},h(){m(e,"slot","loading")},m(i,l){T(i,e,l),ie(t,e,null),r=!0},p(i,l){const o={};l[0]&2&&(o.isPageOwner=i[1]),l[0]&1&&(o.filter={ids:[i[8](i[0])]}),l[0]&1&&(o.message=`Loading note... (${i[8](i[0])})`),t.$set(o)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){U(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t)}}}function Cb(n){let e,t,r;return t=new $t({props:{isPageOwner:n[1],filter:{ids:[n[8](n[0])]},message:`Not found (${n[8](n[0])})`,textSize:"text-sm"}}),{c(){e=y("div"),ne(t.$$.fragment),this.h()},l(i){e=w(i,"DIV",{slot:!0});var l=k(e);re(t.$$.fragment,l),l.forEach(h),this.h()},h(){m(e,"slot","error")},m(i,l){T(i,e,l),ie(t,e,null),r=!0},p(i,l){const o={};l[0]&2&&(o.isPageOwner=i[1]),l[0]&1&&(o.filter={ids:[i[8](i[0])]}),l[0]&1&&(o.message=`Not found (${i[8](i[0])})`),t.$set(o)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){U(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t)}}}function Db(n){let e,t,r;return t=new $t({props:{isPageOwner:n[1],filter:{ids:[n[8](n[0])]},message:`Not found (${n[8](n[0])})`,textSize:"text-sm"}}),{c(){e=y("div"),ne(t.$$.fragment),this.h()},l(i){e=w(i,"DIV",{slot:!0});var l=k(e);re(t.$$.fragment,l),l.forEach(h),this.h()},h(){m(e,"slot","nodata")},m(i,l){T(i,e,l),ie(t,e,null),r=!0},p(i,l){const o={};l[0]&2&&(o.isPageOwner=i[1]),l[0]&1&&(o.filter={ids:[i[8](i[0])]}),l[0]&1&&(o.message=`Not found (${i[8](i[0])})`),t.$set(o)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){U(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t)}}}function Tb(n){let e,t,r,i,l,o,s,a;const u=[j_,F_,z_,U_],c=[];function f(d,p){return p[0]&1&&(e=null),p[0]&1&&(t=null),p[0]&1&&(r=null),p[0]&1&&(i=null),e==null&&(e=me.decode(d[0]).type==="note"||me.decode(d[0]).type==="nevent"),e?0:(t==null&&(t=me.decode(d[0]).type==="npub"),t?1:(r==null&&(r=me.decode(d[0]).type==="nprofile"),r?2:(i==null&&(i=me.decode(d[0]).type==="naddr"),i?3:-1)))}return~(l=f(n,[-1,-1]))&&(o=c[l]=u[l](n)),{c(){o&&o.c(),s=ae()},l(d){o&&o.l(d),s=ae()},m(d,p){~l&&c[l].m(d,p),T(d,s,p),a=!0},p(d,p){let b=l;l=f(d,p),l===b?~l&&c[l].p(d,p):(o&&(ye(),U(c[b],1,1,()=>{c[b]=null}),we()),~l?(o=c[l],o?o.p(d,p):(o=c[l]=u[l](d),o.c()),R(o,1),o.m(s.parentNode,s)):o=null)},i(d){a||(R(o),a=!0)},o(d){U(o),a=!1},d(d){d&&h(s),~l&&c[l].d(d)}}}function Ab(n,e,t){let r,i,l,o;ce(n,Us,z=>t(21,r=z)),ce(n,ln,z=>t(22,i=z)),ce(n,_r,z=>t(3,l=z)),ce(n,Pt,z=>t(4,o=z));let{encodedId:s}=e,{isPageOwner:a}=e,{pubkey:u}=e;const c={ref:Xr};function f(z){console.log(z);const V={type:"component",meta:{metadata:z},component:c};Re.trigger(V)}const d={ref:Dr};function p(z,V){console.log("click");const x={type:"component",title:"Event Json",meta:{note:z,tagArray:V},component:d};Re.trigger(x)}async function b(z){const V=me.decode(z).data;if(console.log(r),!(z in r)){const x=V.relays&&V.relays.length>0?V.relays:i[u].searchRelays,J=[{authors:[V.pubkey],"#d":[V.identifier],kinds:[V.kind]}],q=await Tm(x,J);return q.length>0&&(q.sort((Z,oe)=>oe.created_at-Z.created_at),Pe(Us,r[z]=q[0],r)),q[0]}return r[z]}const _=z=>me.decode(z).type==="note"?me.decode(z).data:me.decode(z).type==="nevent"?me.decode(z).data.id:"",v=z=>{if(z.type==="naddr"){const V=z.data;return["a",`${V.kind}:${V.pubkey}:${V.identifier}`]}else{if(z.type==="note")return["e",z.data];if(z.type==="nevent")return["e",z.data.id];if(z.type==="npub")return["p",z.data];if(z.type==="nprofile")return["p",z.data.pubkey]}},E=z=>me.decode(z).data,I=z=>me.decode(z).data,S=z=>me.decode(z).data,N=z=>{p(z,v(me.decode(s)))},C=z=>{p(z,v(me.decode(s)))},O=z=>{f(z)},D=z=>{p(z,v(me.decode(s)))},A=z=>{f(z)},P=z=>{f(z)},L=z=>{f(z)},H=z=>{p(z,v(me.decode(s)))};return n.$$set=z=>{"encodedId"in z&&t(0,s=z.encodedId),"isPageOwner"in z&&t(1,a=z.isPageOwner),"pubkey"in z&&t(2,u=z.pubkey)},[s,a,u,l,o,f,p,b,_,v,E,I,S,N,C,O,D,A,P,L,H]}class Pb extends De{constructor(e){super(),Te(this,e,Ab,Tb,Ce,{encodedId:0,isPageOwner:1,pubkey:2},null,[-1,-1])}}function Mu(n,e,t){const r=n.slice();return r[16]=e[t],r}function Lu(n){let e=JSON.parse(n[14].content).picture,t,r=e&&qu(n);return{c(){r&&r.c(),t=ae()},l(i){r&&r.l(i),t=ae()},m(i,l){r&&r.m(i,l),T(i,t,l)},p(i,l){l&16384&&(e=JSON.parse(i[14].content).picture),e?r?r.p(i,l):(r=qu(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(i){i&&h(t),r&&r.d(i)}}}function qu(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","h-5 object-contain justify-center"),Ne(e.src,t=JSON.parse(n[14].content).picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){T(r,e,i)},p(r,i){i&16384&&!Ne(e.src,t=JSON.parse(r[14].content).picture)&&m(e,"src",t)},d(r){r&&h(e)}}}function Rb(n){let e=me.npubEncode(n[13].pubkey).slice(0,12)+"",t,r,i=me.npubEncode(n[13].pubkey).slice(-4)+"",l;return{c(){t=B(e),r=B(":"),l=B(i)},l(o){t=M(o,e),r=M(o,":"),l=M(o,i)},m(o,s){T(o,t,s),T(o,r,s),T(o,l,s)},p(o,s){s&8192&&e!==(e=me.npubEncode(o[13].pubkey).slice(0,12)+"")&&W(t,e),s&8192&&i!==(i=me.npubEncode(o[13].pubkey).slice(-4)+"")&&W(l,i)},d(o){o&&(h(t),h(r),h(l))}}}function Vb(n){let e=JSON.parse(n[14].content).name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&16384&&e!==(e=JSON.parse(r[14].content).name+"")&&W(t,e)},d(r){r&&h(t)}}}function Uu(n){let e=JSON.parse(n[14].content).display_name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&16384&&e!==(e=JSON.parse(r[14].content).display_name+"")&&W(t,e)},d(r){r&&h(t)}}}function Bb(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function Mb(n){let e,t,r=n[15].length>0&&zu(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,l){i[15].length>0?r?(r.p(i,l),l&8192&&R(r,1)):(r=zu(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}function zu(n){let e,t,r=Be(n[15]),i=[];for(let o=0;o<r.length;o+=1)i[o]=Fu(Mu(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){e=y("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(h),this.h()},h(){m(e,"class","max-h-[6em] overflow-y-auto whitespace-nowrap border-s-4 border-s-surface-500/25 dark:border-s-surface-500/50 box-border")},m(o,s){T(o,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(o,s){if(s&8288){r=Be(o[15]);let a;for(a=0;a<r.length;a+=1){const u=Mu(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=Fu(u),i[a].c(),R(i[a],1),i[a].m(e,null))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function Fu(n){let e,t;return e=new bl({props:{tag:n[16],handleClickDate:n[6],handleClickPubkey:n[5]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.tag=r[16]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Lb(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function qb(n){let e,t;return e=new cn({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.text=r[13].content),i&8192&&(l.tag=r[13].tags),i&8192&&(l.id=r[13].id),i&8&&(l.view=r[3]),i&4&&(l.pubkey=r[2]),i&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Ub(n){let e,t;return e=new un({props:{event:n[13],text:n[13].content,id:n[13].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.event=r[13]),i&8192&&(l.text=r[13].content),i&8192&&(l.id=r[13].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function zb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[13].content).name,image:JSON.parse(n[13].content).banner,description:JSON.parse(n[13].content).about,favicon:JSON.parse(n[13].content).picture},url:JSON.parse(n[13].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.ogp={title:JSON.parse(r[13].content).name,image:JSON.parse(r[13].content).banner,description:JSON.parse(r[13].content).about,favicon:JSON.parse(r[13].content).picture}),i&8192&&(l.url=JSON.parse(r[13].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Fb(n){let e,t,r,i,l,o,s,a,u=JSON.parse(n[14].content).display_name,c,f,d,p=new Date(n[13].created_at*1e3).toLocaleString()+"",b,_,v,E,I,S,N,C,O,D,A=n[4]&&Lu(n);function P(Y,Q){return Q&16384&&(o=null),o==null&&(o=JSON.parse(Y[14].content).name!==""),o?Vb:Rb}let L=P(n,-1),H=L(n);function z(){return n[9](n[14])}let V=u&&Uu(n);function x(){return n[10](n[13])}let J={ctx:n,current:null,token:null,hasCatch:!1,pending:Lb,then:Mb,catch:Bb,value:15,blocks:[,,,]};rt(v=Ir(n[13].tags),J);const q=[zb,Ub,qb],Z=[];function oe(Y,Q){return Y[13].kind===31990?0:Y[13].kind===40||Y[13].kind===41?1:2}return S=oe(n),N=Z[S]=q[S](n),{c(){e=y("div"),t=y("div"),A&&A.c(),r=F(),i=y("div"),l=y("button"),H.c(),s=F(),a=y("div"),V&&V.c(),c=F(),f=y("div"),d=y("button"),b=B(p),_=F(),J.block.c(),E=F(),I=y("div"),N.c(),this.h()},l(Y){e=w(Y,"DIV",{class:!0});var Q=k(e);t=w(Q,"DIV",{});var G=k(t);A&&A.l(G),G.forEach(h),r=j(Q),i=w(Q,"DIV",{class:!0});var fe=k(i);l=w(fe,"BUTTON",{class:!0});var ue=k(l);H.l(ue),ue.forEach(h),fe.forEach(h),s=j(Q),a=w(Q,"DIV",{class:!0});var X=k(a);V&&V.l(X),X.forEach(h),c=j(Q),f=w(Q,"DIV",{class:!0});var K=k(f);d=w(K,"BUTTON",{class:!0});var se=k(d);b=M(se,p),se.forEach(h),K.forEach(h),Q.forEach(h),_=j(Y),J.block.l(Y),E=j(Y),I=w(Y,"DIV",{class:!0});var te=k(I);N.l(te),te.forEach(h),this.h()},h(){m(l,"class","text-secondary-500 text-sm font-semibold"),m(i,"class","truncate wid justify-items-end"),m(a,"class","text-left self-end text-sm wi truncate justify-items-end"),m(d,"class","text-xs underline decoration-secondary-500"),m(f,"class","min-w-max"),m(e,"class","w-full grid grid-cols-[auto_auto_1fr_auto] gap-1 h-fix"),m(I,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap")},m(Y,Q){T(Y,e,Q),g(e,t),A&&A.m(t,null),g(e,r),g(e,i),g(i,l),H.m(l,null),g(e,s),g(e,a),V&&V.m(a,null),g(e,c),g(e,f),g(f,d),g(d,b),T(Y,_,Q),J.block.m(Y,J.anchor=Q),J.mount=()=>E.parentNode,J.anchor=E,T(Y,E,Q),T(Y,I,Q),Z[S].m(I,null),C=!0,O||(D=[ee(l,"click",z),ee(d,"click",x)],O=!0)},p(Y,Q){n=Y,n[4]?A?A.p(n,Q):(A=Lu(n),A.c(),A.m(t,null)):A&&(A.d(1),A=null),L===(L=P(n,Q))&&H?H.p(n,Q):(H.d(1),H=L(n),H&&(H.c(),H.m(l,null))),Q&16384&&(u=JSON.parse(n[14].content).display_name),u?V?V.p(n,Q):(V=Uu(n),V.c(),V.m(a,null)):V&&(V.d(1),V=null),(!C||Q&8192)&&p!==(p=new Date(n[13].created_at*1e3).toLocaleString()+"")&&W(b,p),J.ctx=n,Q&8192&&v!==(v=Ir(n[13].tags))&&rt(v,J)||Yt(J,n,Q);let G=S;S=oe(n),S===G?Z[S].p(n,Q):(ye(),U(Z[G],1,1,()=>{Z[G]=null}),we(),N=Z[S],N?N.p(n,Q):(N=Z[S]=q[S](n),N.c()),R(N,1),N.m(I,null))},i(Y){C||(R(J.block),R(N),C=!0)},o(Y){for(let Q=0;Q<3;Q+=1){const G=J.blocks[Q];U(G)}U(N),C=!1},d(Y){Y&&(h(e),h(_),h(E),h(I)),A&&A.d(),H.d(),V&&V.d(),J.block.d(Y),J.token=null,J=null,Z[S].d(),O=!1,je(D)}}}function jb(n){let e,t;return e=new cn({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.text=r[13].content),i&8192&&(l.tag=r[13].tags),i&8192&&(l.id=r[13].id),i&8&&(l.view=r[3]),i&4&&(l.pubkey=r[2]),i&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Jb(n){let e,t;return e=new un({props:{event:n[13],text:n[13].content,id:n[13].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.event=r[13]),i&8192&&(l.text=r[13].content),i&8192&&(l.id=r[13].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Hb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[13].content).name,image:JSON.parse(n[13].content).banner,description:JSON.parse(n[13].content).about,favicon:JSON.parse(n[13].content).picture},url:JSON.parse(n[13].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.ogp={title:JSON.parse(r[13].content).name,image:JSON.parse(r[13].content).banner,description:JSON.parse(r[13].content).about,favicon:JSON.parse(r[13].content).picture}),i&8192&&(l.url=JSON.parse(r[13].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function $b(n){let e,t,r=n[13].pubkey+"",i,l,o,s,a=new Date(n[13].created_at*1e3).toLocaleString()+"",u,c,f,d,p,b,_;function v(){return n[8](n[13])}const E=[Hb,Jb,jb],I=[];function S(N,C){return N[13].kind===31990?0:N[13].kind===40||N[13].kind===41?1:2}return f=S(n),d=I[f]=E[f](n),{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("div"),s=y("button"),u=B(a),c=F(),d.c(),this.h()},l(N){e=w(N,"DIV",{slot:!0});var C=k(e);t=w(C,"DIV",{class:!0});var O=k(t);i=M(O,r),O.forEach(h),l=j(C),o=w(C,"DIV",{class:!0});var D=k(o);s=w(D,"BUTTON",{class:!0});var A=k(s);u=M(A,a),A.forEach(h),c=j(D),d.l(D),D.forEach(h),C.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm verflow-hidden break-all whitespace-pre-wrap"),m(s,"class","text-xs underline decoration-secondary-500"),m(o,"class","max-h-40 overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(N,C){T(N,e,C),g(e,t),g(t,i),g(e,l),g(e,o),g(o,s),g(s,u),g(o,c),I[f].m(o,null),p=!0,b||(_=ee(s,"click",v),b=!0)},p(N,C){n=N,(!p||C&8192)&&r!==(r=n[13].pubkey+"")&&W(i,r),(!p||C&8192)&&a!==(a=new Date(n[13].created_at*1e3).toLocaleString()+"")&&W(u,a);let O=f;f=S(n),f===O?I[f].p(n,C):(ye(),U(I[O],1,1,()=>{I[O]=null}),we(),d=I[f],d?d.p(n,C):(d=I[f]=E[f](n),d.c()),R(d,1),d.m(o,null))},i(N){p||(R(d),p=!0)},o(N){U(d),p=!1},d(N){N&&h(e),I[f].d(),b=!1,_()}}}function Kb(n){let e,t;return e=new cn({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.text=r[13].content),i&8192&&(l.tag=r[13].tags),i&8192&&(l.id=r[13].id),i&8&&(l.view=r[3]),i&4&&(l.pubkey=r[2]),i&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Qb(n){let e,t;return e=new un({props:{event:n[13],text:n[13].content,id:n[13].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.event=r[13]),i&8192&&(l.text=r[13].content),i&8192&&(l.id=r[13].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Wb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[13].content).name,image:JSON.parse(n[13].content).banner,description:JSON.parse(n[13].content).about,favicon:JSON.parse(n[13].content).picture},url:JSON.parse(n[13].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.ogp={title:JSON.parse(r[13].content).name,image:JSON.parse(r[13].content).banner,description:JSON.parse(r[13].content).about,favicon:JSON.parse(r[13].content).picture}),i&8192&&(l.url=JSON.parse(r[13].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Gb(n){let e,t,r=n[13].pubkey+"",i,l,o,s=new Date(n[13].created_at*1e3).toLocaleString()+"",a,u,c,f,d,p,b,_;function v(){return n[7](n[13])}const E=[Wb,Qb,Kb],I=[];function S(N,C){return N[13].kind===31990?0:N[13].kind===40||N[13].kind===41?1:2}return f=S(n),d=I[f]=E[f](n),{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("button"),a=B(s),u=F(),c=y("div"),d.c(),this.h()},l(N){e=w(N,"DIV",{slot:!0});var C=k(e);t=w(C,"DIV",{class:!0});var O=k(t);i=M(O,r),l=j(O),o=w(O,"BUTTON",{class:!0});var D=k(o);a=M(D,s),D.forEach(h),O.forEach(h),u=j(C),c=w(C,"DIV",{class:!0});var A=k(c);d.l(A),A.forEach(h),C.forEach(h),this.h()},h(){m(o,"class","text-xs underline decoration-secondary-500"),m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(c,"class","max-h-40 overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","error")},m(N,C){T(N,e,C),g(e,t),g(t,i),g(t,l),g(t,o),g(o,a),g(e,u),g(e,c),I[f].m(c,null),p=!0,b||(_=ee(o,"click",v),b=!0)},p(N,C){n=N,(!p||C&8192)&&r!==(r=n[13].pubkey+"")&&W(i,r),(!p||C&8192)&&s!==(s=new Date(n[13].created_at*1e3).toLocaleString()+"")&&W(a,s);let O=f;f=S(n),f===O?I[f].p(n,C):(ye(),U(I[O],1,1,()=>{I[O]=null}),we(),d=I[f],d?d.p(n,C):(d=I[f]=E[f](n),d.c()),R(d,1),d.m(c,null))},i(N){p||(R(d),p=!0)},o(N){U(d),p=!1},d(N){N&&h(e),I[f].d(),b=!1,_()}}}function Zb(n){let e,t;return e=new cn({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[3],pubkey:n[2],isPageOwner:n[1]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.text=r[13].content),i&8192&&(l.tag=r[13].tags),i&8192&&(l.id=r[13].id),i&8&&(l.view=r[3]),i&4&&(l.pubkey=r[2]),i&2&&(l.isPageOwner=r[1]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Yb(n){let e,t;return e=new un({props:{event:n[13],text:n[13].content,id:n[13].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.event=r[13]),i&8192&&(l.text=r[13].content),i&8192&&(l.id=r[13].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Xb(n){let e,t;return e=new Ht({props:{ogp:{title:JSON.parse(n[13].content).name,image:JSON.parse(n[13].content).banner,description:JSON.parse(n[13].content).about,favicon:JSON.parse(n[13].content).picture},url:JSON.parse(n[13].content).website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.ogp={title:JSON.parse(r[13].content).name,image:JSON.parse(r[13].content).banner,description:JSON.parse(r[13].content).about,favicon:JSON.parse(r[13].content).picture}),i&8192&&(l.url=JSON.parse(r[13].content).website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function xb(n){let e,t,r=n[13].pubkey+"",i,l,o,s,a,u;const c=[Xb,Yb,Zb],f=[];function d(p,b){return p[13].kind===31990?0:p[13].kind===40||p[13].kind===41?1:2}return s=d(n),a=f[s]=c[s](n),{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("div"),a.c(),this.h()},l(p){e=w(p,"DIV",{slot:!0});var b=k(e);t=w(b,"DIV",{class:!0});var _=k(t);i=M(_,r),_.forEach(h),l=j(b),o=w(b,"DIV",{class:!0});var v=k(o);a.l(v),v.forEach(h),b.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden break-all whitespace-pre-wrap"),m(o,"class","max-h-40 overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(p,b){T(p,e,b),g(e,t),g(t,i),g(e,l),g(e,o),f[s].m(o,null),u=!0},p(p,b){(!u||b&8192)&&r!==(r=p[13].pubkey+"")&&W(i,r);let _=s;s=d(p),s===_?f[s].p(p,b):(ye(),U(f[_],1,1,()=>{f[_]=null}),we(),a=f[s],a?a.p(p,b):(a=f[s]=c[s](p),a.c()),R(a,1),a.m(o,null))},i(p){u||(R(a),u=!0)},o(p){U(a),u=!1},d(p){p&&h(e),f[s].d()}}}function ev(n){let e,t;return e=new an({props:{queryKey:["metadata",n[13].pubkey],pubkey:n[13].pubkey,$$slots:{nodata:[xb],error:[Gb],loading:[$b],default:[Fb,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&8192&&(l.queryKey=["metadata",r[13].pubkey]),i&8192&&(l.pubkey=r[13].pubkey),i&548894&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function tv(n){let e,t,r;return t=new $t({props:{isPageOwner:n[1],filter:{ids:[n[0]]},message:`Loading note... (${n[0]})`,textSize:"text-sm"}}),{c(){e=y("div"),ne(t.$$.fragment),this.h()},l(i){e=w(i,"DIV",{slot:!0});var l=k(e);re(t.$$.fragment,l),l.forEach(h),this.h()},h(){m(e,"slot","loading")},m(i,l){T(i,e,l),ie(t,e,null),r=!0},p(i,l){const o={};l&2&&(o.isPageOwner=i[1]),l&1&&(o.filter={ids:[i[0]]}),l&1&&(o.message=`Loading note... (${i[0]})`),t.$set(o)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){U(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t)}}}function nv(n){let e,t,r;return t=new $t({props:{isPageOwner:n[1],filter:{ids:[n[0]]},message:`Not found (${n[0]})`,textSize:"text-sm"}}),{c(){e=y("div"),ne(t.$$.fragment),this.h()},l(i){e=w(i,"DIV",{slot:!0});var l=k(e);re(t.$$.fragment,l),l.forEach(h),this.h()},h(){m(e,"slot","error")},m(i,l){T(i,e,l),ie(t,e,null),r=!0},p(i,l){const o={};l&2&&(o.isPageOwner=i[1]),l&1&&(o.filter={ids:[i[0]]}),l&1&&(o.message=`Not found (${i[0]})`),t.$set(o)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){U(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t)}}}function rv(n){let e,t,r;return t=new $t({props:{isPageOwner:n[1],filter:{ids:[n[0]]},message:`Not found (${n[0]})`,textSize:"text-sm"}}),{c(){e=y("div"),ne(t.$$.fragment),this.h()},l(i){e=w(i,"DIV",{slot:!0});var l=k(e);re(t.$$.fragment,l),l.forEach(h),this.h()},h(){m(e,"slot","nodata")},m(i,l){T(i,e,l),ie(t,e,null),r=!0},p(i,l){const o={};l&2&&(o.isPageOwner=i[1]),l&1&&(o.filter={ids:[i[0]]}),l&1&&(o.message=`Not found (${i[0]})`),t.$set(o)},i(i){r||(R(t.$$.fragment,i),r=!0)},o(i){U(t.$$.fragment,i),r=!1},d(i){i&&h(e),le(t)}}}function iv(n){let e,t,r,i;return r=new _l({props:{queryKey:[n[0]],id:n[0],$$slots:{nodata:[rv],error:[nv],loading:[tv],default:[ev,({text:l})=>({13:l}),({text:l})=>l?8192:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);re(r.$$.fragment,s),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","w-full grid grid-rows-[auto_auto] gap-0 h-fix"),m(e,"class","card border border-surface-400 px-3 py-2 mt-1")},m(l,o){T(l,e,o),g(e,t),ie(r,t,null),i=!0},p(l,[o]){const s={};o&1&&(s.queryKey=[l[0]]),o&1&&(s.id=l[0]),o&532511&&(s.$$scope={dirty:o,ctx:l}),r.$set(s)},i(l){i||(R(r.$$.fragment,l),i=!0)},o(l){U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(r)}}}function lv(n,e,t){let r,i;ce(n,_r,v=>t(3,r=v)),ce(n,Pt,v=>t(4,i=v));let{id:l}=e,{isPageOwner:o}=e,{pubkey:s}=e;const a={ref:Xr,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function u(v){console.log(v);const E={type:"component",meta:{metadata:v},component:a};Re.trigger(E)}const c={ref:Dr,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function f(v,E){console.log("click");const I={type:"component",title:"Event Json",meta:{note:v,tagArray:E},component:c};Re.trigger(I)}const d=v=>{f(v)},p=v=>{f(v)},b=v=>{u(v)},_=v=>{f(v)};return n.$$set=v=>{"id"in v&&t(0,l=v.id),"isPageOwner"in v&&t(1,o=v.isPageOwner),"pubkey"in v&&t(2,s=v.pubkey)},[l,o,s,r,i,u,f,d,p,b,_]}class ov extends De{constructor(e){super(),Te(this,e,lv,iv,Ce,{id:0,isPageOwner:1,pubkey:2})}}function ju(n,e,t){const r=n.slice();return r[24]=e[t],r[26]=t,r}function sv(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Yv,then:cv,catch:uv,value:23,blocks:[,,,]};return rt(t=n[12](n[1],n[2]),i),{c(){e=ae(),i.block.c()},l(l){e=ae(),i.block.l(l)},m(l,o){T(l,e,o),i.block.m(l,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(l,o){n=l,i.ctx=n,o&6&&t!==(t=n[12](n[1],n[2]))&&rt(t,i)||Yt(i,n,o)},i(l){r||(R(i.block),r=!0)},o(l){for(let o=0;o<3;o+=1){const s=i.blocks[o];U(s)}r=!1},d(l){l&&h(e),i.block.d(l),i.token=null,i=null}}}function av(n){let e,t,r,i,l=n[2][n[2].findIndex($u)][1]+"",o,s,a;return{c(){e=y("button"),t=B("content-warning"),r=y("br"),i=F(),o=B(l),this.h()},l(u){e=w(u,"BUTTON",{type:!0,class:!0});var c=k(e);t=M(c,"content-warning"),r=w(c,"BR",{}),i=j(c),o=M(c,l),c.forEach(h),this.h()},h(){m(e,"type","button"),m(e,"class","btn variant-filled-warning m-0")},m(u,c){T(u,e,c),g(e,t),g(e,r),g(e,i),g(e,o),s||(a=ee(e,"click",n[13]),s=!0)},p(u,c){c&4&&l!==(l=u[2][u[2].findIndex($u)][1]+"")&&W(o,l)},i:$,o:$,d(u){u&&h(e),s=!1,a()}}}function uv(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function cv(n){let e,t,r=Be(n[23]),i=[];for(let o=0;o<r.length;o+=1)i[o]=Hu(ju(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ae()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);e=ae()},m(o,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);T(o,e,s),t=!0},p(o,s){if(s&268460030){r=Be(o[23]);let a;for(a=0;a<r.length;a+=1){const u=ju(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=Hu(u),i[a].c(),R(i[a],1),i[a].m(e.parentNode,e))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function Ju(n){let e,t,r,i;const l=[_v,gv,mv,pv,hv,dv,fv],o=[];function s(a,u){return a[24].type==="emoji"?0:a[24].type==="url"?1:a[24].type==="image"?2:a[24].type==="nostr"&&a[24].url?3:a[24].type==="quote"&&a[24].number!==void 0?4:a[24].type==="hashtag"?5:a[24].content.length>0?6:-1}return~(e=s(n))&&(t=o[e]=l[e](n)),{c(){t&&t.c(),r=F()},l(a){t&&t.l(a),r=j(a)},m(a,u){~e&&o[e].m(a,u),T(a,r,u),i=!0},p(a,u){let c=e;e=s(a),e===c?~e&&o[e].p(a,u):(t&&(ye(),U(o[c],1,1,()=>{o[c]=null}),we()),~e?(t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),~e&&o[e].d(a)}}}function fv(n){let e,t=n[24].content+"",r;return{c(){e=y("span"),r=B(t),this.h()},l(i){e=w(i,"SPAN",{style:!0});var l=k(e);r=M(l,t),l.forEach(h),this.h()},h(){fr(e,"white-space","pre-wrap"),fr(e,"word-break","break-word")},m(i,l){T(i,e,l),g(e,r)},p(i,l){l&6&&t!==(t=i[24].content+"")&&W(r,t)},i:$,o:$,d(i){i&&h(e)}}}function dv(n){let e,t=n[24].content+"",r,i;return{c(){e=y("a"),r=B(t),this.h()},l(l){e=w(l,"A",{class:!0,rel:!0,target:!0,href:!0});var o=k(e);r=M(o,t),o.forEach(h),this.h()},h(){m(e,"class","anchor"),m(e,"rel","external noreferrer"),m(e,"target","_blank"),m(e,"href",i=n[14](n[24].content))},m(l,o){T(l,e,o),g(e,r)},p(l,o){o&6&&t!==(t=l[24].content+"")&&W(r,t),o&6&&i!==(i=l[14](l[24].content))&&m(e,"href",i)},i:$,o:$,d(l){l&&h(e)}}}function hv(n){let e,t,r,i;const l=[wv,yv,vv,bv],o=[];function s(a,u){return a[2][a[24].number][0]==="p"?0:a[2][a[24].number][0]==="e"||a[2][a[24].number][0]==="q"?1:a[2][a[24].number][0]==="t"?2:3}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,u){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function pv(n){let e,t,r,i,l;const o=[Dv,Cv],s=[];function a(u,c){return c&6&&(e=null),e==null&&(e=!!u[8](u[24].url)),e?0:1}return t=a(n,-1),r=s[t]=o[t](n),{c(){r.c(),i=ae()},l(u){r.l(u),i=ae()},m(u,c){s[t].m(u,c),T(u,i,c),l=!0},p(u,c){let f=t;t=a(u,c),t===f?s[t].p(u,c):(ye(),U(s[f],1,1,()=>{s[f]=null}),we(),r=s[t],r?r.p(u,c):(r=s[t]=o[t](u),r.c()),R(r,1),r.m(i.parentNode,i))},i(u){l||(R(r),l=!0)},o(u){U(r),l=!1},d(u){u&&h(i),s[t].d(u)}}}function mv(n){let e;function t(l,o){return l[6]?Av:Tv}let r=t(n),i=r(n);return{c(){i.c(),e=ae()},l(l){i.l(l),e=ae()},m(l,o){i.m(l,o),T(l,e,o)},p(l,o){r===(r=t(l))&&i?i.p(l,o):(i.d(1),i=r(l),i&&(i.c(),i.m(e.parentNode,e)))},i:$,o:$,d(l){l&&h(e),i.d(l)}}}function gv(n){let e,t,r,i;const l=[Bv,Vv],o=[];function s(a,u){return a[6]?0:1}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,u){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function _v(n){let e,t,r,i;function l(){return n[16](n[24])}return{c(){e=y("img"),this.h()},l(o){e=w(o,"IMG",{class:!0,src:!0,height:!0,alt:!0}),this.h()},h(){m(e,"class","align-bottom inline-flex h-[1.5em] max-w-full -mx-[2.2px] object-contain"),Ne(e.src,t=n[24].url)||m(e,"src",t),m(e,"height","6"),m(e,"alt","")},m(o,s){T(o,e,s),r||(i=ee(e,"click",l),r=!0)},p(o,s){n=o,s&6&&!Ne(e.src,t=n[24].url)&&m(e,"src",t)},i:$,o:$,d(o){o&&h(e),r=!1,i()}}}function bv(n){let e=n[2][n[24].number][1]+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&6&&e!==(e=r[2][r[24].number][1]+"")&&W(t,e)},i:$,o:$,d(r){r&&h(t)}}}function vv(n){let e,t,r=n[2][n[24].number][1]+"",i,l,o;function s(){return n[19](n[24])}return{c(){e=y("button"),t=B("#"),i=B(r),this.h()},l(a){e=w(a,"BUTTON",{class:!0});var u=k(e);t=M(u,"#"),i=M(u,r),u.forEach(h),this.h()},h(){m(e,"class","anchor")},m(a,u){T(a,e,u),g(e,t),g(e,i),l||(o=ee(e,"click",s),l=!0)},p(a,u){n=a,u&6&&r!==(r=n[2][n[24].number][1]+"")&&W(i,r)},i:$,o:$,d(a){a&&h(e),l=!1,o()}}}function yv(n){let e,t;return e=new ov({props:{id:n[2][n[24].number][1],isPageOwner:n[3],pubkey:n[4]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&6&&(l.id=r[2][r[24].number][1]),i&8&&(l.isPageOwner=r[3]),i&16&&(l.pubkey=r[4]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function wv(n){let e,t;return e=new an({props:{queryKey:["metadata",n[2][n[24].number][1]],pubkey:n[2][n[24].number][1],$$slots:{nodata:[Nv],error:[Sv],loading:[Iv],default:[Ov,({metadata:r})=>({28:r}),({metadata:r})=>r?268435456:0]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&6&&(l.queryKey=["metadata",r[2][r[24].number][1]]),i&6&&(l.pubkey=r[2][r[24].number][1]),i&805306374&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function kv(n){let e=me.npubEncode(n[2][n[24].number][1]).slice(0,12)+"",t,r,i=me.npubEncode(n[2][n[24].number][1]).slice(-4)+"",l;return{c(){t=B(e),r=B(":"),l=B(i)},l(o){t=M(o,e),r=M(o,":"),l=M(o,i)},m(o,s){T(o,t,s),T(o,r,s),T(o,l,s)},p(o,s){s&6&&e!==(e=me.npubEncode(o[2][o[24].number][1]).slice(0,12)+"")&&W(t,e),s&6&&i!==(i=me.npubEncode(o[2][o[24].number][1]).slice(-4)+"")&&W(l,i)},d(o){o&&(h(t),h(r),h(l))}}}function Ev(n){let e=JSON.parse(n[28].content).name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&268435456&&e!==(e=JSON.parse(r[28].content).name+"")&&W(t,e)},d(r){r&&h(t)}}}function Ov(n){let e,t,r,i,l,o;function s(f,d){if(d&268435456&&(i=null),i==null&&(i=JSON.parse(f[28].content).name!==""),i)return Ev;if(f[24].number!==void 0)return kv}let a=s(n,-1),u=a&&a(n);function c(){return n[18](n[24],n[28])}return{c(){e=y("button"),t=y("u"),r=B("@"),u&&u.c(),this.h()},l(f){e=w(f,"BUTTON",{class:!0});var d=k(e);t=w(d,"U",{});var p=k(t);r=M(p,"@"),u&&u.l(p),p.forEach(h),d.forEach(h),this.h()},h(){m(e,"class","flex inline-flex text-surface-600 dark:text-surface-300")},m(f,d){T(f,e,d),g(e,t),g(t,r),u&&u.m(t,null),l||(o=ee(e,"click",c),l=!0)},p(f,d){n=f,a===(a=s(n,d))&&u?u.p(n,d):(u&&u.d(1),u=a&&a(n),u&&(u.c(),u.m(t,null)))},d(f){f&&h(e),u&&u.d(),l=!1,o()}}}function Iv(n){let e,t,r=n[2][n[24].number][1]+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o&6&&r!==(r=l[2][l[24].number][1]+"")&&W(i,r)},d(l){l&&h(e)}}}function Sv(n){let e,t,r=n[2][n[24].number][1]+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o&6&&r!==(r=l[2][l[24].number][1]+"")&&W(i,r)},d(l){l&&h(e)}}}function Nv(n){let e,t,r=n[2][n[24].number][1]+"",i;return{c(){e=y("div"),t=y("div"),i=B(r),this.h()},l(l){e=w(l,"DIV",{slot:!0});var o=k(e);t=w(o,"DIV",{class:!0});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o&6&&r!==(r=l[2][l[24].number][1]+"")&&W(i,r)},d(l){l&&h(e)}}}function Cv(n){let e,t=n[24].content+"",r;return{c(){e=y("span"),r=B(t)},l(i){e=w(i,"SPAN",{});var l=k(e);r=M(l,t),l.forEach(h)},m(i,l){T(i,e,l),g(e,r)},p(i,l){l&6&&t!==(t=i[24].content+"")&&W(r,t)},i:$,o:$,d(i){i&&h(e)}}}function Dv(n){let e,t;return e=new Pb({props:{encodedId:n[24].url,isPageOwner:n[3],pubkey:n[4]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&6&&(l.encodedId=r[24].url),i&8&&(l.isPageOwner=r[3]),i&16&&(l.pubkey=r[4]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Tv(n){let e,t,r;function i(s,a){return s[24].content.length>80?Rv:Pv}let l=i(n),o=l(n);return{c(){e=y("span"),t=y("a"),o.c(),this.h()},l(s){e=w(s,"SPAN",{class:!0});var a=k(e);t=w(a,"A",{class:!0,href:!0,target:!0});var u=k(t);o.l(u),u.forEach(h),a.forEach(h),this.h()},h(){m(t,"class","anchor"),m(t,"href",r=n[24].content),m(t,"target","_blank"),m(e,"class","break-all break-all")},m(s,a){T(s,e,a),g(e,t),o.m(t,null)},p(s,a){l===(l=i(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(t,null))),a&6&&r!==(r=s[24].content)&&m(t,"href",r)},d(s){s&&h(e),o.d()}}}function Av(n){let e,t,r,i,l;function o(){return n[17](n[24])}return{c(){e=y("span"),t=y("img"),this.h()},l(s){e=w(s,"SPAN",{class:!0});var a=k(e);t=w(a,"IMG",{class:!0,src:!0,alt:!0,loading:!0}),a.forEach(h),this.h()},h(){m(t,"class","max-h-[10em] object-contain"),Ne(t.src,r=n[24].content)||m(t,"src",r),m(t,"alt",""),m(t,"loading","lazy"),m(e,"class","w-[fit-content] inline-flex flex align-bottom")},m(s,a){T(s,e,a),g(e,t),i||(l=ee(t,"click",o),i=!0)},p(s,a){n=s,a&6&&!Ne(t.src,r=n[24].content)&&m(t,"src",r)},d(s){s&&h(e),i=!1,l()}}}function Pv(n){let e=n[24].content+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&6&&e!==(e=r[24].content+"")&&W(t,e)},d(r){r&&h(t)}}}function Rv(n){let e=n[24].content.slice(0,75)+"",t,r;return{c(){t=B(e),r=B("...")},l(i){t=M(i,e),r=M(i,"...")},m(i,l){T(i,t,l),T(i,r,l)},p(i,l){l&6&&e!==(e=i[24].content.slice(0,75)+"")&&W(t,e)},d(i){i&&(h(t),h(r))}}}function Vv(n){let e,t;function r(o,s){return o[24].content.length>80?Lv:Mv}let i=r(n),l=i(n);return{c(){e=y("a"),l.c(),this.h()},l(o){e=w(o,"A",{class:!0,href:!0,target:!0});var s=k(e);l.l(s),s.forEach(h),this.h()},h(){m(e,"class","anchor"),m(e,"href",t=n[24].content),m(e,"target","_blank")},m(o,s){T(o,e,s),l.m(e,null)},p(o,s){i===(i=r(o))&&l?l.p(o,s):(l.d(1),l=i(o),l&&(l.c(),l.m(e,null))),s&6&&t!==(t=o[24].content)&&m(e,"href",t)},i:$,o:$,d(o){o&&h(e),l.d()}}}function Bv(n){let e,t,r,i,l,o,s;const a=[Fv,zv,Uv,qv],u=[];function c(f,d){var p,b;return d&6&&(e=null),d&6&&(t=null),d&6&&(r=null),e==null&&(e=!!new URL(f[24].content).hostname.endsWith("twitter.com")),e?0:(t==null&&(t=new URL(f[24].content).hostname==="www.youtube.com"||new URL(f[24].content).hostname==="m.youtube.com"||new URL(f[24].content).hostname==="youtu.be"),t?1:(r==null&&(r=!!((p=f[24].content)!=null&&p.endsWith(".mp4")||(b=f[24].content)!=null&&b.endsWith(".mov"))),r?2:3))}return i=c(n,-1),l=u[i]=a[i](n),{c(){l.c(),o=ae()},l(f){l.l(f),o=ae()},m(f,d){u[i].m(f,d),T(f,o,d),s=!0},p(f,d){let p=i;i=c(f,d),i===p?u[i].p(f,d):(ye(),U(u[p],1,1,()=>{u[p]=null}),we(),l=u[i],l?l.p(f,d):(l=u[i]=a[i](f),l.c()),R(l,1),l.m(o.parentNode,o))},i(f){s||(R(l),s=!0)},o(f){U(l),s=!1},d(f){f&&h(o),u[i].d(f)}}}function Mv(n){let e=n[24].content+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&6&&e!==(e=r[24].content+"")&&W(t,e)},d(r){r&&h(t)}}}function Lv(n){let e=n[24].content.slice(0,75)+"",t,r;return{c(){t=B(e),r=B("...")},l(i){t=M(i,e),r=M(i,"...")},m(i,l){T(i,t,l),T(i,r,l)},p(i,l){l&6&&e!==(e=i[24].content.slice(0,75)+"")&&W(t,e)},d(i){i&&(h(t),h(r))}}}function qv(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Wv,then:Jv,catch:jv,value:27,blocks:[,,,]};return rt(t=n[9](n[24].content),i),{c(){e=ae(),i.block.c()},l(l){e=ae(),i.block.l(l)},m(l,o){T(l,e,o),i.block.m(l,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(l,o){n=l,i.ctx=n,o&6&&t!==(t=n[9](n[24].content))&&rt(t,i)||Yt(i,n,o)},i(l){r||(R(i.block),r=!0)},o(l){for(let o=0;o<3;o+=1){const s=i.blocks[o];U(s)}r=!1},d(l){l&&h(e),i.block.d(l),i.token=null,i=null}}}function Uv(n){let e,t,r,i,l,o;return{c(){e=y("video"),t=y("source"),i=y("track"),o=B(`\r
								Your browser does not support the video tag.`),this.h()},l(s){e=w(s,"VIDEO",{class:!0});var a=k(e);t=w(a,"SOURCE",{src:!0,type:!0}),i=w(a,"TRACK",{kind:!0,src:!0,label:!0}),o=M(a,`\r
								Your browser does not support the video tag.`),a.forEach(h),this.h()},h(){Ne(t.src,r=n[24].content)||m(t,"src",r),m(t,"type","video/mp4"),m(i,"kind","captions"),Ne(i.src,l="")||m(i,"src",l),m(i,"label","English"),i.default=!0,e.controls=!0,m(e,"class","max-h-[20em] max-w-full")},m(s,a){T(s,e,a),g(e,t),g(e,i),g(e,o)},p(s,a){a&6&&!Ne(t.src,r=s[24].content)&&m(t,"src",r)},i:$,o:$,d(s){s&&h(e)}}}function zv(n){let e,t;return{c(){e=y("iframe"),this.h()},l(r){e=w(r,"IFRAME",{class:!0,width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0}),k(e).forEach(h),this.h()},h(){m(e,"class","rounded max-w-full"),m(e,"width","320"),m(e,"height","180"),Ne(e.src,t=`https://www.youtube.com/embed/${n[10](n[24].content)}`)||m(e,"src",t),m(e,"title","YouTube video player"),m(e,"frameborder","0"),m(e,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.allowFullscreen=!0},m(r,i){T(r,e,i)},p(r,i){i&6&&!Ne(e.src,t=`https://www.youtube.com/embed/${r[10](r[24].content)}`)&&m(e,"src",t)},i:$,o:$,d(r){r&&h(e)}}}function Fv(n){let e,t,r,i,l=n[24].content+"",o,s,a,u,c="",f;return{c(){e=y("div"),t=y("blockquote"),r=y("p"),i=y("a"),o=B(l),a=F(),u=y("script"),u.innerHTML=c,this.h()},l(d){e=w(d,"DIV",{class:!0});var p=k(e);t=w(p,"BLOCKQUOTE",{class:!0});var b=k(t);r=w(b,"P",{lang:!0,dir:!0});var _=k(r);i=w(_,"A",{class:!0,href:!0});var v=k(i);o=M(v,l),v.forEach(h),_.forEach(h),b.forEach(h),a=j(p),u=w(p,"SCRIPT",{src:!0,charset:!0,"data-svelte-h":!0}),qe(u)!=="svelte-1bnedgm"&&(u.innerHTML=c),p.forEach(h),this.h()},h(){m(i,"class","anchor break-all"),m(i,"href",s=n[24].content),m(r,"lang","ja"),m(r,"dir","ltr"),m(t,"class","twitter-tweet"),u.async=!0,Ne(u.src,f="https://platform.twitter.com/widgets.js")||m(u,"src",f),m(u,"charset","utf-8"),m(e,"class","max-w-full max-h-[24rem] w-[28rem] overflow-auto break-all")},m(d,p){T(d,e,p),g(e,t),g(t,r),g(r,i),g(i,o),g(e,a),g(e,u)},p(d,p){p&6&&l!==(l=d[24].content+"")&&W(o,l),p&6&&s!==(s=d[24].content)&&m(i,"href",s)},i:$,o:$,d(d){d&&h(e)}}}function jv(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function Jv(n){let e,t,r,i;const l=[$v,Hv],o=[];function s(a,u){return a[5][a[24].content]&&a[5][a[24].content].title&&a[5][a[24].content].title!==""?0:1}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,u){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function Hv(n){let e,t;function r(o,s){return o[24].content.length>80?Qv:Kv}let i=r(n),l=i(n);return{c(){e=y("a"),l.c(),this.h()},l(o){e=w(o,"A",{class:!0,href:!0,target:!0});var s=k(e);l.l(s),s.forEach(h),this.h()},h(){m(e,"class","anchor"),m(e,"href",t=n[24].content),m(e,"target","_blank")},m(o,s){T(o,e,s),l.m(e,null)},p(o,s){i===(i=r(o))&&l?l.p(o,s):(l.d(1),l=i(o),l&&(l.c(),l.m(e,null))),s&6&&t!==(t=o[24].content)&&m(e,"href",t)},i:$,o:$,d(o){o&&h(e),l.d()}}}function $v(n){let e,t;return e=new Ht({props:{ogp:n[5][n[24].content],url:n[24].content}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&38&&(l.ogp=r[5][r[24].content]),i&6&&(l.url=r[24].content),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Kv(n){let e=n[24].content+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&6&&e!==(e=r[24].content+"")&&W(t,e)},d(r){r&&h(t)}}}function Qv(n){let e=n[24].content.slice(0,75)+"",t,r;return{c(){t=B(e),r=B("...")},l(i){t=M(i,e),r=M(i,"...")},m(i,l){T(i,t,l),T(i,r,l)},p(i,l){l&6&&e!==(e=i[24].content.slice(0,75)+"")&&W(t,e)},d(i){i&&(h(t),h(r))}}}function Wv(n){let e,t,r;function i(s,a){return s[24].content.length>80?Zv:Gv}let l=i(n),o=l(n);return{c(){e=y("span"),t=y("a"),o.c(),this.h()},l(s){e=w(s,"SPAN",{class:!0});var a=k(e);t=w(a,"A",{class:!0,href:!0,target:!0});var u=k(t);o.l(u),u.forEach(h),a.forEach(h),this.h()},h(){m(t,"class","anchor"),m(t,"href",r=n[24].content),m(t,"target","_blank"),m(e,"class","break-all")},m(s,a){T(s,e,a),g(e,t),o.m(t,null)},p(s,a){l===(l=i(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(t,null))),a&6&&r!==(r=s[24].content)&&m(t,"href",r)},i:$,o:$,d(s){s&&h(e),o.d()}}}function Gv(n){let e=n[24].content+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&6&&e!==(e=r[24].content+"")&&W(t,e)},d(r){r&&h(t)}}}function Zv(n){let e=n[24].content.slice(0,75)+"",t,r;return{c(){t=B(e),r=B("...")},l(i){t=M(i,e),r=M(i,"...")},m(i,l){T(i,t,l),T(i,r,l)},p(i,l){l&6&&e!==(e=i[24].content.slice(0,75)+"")&&W(t,e)},d(i){i&&(h(t),h(r))}}}function Hu(n){let e,t,r=n[24].content.length>0&&Ju(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,l){i[24].content.length>0?r?(r.p(i,l),l&6&&R(r,1)):(r=Ju(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}function Yv(n){let e;return{c(){e=B(n[1])},l(t){e=M(t,n[1])},m(t,r){T(t,e,r)},p(t,r){r&2&&W(e,t[1])},i:$,o:$,d(t){t&&h(e)}}}function Xv(n){let e,t,r,i,l;const o=[av,sv],s=[];function a(u,c){return c&5&&(e=null),e==null&&(e=!!(u[2].some(e2)&&u[0]==!1)),e?0:1}return t=a(n,-1),r=s[t]=o[t](n),{c(){r.c(),i=ae()},l(u){r.l(u),i=ae()},m(u,c){s[t].m(u,c),T(u,i,c),l=!0},p(u,[c]){let f=t;t=a(u,c),t===f?s[t].p(u,c):(ye(),U(s[f],1,1,()=>{s[f]=null}),we(),r=s[t],r?r.p(u,c):(r=s[t]=o[t](u),r.c()),R(r,1),r.m(i.parentNode,i))},i(u){l||(R(r),l=!0)},o(u){U(r),l=!1},d(u){u&&h(i),s[t].d(u)}}}function xv(n,e){e||(e=window.location.href),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const e2=n=>n[0]==="content-warning",$u=n=>n[0]==="content-warning";function t2(n,e,t){let r,i,l;ce(n,zs,L=>t(20,r=L)),ce(n,ar,L=>t(5,i=L)),ce(n,Ci,L=>t(6,l=L));let{id:o}=e,{text:s}=e,{tag:a}=e,{isPageOwner:u}=e,{pubkey:c}=e;const f={ref:C_,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function d(L){if(typeof L=="string"){const H={type:"component",image:L,component:f};Re.trigger(H)}}function p(L){try{return me.decode(L),!0}catch{return!1}}async function b(L){if(!i[L]||i[L].title==="")try{const H=await Fm(L);ar.update(z=>({...z,[L]:H}))}catch(H){console.log(H),Pe(ar,i[L].title="",i),Pe(ar,i[L].image="",i),Pe(ar,i[L].description="",i),Pe(ar,i[L].favicon="",i)}}const _=L=>{const H=new URL(L);if(H.hostname==="youtu.be")return H.pathname.substring(1);if(H.hostname==="www.youtube.com"||H.hostname==="m.youtube.com")return H.pathname.startsWith("/shorts/")?H.pathname.replace("/shorts/",""):xv("v",L)},v={ref:Xr,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function E(L){console.log(L);const H={type:"component",meta:{metadata:L},component:v};Re.trigger(H)}async function I(L,H){if(o in r)return r[o];{const z=await E_(L,H);return Pe(zs,r[o]=z,r),z}}let{view:S=!1}=e;function N(){t(0,S=!0)}const C=L=>`https://nosey.vercel.app/?q=${encodeURIComponent(L)}`,O=L=>d(L.url),D=L=>d(L.content),A=(L,H)=>{L.number===void 0||L.number,E(H)},P=L=>{console.log(L.number),L.number!==void 0&&br(`../t/${a[L.number][1]}`)};return n.$$set=L=>{"id"in L&&t(15,o=L.id),"text"in L&&t(1,s=L.text),"tag"in L&&t(2,a=L.tag),"isPageOwner"in L&&t(3,u=L.isPageOwner),"pubkey"in L&&t(4,c=L.pubkey),"view"in L&&t(0,S=L.view)},[S,s,a,u,c,i,l,d,p,b,_,E,I,N,C,o,O,D,A,P]}class cn extends De{constructor(e){super(),Te(this,e,t2,Xv,Ce,{id:15,text:1,tag:2,isPageOwner:3,pubkey:4,view:0})}}let it;jt.subscribe(n=>{it=n});let tn;jn.subscribe(n=>{tn=n});const Ft=Yr();Ft.createConnectionStateObservable().subscribe(n=>{let e=st(Yn);e?(e[n.from]=n.state,Yn.set(e)):(e=Object.assign({},e,{[n.from]:n.state}),Yn.set(e)),console.log(n),console.log(st(Yn))});async function n2(n){console.log("reconnecting"),Ft.reconnect(n)}async function Qk(n,e,t){var a;let r=st(jt);r[n]||(r={...r,[n]:{}}),r[n][e]||(r[n][e]=new Map),it[n]||(it={...it,[n]:{}}),it[n][e]||(it[n][e]=new Map),tn[n]||(tn={...tn,[n]:{}}),tn[n][e]||(tn[n][e]=new Map),console.log("[get relays]",Ft.getRelays()),console.log("[get states]",Ft.getAllRelayState());const i=((a=st(ln)[st(Ct)])==null?void 0:a.postRelays)??[];Ft.setRelays($d(i,t.relays)),console.log("[get relays]",Ft.getRelays()),Yn.set(Ft.getAllRelayState());const l=bm();l.emit(t.filters);const o=Ft.use(l).pipe(Or(),Hn()),s={next:u=>{var c,f,d,p,b,_;if(console.log("[rx-nostr packet]",u),e>=3e4&&e<4e4){const v=u.event.tags.find(E=>E[0]==="d");if(v){const E=(c=it[n][e].get(v[1]))==null?void 0:c.created_at;if(it[n][e].has(v[1])){if(it[n][e].has(v[1])&&E&&u.event.created_at>E){it[n][e].set(v[1],u.event),jt.set(it);const I=u.event.tags.find(D=>D[0]==="d"),S=u.event.tags.find(D=>D[0]==="title"),N=u.event.tags.find(D=>D[0]==="image"),C=u.event.tags.find(D=>D[0]==="description"),O={identifier:I?I[1]:void 0,title:S?S[1]:void 0,image:N?N[1]:void 0,description:C?C[1]:void 0};tn[n][e].set(v[1],O),jn.set(tn)}}else{it[n][e].set(v[1],u.event),jt.set(it);const I=u.event.tags.find(D=>D[0]==="d"),S=u.event.tags.find(D=>D[0]==="title"),N=u.event.tags.find(D=>D[0]==="image"),C=u.event.tags.find(D=>D[0]==="description"),O={identifier:I?I[1]:void 0,title:S?S[1]:void 0,image:N?N[1]:void 0,description:C?C[1]:void 0};tn[n][e].set(v[1],O),jn.set(tn)}}}else{console.log(e);const v=(p=(d=(f=it[n])==null?void 0:f[e])==null?void 0:d.get(e.toString()))==null?void 0:p.created_at;(b=it[n])!=null&&b[e].has(e.toString())?(_=it[n])!=null&&_[e].has(e.toString())&&v&&u.event.created_at>v&&(it[n][e].set(e.toString(),u.event),jt.set(it)):(it[n][e].set(e.toString(),u.event),jt.set(it))}},error:u=>{console.log("Error occurred:",u)},complete:()=>{console.log("Subscription completed")}};o.subscribe(s)}async function Qr(n,e,t=5e3){var o;if(e.length===0)return console.error("relay設定されてない"),{isSuccess:!1,msg:"relayが設定されていません"};let r=!1;const i={};e.forEach(s=>{i[s]=!1}),console.log(n);const l=await Rd();if(n.pubkey==="")n.pubkey=l;else if(n.pubkey!==l)return console.log("ログイン中のpubとsignEvのpubが違う"),{isSuccess:!1,msg:"login error"};try{const s=n;s.id=ph(s),console.log(s);const a=((o=st(ln)[st(Ct)])==null?void 0:o.postRelays)??[];Ft.setRelays($d(a,e)),console.log("[get relays]",Ft.getRelays());const u=st(tl);return u?{isSuccess:!1,msg:"まだ書き込みできないよ"}:await Promise.race([new Promise(f=>{const d=Ft.send(s).subscribe({next:p=>{i[p.from]=!0,r=!0},complete:()=>{f({isSuccess:r,event:s,msg:ur(i)})}})}),new Promise(f=>{setTimeout(()=>{const d=Object.values(i).some(p=>p===!0);console.log("timeout",s,ur(i),d,r),f({isSuccess:d,event:s,msg:ur(i)})},t)})])}catch{return{isSuccess:!1,msg:"まだ書き込みできないよ"}}}function $d(n,e){const t={},r=Array.from(new Set([...n,...e]));for(const i of r)t[i]={read:e.includes(i),write:n.includes(i)};return uf.set(t),console.log(t),t}const r2='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 12c-.55 0-1 .45-1 1v5.22c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1zm3.02-7H19V2.98c0-.54-.44-.98-.98-.98h-.03c-.55 0-.99.44-.99.98V5h-2.01c-.54 0-.98.44-.99.98v.03c0 .55.44.99.99.99H17v2.01c0 .54.44.99.99.98h.03c.54 0 .98-.44.98-.98V7h2.02c.54 0 .98-.44.98-.98v-.04c0-.54-.44-.98-.98-.98z"/><path d="M14 9H8c-.55 0-1 .45-1 1s.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1zm0 3H8c-.55 0-1 .45-1 1s.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1zm0 3H8c-.55 0-1 .45-1 1s.45 1 1 1h6c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>';function Ku(n,e,t){const r=n.slice();return r[15]=e[t],r}function Qu(n){let e,t,r,i,l,o=(n[4][0].title??"(title missing)")+"",s,a,u,c="📋",f,d,p=(n[4][0].body??"(body missing)")+"",b,_,v,E,I,S,N,C,O,D="kind:",A,P=n[3].kind+"",L,H,z,V,x="content:",J,q,Z,oe=n[3].content+"",Y,Q,G,fe,ue="tags:",X,K,se,te,be,he,de,_e,ge=n[0].buttonTextCancel+"",Ie,Le,ze,Ae,Me,ht,ct,yt,Rt,Fe=n[6]&&i2(n),ke=n[3].pubkey!==""&&Wu(n),Ue=n[3].tags&&Gu(n);return{c(){e=y("div"),t=y("div"),r=y("header"),i=y("span"),l=new Ee(!1),s=B(o),a=F(),u=y("button"),u.textContent=c,f=F(),d=y("article"),b=B(p),_=F(),Fe&&Fe.c(),v=F(),E=y("textarea"),I=F(),ke&&ke.c(),S=F(),N=y("div"),C=y("p"),O=y("b"),O.textContent=D,A=F(),L=B(P),H=F(),z=y("p"),V=y("b"),V.textContent=x,J=y("br"),q=F(),Z=y("span"),Y=B(oe),Q=F(),G=y("p"),fe=y("b"),fe.textContent=ue,X=y("br"),K=F(),se=y("span"),te=B("["),Ue&&Ue.c(),be=B("]"),he=F(),de=y("footer"),_e=y("button"),Ie=B(ge),ze=F(),Ae=y("button"),Me=B("Post Note"),this.h()},l(Et){e=w(Et,"DIV",{class:!0});var Se=k(e);t=w(Se,"DIV",{class:!0});var Ye=k(t);r=w(Ye,"HEADER",{class:!0});var gt=k(r);i=w(gt,"SPAN",{class:!0});var Nt=k(i);l=Oe(Nt,!1),Nt.forEach(h),s=M(gt,o),gt.forEach(h),a=j(Ye),u=w(Ye,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(u)!=="svelte-c6ax0e"&&(u.textContent=c),Ye.forEach(h),f=j(Se),d=w(Se,"ARTICLE",{class:!0});var Tt=k(d);b=M(Tt,p),Tt.forEach(h),_=j(Se),Fe&&Fe.l(Se),v=j(Se),E=w(Se,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),k(E).forEach(h),I=j(Se),ke&&ke.l(Se),S=j(Se),N=w(Se,"DIV",{class:!0});var _t=k(N);C=w(_t,"P",{});var Vt=k(C);O=w(Vt,"B",{"data-svelte-h":!0}),qe(O)!=="svelte-1f135qs"&&(O.textContent=D),A=j(Vt),L=M(Vt,P),Vt.forEach(h),H=j(_t),z=w(_t,"P",{});var Bt=k(z);V=w(Bt,"B",{"data-svelte-h":!0}),qe(V)!=="svelte-tjjtbf"&&(V.textContent=x),J=w(Bt,"BR",{}),q=j(Bt),Z=w(Bt,"SPAN",{class:!0});var Kt=k(Z);Y=M(Kt,oe),Kt.forEach(h),Bt.forEach(h),Q=j(_t),G=w(_t,"P",{});var Mt=k(G);fe=w(Mt,"B",{"data-svelte-h":!0}),qe(fe)!=="svelte-1e2ec1x"&&(fe.textContent=ue),X=w(Mt,"BR",{}),K=j(Mt),se=w(Mt,"SPAN",{class:!0});var fn=k(se);te=M(fn,"["),Ue&&Ue.l(fn),be=M(fn,"]"),fn.forEach(h),Mt.forEach(h),_t.forEach(h),he=j(Se),de=w(Se,"FOOTER",{class:!0});var yn=k(de);_e=w(yn,"BUTTON",{class:!0});var wn=k(_e);Ie=M(wn,ge),wn.forEach(h),ze=j(yn),Ae=w(yn,"BUTTON",{class:!0});var Qn=k(Ae);Me=M(Qn,"Post Note"),Qn.forEach(h),yn.forEach(h),Se.forEach(h),this.h()},h(){l.a=null,m(i,"class","dark:fill-white"),m(r,"class",s2),m(u,"class","btn-icon variant-filled-surface"),m(t,"class","grid grid-cols-[1fr_auto]"),m(d,"class","body break-all whitespace-pre-wrap"),m(E,"class","textarea"),m(E,"rows","5"),m(E,"placeholder",""),m(Z,"class","whitespace-pre-wrap"),m(se,"class","text-xs"),m(N,"class","break-all text-sm"),m(_e,"class",Le="btn "+n[0].buttonNeutral),m(Ae,"class",ht="btn "+n[0].buttonPositive),m(de,"class",ct="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+o2)},m(Et,Se){T(Et,e,Se),g(e,t),g(t,r),g(r,i),l.m(r2,i),g(r,s),g(t,a),g(t,u),g(e,f),g(e,d),g(d,b),g(e,_),Fe&&Fe.m(e,null),g(e,v),g(e,E),$e(E,n[1].content),g(e,I),ke&&ke.m(e,null),g(e,S),g(e,N),g(N,C),g(C,O),g(C,A),g(C,L),g(N,H),g(N,z),g(z,V),g(z,J),g(z,q),g(z,Z),g(Z,Y),g(N,Q),g(N,G),g(G,fe),g(G,X),g(G,K),g(G,se),g(se,te),Ue&&Ue.m(se,null),g(se,be),g(e,he),g(e,de),g(de,_e),g(_e,Ie),g(de,ze),g(de,Ae),g(Ae,Me),yt||(Rt=[ee(u,"click",n[9]),ee(E,"input",n[11]),ee(_e,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)}),ee(Ae,"click",n[8])],yt=!0)},p(Et,Se){n=Et,Se&16&&o!==(o=(n[4][0].title??"(title missing)")+"")&&W(s,o),Se&16&&p!==(p=(n[4][0].body??"(body missing)")+"")&&W(b,p),n[6]&&Fe.p(n,Se),Se&2&&$e(E,n[1].content),n[3].pubkey!==""?ke?ke.p(n,Se):(ke=Wu(n),ke.c(),ke.m(e,S)):ke&&(ke.d(1),ke=null),Se&8&&P!==(P=n[3].kind+"")&&W(L,P),Se&8&&oe!==(oe=n[3].content+"")&&W(Y,oe),n[3].tags?Ue?Ue.p(n,Se):(Ue=Gu(n),Ue.c(),Ue.m(se,be)):Ue&&(Ue.d(1),Ue=null),Se&1&&ge!==(ge=n[0].buttonTextCancel+"")&&W(Ie,ge),Se&1&&Le!==(Le="btn "+n[0].buttonNeutral)&&m(_e,"class",Le),Se&1&&ht!==(ht="btn "+n[0].buttonPositive)&&m(Ae,"class",ht),Se&1&&ct!==(ct="modal-footer "+n[0].regionFooter)&&m(de,"class",ct)},d(Et){Et&&h(e),Fe&&Fe.d(),ke&&ke.d(),Ue&&Ue.d(),yt=!1,je(Rt)}}}function i2(n){let e,t="Repost:",r,i,l="Repost",o,s,a="Quote:",u,c;return{c(){e=y("p"),e.textContent=t,r=F(),i=y("button"),i.textContent=l,o=F(),s=y("p"),s.textContent=a,this.h()},l(f){e=w(f,"P",{"data-svelte-h":!0}),qe(e)!=="svelte-11u6hwn"&&(e.textContent=t),r=j(f),i=w(f,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),qe(i)!=="svelte-ii4yp6"&&(i.textContent=l),o=j(f),s=w(f,"P",{"data-svelte-h":!0}),qe(s)!=="svelte-1oyp2ie"&&(s.textContent=a),this.h()},h(){m(i,"class","btn variant-filled-secondary"),m(i,"type","button")},m(f,d){T(f,e,d),T(f,r,d),T(f,i,d),T(f,o,d),T(f,s,d),u||(c=ee(i,"click",n[10]),u=!0)},p:$,d(f){f&&(h(e),h(r),h(i),h(o),h(s)),u=!1,c()}}}function Wu(n){let e,t,r,i,l=n[5]("PostNote.p_tag")+"",o,s,a;return{c(){e=y("label"),t=y("input"),r=F(),i=y("p"),o=B(l),this.h()},l(u){e=w(u,"LABEL",{class:!0});var c=k(e);t=w(c,"INPUT",{class:!0,type:!0}),r=j(c),i=w(c,"P",{});var f=k(i);o=M(f,l),f.forEach(h),c.forEach(h),this.h()},h(){m(t,"class","checkbox"),m(t,"type","checkbox"),m(e,"class","flex items-center space-x-2")},m(u,c){T(u,e,c),g(e,t),t.checked=n[2],g(e,r),g(e,i),g(i,o),s||(a=ee(t,"change",n[12]),s=!0)},p(u,c){c&4&&(t.checked=u[2]),c&32&&l!==(l=u[5]("PostNote.p_tag")+"")&&W(o,l)},d(u){u&&h(e),s=!1,a()}}}function Gu(n){let e,t=Be(n[2]?n[7]:n[3].tags),r=[];for(let i=0;i<t.length;i+=1)r[i]=Zu(Ku(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=F()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);e=j(i)},m(i,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,l);T(i,e,l)},p(i,l){if(l&140){t=Be(i[2]?i[7]:i[3].tags);let o;for(o=0;o<t.length;o+=1){const s=Ku(i,t,o);r[o]?r[o].p(s,l):(r[o]=Zu(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(i){i&&h(e),St(r,i)}}}function Zu(n){let e,t=JSON.stringify(n[15],null,0)+"",r,i;return{c(){e=y("div"),r=B(t),i=B(","),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);r=M(o,t),i=M(o,","),o.forEach(h),this.h()},h(){m(e,"class","ml-2")},m(l,o){T(l,e,o),g(e,r),g(e,i)},p(l,o){o&12&&t!==(t=JSON.stringify(l[15],null,0)+"")&&W(r,t)},d(l){l&&h(e)}}}function l2(n){let e,t=n[4][0]&&Qu(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,[i]){r[4][0]?t?t.p(r,i):(t=Qu(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(r){r&&h(e),t&&t.d(r)}}}const o2="card p-4 w-modal shadow-xl space-y-4",s2="text-2xl font-bold flex  ";function a2(n,e,t){var I,S,N;let r,i,l,o;ce(n,Ct,C=>t(13,r=C)),ce(n,ln,C=>t(14,i=C)),ce(n,Re,C=>t(4,l=C)),ce(n,on,C=>t(5,o=C));let{parent:s}=e,a,u=((S=(I=l[0].value)==null?void 0:I.tagArray)==null?void 0:S[0])==="e"&&((N=l[0].value)==null?void 0:N.pubkey),c={pubkey:l[0].value.pubkey?l[0].value.pubkey:"",kind:1,tags:l[0].value.tags,content:l[0].value.content};const f=[["p",c.pubkey,"","mention"],...c.tags];let d={content:l[0].value.content,tags:l[0].value.tags};async function p(){d.content===void 0&&t(1,d.content="",d),t(1,d.content=d.content.trim(),d),a&&t(1,d.tags=[["p",c.pubkey,"","mention"],...c.tags],d);const C={id:"",pubkey:r,created_at:Math.floor(Date.now()/1e3),kind:1,tags:d.tags,content:d.content,sig:""},O=await Qr(C,i[r].postRelays),D=O.isSuccess?{message:`publish result<br>${O.msg}`,timeout:5e3}:{message:"failed to publish",background:"bg-orange-500 text-white width-filled ",timeout:5e3};ft.trigger(D),Re.close()}function b(){navigator.clipboard.writeText(d.content.trim()).then(()=>{const C={message:o("PostNote.copied"),timeout:3e3};ft.trigger(C)},()=>{const C={message:o("PostNote.failed_copy"),timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(C)})}async function _(){var C,O;if((C=l[0].value)!=null&&C.tagArray&&((O=l[0].value)!=null&&O.pubkey)){const D=[l[0].value.tagArray,["p",l[0].value.pubkey]];console.log(D);const A={id:"",pubkey:r,created_at:Math.floor(Date.now()/1e3),kind:6,tags:D,content:"",sig:""},P=await Qr(A,i[r].postRelays),L=P.isSuccess?{message:`publish result<br>${P.msg}`,timeout:5e3}:{message:"failed to publish",background:"bg-orange-500 text-white width-filled ",timeout:5e3};ft.trigger(L),Re.close()}}function v(){d.content=this.value,t(1,d)}function E(){a=this.checked,t(2,a)}return n.$$set=C=>{"parent"in C&&t(0,s=C.parent)},n.$$.update=()=>{n.$$.dirty&2&&t(3,c.content=d.content,c)},[s,d,a,c,l,o,u,f,p,b,_,v,E]}class os extends De{constructor(e){super(),Te(this,e,a2,l2,Ce,{parent:0})}}const vl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"/></svg>',ss='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zm-10 2.79V13H9c-.55 0-1-.45-1-1s.45-1 1-1h3V9.21c0-.45.54-.67.85-.35l2.79 2.79c.2.2.2.51 0 .71l-2.79 2.79a.5.5 0 0 1-.85-.36z"/></svg>',as='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 4H5a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H5V8h14v10h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7.35 6.35-2.79 2.79c-.32.32-.1.86.35.86H11v5c0 .55.45 1 1 1s1-.45 1-1v-5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01z"/></svg>',mr='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM7 9h10c.55 0 1 .45 1 1s-.45 1-1 1H7c-.55 0-1-.45-1-1s.45-1 1-1zm6 5H7c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm4-6H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1z"/></svg>',yl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 11c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1s.45-1 1-1h9c.55 0 1 .45 1 1zM3 7c0 .55.45 1 1 1h9c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm7 8c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1h5c.55 0 1-.45 1-1zm8.01-2.13.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71-5.16 5.16c-.09.09-.14.21-.14.35v1.41c0 .28.22.5.5.5h1.41c.13 0 .26-.05.35-.15l5.16-5.16-2.12-2.11z"/></svg>';function u2(n){let e;return{c(){e=y("div")},l(t){e=w(t,"DIV",{}),k(e).forEach(h)},m(t,r){T(t,e,r)},p:$,d(t){t&&h(e)}}}function c2(n){let e,t,r,i,l,o,s,a;return{c(){e=y("div"),t=y("button"),r=new Ee(!1),i=F(),l=y("button"),o=new Ee(!1),this.h()},l(u){e=w(u,"DIV",{class:!0});var c=k(e);t=w(c,"BUTTON",{class:!0});var f=k(t);r=Oe(f,!1),f.forEach(h),i=j(c),l=w(c,"BUTTON",{class:!0});var d=k(l);o=Oe(d,!1),d.forEach(h),c.forEach(h),this.h()},h(){r.a=null,m(t,"class","btn m-0 p-0 mb-1 bg-surface-500 w-fit fill-white"),o.a=null,m(l,"class","btn m-0 p-0 bg-surface-500 w-fit fill-warning-400"),m(e,"class","flex flex-col w-fit")},m(u,c){T(u,e,c),g(e,t),r.m(ss,t),g(e,i),g(e,l),o.m(vl,l),s||(a=[ee(t,"click",n[15]),ee(l,"click",n[16])],s=!0)},p:$,d(u){u&&h(e),s=!1,je(a)}}}function f2(n){let e,t,r,i;return{c(){e=y("input"),this.h()},l(l){e=w(l,"INPUT",{class:!0,type:!0}),this.h()},h(){m(e,"class","m-2 checkbox scale-125 w-fit"),m(e,"type","checkbox"),e.checked=t=n[5].map(Xu).includes(n[3]!==void 0?n[3]:-1)},m(l,o){T(l,e,o),r||(i=ee(e,"change",n[14]),r=!0)},p(l,o){o&40&&t!==(t=l[5].map(Xu).includes(l[3]!==void 0?l[3]:-1))&&(e.checked=t)},d(l){l&&h(e),r=!1,i()}}}function d2(n){let e,t,r,i,l,o,s,a=n[2]&&Yu(n);return{c(){e=y("div"),t=y("button"),r=new Ee(!1),l=F(),a&&a.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var c=k(e);t=w(c,"BUTTON",{class:!0});var f=k(t);r=Oe(f,!1),f.forEach(h),l=j(c),a&&a.l(c),c.forEach(h),this.h()},h(){r.a=null,m(t,"class","btn m-0 p-0 mb-1 bg-surface-500 w-fit fill-white"),t.disabled=i=!n[4],m(e,"class","flex flex-col w-7")},m(u,c){T(u,e,c),g(e,t),r.m(mr,t),g(e,l),a&&a.m(e,null),o||(s=ee(t,"click",n[8]),o=!0)},p(u,c){c&16&&i!==(i=!u[4])&&(t.disabled=i),u[2]?a?a.p(u,c):(a=Yu(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(u){u&&h(e),a&&a.d(),o=!1,s()}}}function h2(n){let e,t,r,i,l,o,s,a,u,c,f,d,p,b,_,v,E,I;return{c(){e=y("div"),t=y("div"),r=y("button"),i=new Ee(!1),o=F(),s=y("button"),a=new Ee(!1),u=F(),c=y("div"),f=y("button"),d=new Ee(!1),b=F(),_=y("button"),v=new Ee(!1),this.h()},l(S){e=w(S,"DIV",{class:!0});var N=k(e);t=w(N,"DIV",{});var C=k(t);r=w(C,"BUTTON",{class:!0});var O=k(r);i=Oe(O,!1),O.forEach(h),o=j(C),s=w(C,"BUTTON",{class:!0});var D=k(s);a=Oe(D,!1),D.forEach(h),C.forEach(h),u=j(N),c=w(N,"DIV",{});var A=k(c);f=w(A,"BUTTON",{class:!0});var P=k(f);d=Oe(P,!1),P.forEach(h),b=j(A),_=w(A,"BUTTON",{class:!0});var L=k(_);v=Oe(L,!1),L.forEach(h),A.forEach(h),N.forEach(h),this.h()},h(){i.a=null,m(r,"class","btn m-0 p-0 bg-surface-500 w-fit fill-white"),r.disabled=l=!n[4],a.a=null,m(s,"class","btn m-0 p-0 bg-surface-500 w-fit fill-white"),d.a=null,m(f,"class","btn m-0 p-0 bg-surface-500 w-fit fill-white"),f.disabled=p=n[2]===void 0,v.a=null,m(_,"class","btn m-0 p-0 bg-surface-500 w-fit fill-warning-400"),m(e,"class","grid grid-rows-[auto_1fr] w-14 pt-1")},m(S,N){T(S,e,N),g(e,t),g(t,r),i.m(mr,r),g(t,o),g(t,s),a.m(ss,s),g(e,u),g(e,c),g(c,f),d.m(as,f),g(c,b),g(c,_),v.m(vl,_),E||(I=[ee(r,"click",n[8]),ee(s,"click",n[10]),ee(f,"click",n[11]),ee(_,"click",n[12])],E=!0)},p(S,N){N&16&&l!==(l=!S[4])&&(r.disabled=l),N&4&&p!==(p=S[2]===void 0)&&(f.disabled=p)},d(S){S&&h(e),E=!1,je(I)}}}function Yu(n){let e,t,r,i;return{c(){e=y("button"),t=new Ee(!1),this.h()},l(l){e=w(l,"BUTTON",{class:!0});var o=k(e);t=Oe(o,!1),o.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn m-0 p-0 bg-surface-500 w-fit fill-white")},m(l,o){T(l,e,o),t.m(as,e),r||(i=ee(e,"click",n[13]),r=!0)},p:$,d(l){l&&h(e),r=!1,i()}}}function p2(n){let e;function t(l,o){return l[0]===Ve.Owner?h2:l[0]===Ve.Viewer?d2:l[0]===Ve.Multi?f2:l[0]===Ve.other?c2:u2}let r=t(n),i=r(n);return{c(){i.c(),e=ae()},l(l){i.l(l),e=ae()},m(l,o){i.m(l,o),T(l,e,o)},p(l,[o]){r===(r=t(l))&&i?i.p(l,o):(i.d(1),i=r(l),i&&(i.c(),i.m(e.parentNode,e)))},i:$,o:$,d(l){l&&h(e),i.d(l)}}}const Xu=n=>n.index;function m2(n,e,t){let r,i;ce(n,to,D=>t(5,r=D)),ce(n,on,D=>t(17,i=D));let{menuMode:l}=e,{tagArray:o}=e,{note:s}=e,{myIndex:a}=e,{share:u=!0}=e;var c=(D=>(D[D.Default=0]="Default",D[D.Delete=1]="Delete",D[D.Move=2]="Move",D[D.Check=3]="Check",D))(c||{});const f=xi();function d(D){switch(D){case 1:f("DeleteNote",{number:a,event:s,tagArray:o});break;case 2:f("MoveNote",{number:a,event:s,tagArray:o});break;case 3:f("CheckNote",{number:a,event:s,tagArray:o});break}}const p={ref:os};function b(){const D=o?o[0]==="e"?[[...o,"","mention"]]:[o]:[],A={type:"component",component:p,backdropClasses:"!bg-surface-400/80 ",title:i("modal.postNote.title"),body:"",value:{content:`${o&&o[0]==="a"?`\r
nostr:${me.naddrEncode(es(o))}`:o&&o[0]==="e"?`\r
nostr:${me.noteEncode(o[1])}`:""}`,tags:D,tagArray:o,pubkey:s==null?void 0:s.pubkey}};Re.trigger(A)}function _(D,A,P){r.map(L=>L.index).includes(D)?r.splice(r.map(L=>L.index).indexOf(D),1):A!==void 0?r.push({index:D,event:A,tagArray:P}):r.push({index:D,event:{},tagArray:P})}const v=()=>d(c.Move),E=()=>{o&&s&&Eo(s.id)},I=()=>{d(c.Delete)},S=()=>{o&&s&&Eo(s.id)},N=()=>{a!==void 0&&o!==void 0&&(_(a,s,o),d(c.Check))},C=()=>d(c.Move),O=()=>{d(c.Delete)};return n.$$set=D=>{"menuMode"in D&&t(0,l=D.menuMode),"tagArray"in D&&t(1,o=D.tagArray),"note"in D&&t(2,s=D.note),"myIndex"in D&&t(3,a=D.myIndex),"share"in D&&t(4,u=D.share)},[l,o,s,a,u,r,c,d,b,_,v,E,I,S,N,C,O]}class tt extends De{constructor(e){super(),Te(this,e,m2,p2,Ce,{menuMode:0,tagArray:1,note:2,myIndex:3,share:4})}}function xu(n,e,t){const r=n.slice();return r[19]=e[t],r}function g2(n){let e=me.npubEncode(n[1].pubkey).slice(5,10)+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&2&&e!==(e=me.npubEncode(r[1].pubkey).slice(5,10)+"")&&W(t,e)},d(r){r&&h(t)}}}function _2(n){let e=n[5].name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&32&&e!==(e=r[5].name+"")&&W(t,e)},d(r){r&&h(t)}}}function b2(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","max-w-12 max-h-12 object-contain justify-center"),Ne(e.src,t=n[5].picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){T(r,e,i)},p(r,i){i&32&&!Ne(e.src,t=r[5].picture)&&m(e,"src",t)},d(r){r&&h(e)}}}function v2(n){let e,t,r=me.npubEncode(n[1].pubkey).slice(0,12)+"",i,l,o=me.npubEncode(n[1].pubkey).slice(-4)+"",s,a,u,c,f,d,p=new Date(n[1].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",b,_,v;return{c(){e=y("button"),t=y("u"),i=B(r),l=B(":"),s=B(o),a=F(),u=y("div"),c=F(),f=y("div"),d=y("button"),b=B(p),this.h()},l(E){e=w(E,"BUTTON",{class:!0});var I=k(e);t=w(I,"U",{});var S=k(t);i=M(S,r),l=M(S,":"),s=M(S,o),S.forEach(h),I.forEach(h),a=j(E),u=w(E,"DIV",{}),k(u).forEach(h),c=j(E),f=w(E,"DIV",{class:!0});var N=k(f);d=w(N,"BUTTON",{class:!0});var C=k(d);b=M(C,p),C.forEach(h),N.forEach(h),this.h()},h(){m(e,"class","w-fit text-secondary-600 dark:text-blue-500"),m(d,"class","text-sm underline decoration-secondary-500"),m(f,"class","min-w-max")},m(E,I){T(E,e,I),g(e,t),g(t,i),g(t,l),g(t,s),T(E,a,I),T(E,u,I),T(E,c,I),T(E,f,I),g(f,d),g(d,b),_||(v=[ee(e,"click",n[12]),ee(d,"click",n[13])],_=!0)},p(E,I){I&2&&r!==(r=me.npubEncode(E[1].pubkey).slice(0,12)+"")&&W(i,r),I&2&&o!==(o=me.npubEncode(E[1].pubkey).slice(-4)+"")&&W(s,o),I&2&&p!==(p=new Date(E[1].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(b,p)},d(E){E&&(h(e),h(a),h(u),h(c),h(f)),_=!1,je(v)}}}function y2(n){let e,t,r,i,l,o,s,a=new Date(n[1].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",u,c,f;function d(v,E){return v[5].name!==""?k2:w2}let p=d(n),b=p(n),_=n[5].display_name&&ec(n);return{c(){e=y("div"),t=y("button"),b.c(),r=F(),i=y("div"),_&&_.c(),l=F(),o=y("div"),s=y("button"),u=B(a),this.h()},l(v){e=w(v,"DIV",{class:!0});var E=k(e);t=w(E,"BUTTON",{class:!0});var I=k(t);b.l(I),I.forEach(h),E.forEach(h),r=j(v),i=w(v,"DIV",{class:!0});var S=k(i);_&&_.l(S),S.forEach(h),l=j(v),o=w(v,"DIV",{class:!0});var N=k(o);s=w(N,"BUTTON",{class:!0});var C=k(s);u=M(C,a),C.forEach(h),N.forEach(h),this.h()},h(){m(t,"class","text-secondary-600 dark:text-secondary-400 font-semibold"),m(e,"class","truncate wid justify-items-end"),m(i,"class","text-left self-end text-sm h-fix wi truncate justify-items-end"),m(s,"class","text-sm underline decoration-secondary-500"),m(o,"class","min-w-max")},m(v,E){T(v,e,E),g(e,t),b.m(t,null),T(v,r,E),T(v,i,E),_&&_.m(i,null),T(v,l,E),T(v,o,E),g(o,s),g(s,u),c||(f=[ee(t,"click",n[10]),ee(s,"click",n[11])],c=!0)},p(v,E){p===(p=d(v))&&b?b.p(v,E):(b.d(1),b=p(v),b&&(b.c(),b.m(t,null))),v[5].display_name?_?_.p(v,E):(_=ec(v),_.c(),_.m(i,null)):_&&(_.d(1),_=null),E&2&&a!==(a=new Date(v[1].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(u,a)},d(v){v&&(h(e),h(r),h(i),h(l),h(o)),b.d(),_&&_.d(),c=!1,je(f)}}}function w2(n){let e=me.npubEncode(n[1].pubkey).slice(0,12)+"",t,r,i=me.npubEncode(n[1].pubkey).slice(-4)+"",l;return{c(){t=B(e),r=B(":"),l=B(i)},l(o){t=M(o,e),r=M(o,":"),l=M(o,i)},m(o,s){T(o,t,s),T(o,r,s),T(o,l,s)},p(o,s){s&2&&e!==(e=me.npubEncode(o[1].pubkey).slice(0,12)+"")&&W(t,e),s&2&&i!==(i=me.npubEncode(o[1].pubkey).slice(-4)+"")&&W(l,i)},d(o){o&&(h(t),h(r),h(l))}}}function k2(n){let e=n[5].name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&32&&e!==(e=r[5].name+"")&&W(t,e)},d(r){r&&h(t)}}}function ec(n){let e=n[5].display_name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&32&&e!==(e=r[5].display_name+"")&&W(t,e)},d(r){r&&h(t)}}}function E2(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function O2(n){let e,t,r,i,l,o=n[17].length>0&&tc(n);const s=[N2,S2,I2],a=[];function u(c,f){return c[1].kind===31990?0:c[1].kind===40||c[1].kind===41?1:2}return r=u(n),i=a[r]=s[r](n),{c(){o&&o.c(),e=F(),t=y("div"),i.c(),this.h()},l(c){o&&o.l(c),e=j(c),t=w(c,"DIV",{class:!0});var f=k(t);i.l(f),f.forEach(h),this.h()},h(){m(t,"class","break-all box-border overflow-x-auto")},m(c,f){o&&o.m(c,f),T(c,e,f),T(c,t,f),a[r].m(t,null),l=!0},p(c,f){c[17].length>0?o?(o.p(c,f),f&2&&R(o,1)):(o=tc(c),o.c(),R(o,1),o.m(e.parentNode,e)):o&&(ye(),U(o,1,1,()=>{o=null}),we());let d=r;r=u(c),r===d?a[r].p(c,f):(ye(),U(a[d],1,1,()=>{a[d]=null}),we(),i=a[r],i?i.p(c,f):(i=a[r]=s[r](c),i.c()),R(i,1),i.m(t,null))},i(c){l||(R(o),R(i),l=!0)},o(c){U(o),U(i),l=!1},d(c){c&&(h(e),h(t)),o&&o.d(c),a[r].d()}}}function tc(n){let e,t,r=Be(n[17]),i=[];for(let o=0;o<r.length;o+=1)i[o]=nc(xu(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){e=y("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(h),this.h()},h(){m(e,"class","max-h-[4em] overflow-y-auto whitespace-nowrap border-s-4 border-s-surface-500/25 dark:border-s-surface-500/50 box-border h-fit")},m(o,s){T(o,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(o,s){if(s&770){r=Be(o[17]);let a;for(a=0;a<r.length;a+=1){const u=xu(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=nc(u),i[a].c(),R(i[a],1),i[a].m(e,null))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function nc(n){let e,t;return e=new bl({props:{tag:n[19],handleClickDate:n[9],handleClickPubkey:n[8]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.tag=r[19]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function I2(n){let e,t;return e=new cn({props:{text:n[1].content,tag:n[1].tags,id:n[1].id,view:n[7],isPageOwner:n[0],pubkey:n[4]}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.text=r[1].content),i&2&&(l.tag=r[1].tags),i&2&&(l.id=r[1].id),i&128&&(l.view=r[7]),i&1&&(l.isPageOwner=r[0]),i&16&&(l.pubkey=r[4]),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function S2(n){let e,t;return e=new un({props:{event:n[1],text:n[1].content,id:n[1].id}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.event=r[1]),i&2&&(l.text=r[1].content),i&2&&(l.id=r[1].id),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function N2(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:T2,then:D2,catch:C2,value:18,blocks:[,,,]};return rt(t=ic(n[1].content),i),{c(){e=ae(),i.block.c()},l(l){e=ae(),i.block.l(l)},m(l,o){T(l,e,o),i.block.m(l,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(l,o){n=l,i.ctx=n,o&2&&t!==(t=ic(n[1].content))&&rt(t,i)||Yt(i,n,o)},i(l){r||(R(i.block),r=!0)},o(l){for(let o=0;o<3;o+=1){const s=i.blocks[o];U(s)}r=!1},d(l){l&&h(e),i.block.d(l),i.token=null,i=null}}}function C2(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function D2(n){let e,t,r=n[18]!==""&&rc(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,l){i[18]!==""?r?(r.p(i,l),l&2&&R(r,1)):(r=rc(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}function rc(n){let e,t;return e=new Ht({props:{ogp:{title:n[18].name,image:n[18].banner,description:n[18].about,favicon:n[18].picture},url:n[18].website}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i&2&&(l.ogp={title:r[18].name,image:r[18].banner,description:r[18].about,favicon:r[18].picture}),i&2&&(l.url=r[18].website),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function T2(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function A2(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function P2(n){let e,t,r,i,l,o,s,a;function u(v,E){return v[5]&&v[6]&&v[5].picture?b2:v[5]&&v[5].name?_2:g2}let c=u(n),f=c(n);function d(v,E){return v[5]?y2:v2}let p=d(n),b=p(n),_={ctx:n,current:null,token:null,hasCatch:!1,pending:A2,then:O2,catch:E2,value:17,blocks:[,,,]};return rt(s=Ir(n[1].tags),_),{c(){e=y("div"),t=y("div"),f.c(),r=F(),i=y("div"),l=y("div"),b.c(),o=F(),_.block.c(),this.h()},l(v){e=w(v,"DIV",{class:!0});var E=k(e);t=w(E,"DIV",{class:!0});var I=k(t);f.l(I),I.forEach(h),r=j(E),i=w(E,"DIV",{class:!0});var S=k(i);l=w(S,"DIV",{class:!0});var N=k(l);b.l(N),N.forEach(h),o=j(S),_.block.l(S),S.forEach(h),E.forEach(h),this.h()},h(){m(t,"class","w-12 h-12 rounded-full flex justify-center overflow-hidden variant-filled-surface mt-1 items-center truncate"),m(l,"class","w-full grid grid-cols-[auto_1fr_auto] gap-1 h-fix overflow-x-hidden"),m(i,"class","grid grid-rows-[auto_1fr] gap-0.5 w-full"),m(e,"class","pl-1 grid grid-cols-[auto_1fr] gap-1.5")},m(v,E){T(v,e,E),g(e,t),f.m(t,null),g(e,r),g(e,i),g(i,l),b.m(l,null),g(i,o),_.block.m(i,_.anchor=null),_.mount=()=>i,_.anchor=null,a=!0},p(v,[E]){n=v,c===(c=u(n))&&f?f.p(n,E):(f.d(1),f=c(n),f&&(f.c(),f.m(t,null))),p===(p=d(n))&&b?b.p(n,E):(b.d(1),b=p(n),b&&(b.c(),b.m(l,null))),_.ctx=n,E&2&&s!==(s=Ir(n[1].tags))&&rt(s,_)||Yt(_,n,E)},i(v){a||(R(_.block),a=!0)},o(v){for(let E=0;E<3;E+=1){const I=_.blocks[E];U(I)}a=!1},d(v){v&&h(e),f.d(),b.d(),_.block.d(),_.token=null,_=null}}}function ic(n){try{return JSON.parse(n)}catch{return""}}function R2(n,e,t){let r,i;ce(n,Pt,N=>t(6,r=N)),ce(n,_r,N=>t(7,i=N));let{isPageOwner:l}=e,{note:o}=e,{metadata:s}=e,{tagArray:a}=e,{pubkey:u}=e,c;const f=Ro(),d={ref:Xr},p=N=>{const C={type:"component",backdropClasses:"!bg-surface-400/80",meta:{metadata:N},component:d,response:O=>{}};f.trigger(C)},b={ref:Dr},_=(N,C)=>{const O={type:"component",title:"Event Json",backdropClasses:"!bg-surface-400/80",meta:{note:N,tagArray:C},component:b};f.trigger(O)},v=()=>{p(s!==void 0?s:{pubkey:o.pubkey})},E=()=>{a&&_(o,a)},I=()=>{p({pubkey:o.pubkey})},S=()=>{a&&_(o,a)};return n.$$set=N=>{"isPageOwner"in N&&t(0,l=N.isPageOwner),"note"in N&&t(1,o=N.note),"metadata"in N&&t(2,s=N.metadata),"tagArray"in N&&t(3,a=N.tagArray),"pubkey"in N&&t(4,u=N.pubkey)},n.$$.update=()=>{if(n.$$.dirty&4&&s)try{t(5,c=JSON.parse(s.content))}catch{console.log("profile Json parse error")}},[l,o,s,a,u,c,r,i,p,_,v,E,I,S]}class Kn extends De{constructor(e){super(),Te(this,e,R2,P2,Ce,{isPageOwner:0,note:1,metadata:2,tagArray:3,pubkey:4})}}const Pn=rn(0),mn=rn(0),Kd=rn(50);function V2(n){return{c:$,l:$,m:$,p:$,d:$}}function B2(n){let e,t=n[11]!==void 0&&lc(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,i){r[11]!==void 0?t?t.p(r,i):(t=lc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&h(e),t&&t.d(r)}}}function lc(n){let e,t,r,i,l,o,s,a,u,c,f,d,p=new Date(n[0].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",b,_,v,E,I=n[11].about+"",S,N,C,O;function D(q,Z){return q[2]&&q[11].picture?L2:M2}let A=D(n),P=A(n);function L(q,Z){return q[11].name!==""?U2:q2}let H=L(n),z=H(n),V=n[11].display_name&&oc(n),x=n[11].nip05&&sc(n),J=n[11].website&&uc(n);return{c(){e=y("div"),t=y("div"),P.c(),r=F(),i=y("div"),l=y("div"),o=y("div"),s=y("button"),z.c(),a=F(),u=y("div"),V&&V.c(),c=F(),f=y("div"),d=y("button"),b=B(p),_=F(),x&&x.c(),v=F(),E=y("div"),S=B(I),N=F(),J&&J.c(),this.h()},l(q){e=w(q,"DIV",{class:!0});var Z=k(e);t=w(Z,"DIV",{class:!0});var oe=k(t);P.l(oe),oe.forEach(h),r=j(Z),i=w(Z,"DIV",{class:!0});var Y=k(i);l=w(Y,"DIV",{class:!0});var Q=k(l);o=w(Q,"DIV",{class:!0});var G=k(o);s=w(G,"BUTTON",{class:!0});var fe=k(s);z.l(fe),fe.forEach(h),G.forEach(h),a=j(Q),u=w(Q,"DIV",{class:!0});var ue=k(u);V&&V.l(ue),ue.forEach(h),c=j(Q),f=w(Q,"DIV",{class:!0});var X=k(f);d=w(X,"BUTTON",{class:!0});var K=k(d);b=M(K,p),K.forEach(h),X.forEach(h),Q.forEach(h),_=j(Y),x&&x.l(Y),v=j(Y),E=w(Y,"DIV",{class:!0});var se=k(E);S=M(se,I),se.forEach(h),N=j(Y),J&&J.l(Y),Y.forEach(h),Z.forEach(h),this.h()},h(){m(t,"class","w-12 h-12 rounded-full flex justify-center overflow-hidden variant-filled-surface mt-1 items-center truncate"),m(s,"class","text-secondary-600 dark:text-secondary-400 font-semibold"),m(o,"class","truncate wid justify-items-end"),m(u,"class","text-left self-end text-sm h-fix wi truncate justify-items-end"),m(d,"class","text-sm underline decoration-secondary-500"),m(f,"class","min-w-max"),m(l,"class","w-full grid grid-cols-[auto_1fr_auto] gap-1 h-fix overflow-x-hidden"),m(E,"class","py-2 break-all box-border whitespace-break-spaces"),m(i,"class","grid grid-rows-[auto_1fr] w-full"),m(e,"class","pl-1 grid grid-cols-[auto_1fr] gap-1.5")},m(q,Z){T(q,e,Z),g(e,t),P.m(t,null),g(e,r),g(e,i),g(i,l),g(l,o),g(o,s),z.m(s,null),g(l,a),g(l,u),V&&V.m(u,null),g(l,c),g(l,f),g(f,d),g(d,b),g(i,_),x&&x.m(i,null),g(i,v),g(i,E),g(E,S),g(i,N),J&&J.m(i,null),C||(O=[ee(s,"click",n[5]),ee(d,"click",n[6])],C=!0)},p(q,Z){A===(A=D(q))&&P?P.p(q,Z):(P.d(1),P=A(q),P&&(P.c(),P.m(t,null))),H===(H=L(q))&&z?z.p(q,Z):(z.d(1),z=H(q),z&&(z.c(),z.m(s,null))),q[11].display_name?V?V.p(q,Z):(V=oc(q),V.c(),V.m(u,null)):V&&(V.d(1),V=null),Z&1&&p!==(p=new Date(q[0].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(b,p),q[11].nip05?x?x.p(q,Z):(x=sc(q),x.c(),x.m(i,v)):x&&(x.d(1),x=null),Z&1&&I!==(I=q[11].about+"")&&W(S,I),q[11].website?J?J.p(q,Z):(J=uc(q),J.c(),J.m(i,null)):J&&(J.d(1),J=null)},d(q){q&&h(e),P.d(),z.d(),V&&V.d(),x&&x.d(),J&&J.d(),C=!1,je(O)}}}function M2(n){let e=n[11].name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&1&&e!==(e=r[11].name+"")&&W(t,e)},d(r){r&&h(t)}}}function L2(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","max-w-12 max-h-12 object-contain justify-center"),Ne(e.src,t=n[11].picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){T(r,e,i)},p(r,i){i&1&&!Ne(e.src,t=r[11].picture)&&m(e,"src",t)},d(r){r&&h(e)}}}function q2(n){let e=me.npubEncode(n[0].pubkey).slice(0,12)+"",t,r,i=me.npubEncode(n[0].pubkey).slice(-4)+"",l;return{c(){t=B(e),r=B(":"),l=B(i)},l(o){t=M(o,e),r=M(o,":"),l=M(o,i)},m(o,s){T(o,t,s),T(o,r,s),T(o,l,s)},p(o,s){s&1&&e!==(e=me.npubEncode(o[0].pubkey).slice(0,12)+"")&&W(t,e),s&1&&i!==(i=me.npubEncode(o[0].pubkey).slice(-4)+"")&&W(l,i)},d(o){o&&(h(t),h(r),h(l))}}}function U2(n){let e=n[11].name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&1&&e!==(e=r[11].name+"")&&W(t,e)},d(r){r&&h(t)}}}function oc(n){let e=n[11].display_name+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&1&&e!==(e=r[11].display_name+"")&&W(t,e)},d(r){r&&h(t)}}}function sc(n){let e,t,r={ctx:n,current:null,token:null,hasCatch:!1,pending:j2,then:F2,catch:z2,value:12};return rt(t=Ls.queryProfile(n[11].nip05),r),{c(){e=y("div"),r.block.c(),this.h()},l(i){e=w(i,"DIV",{class:!0});var l=k(e);r.block.l(l),l.forEach(h),this.h()},h(){m(e,"class","text-sm")},m(i,l){T(i,e,l),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null},p(i,l){n=i,r.ctx=n,l&1&&t!==(t=Ls.queryProfile(n[11].nip05))&&rt(t,r)||Yt(r,n,l)},d(i){i&&h(e),r.block.d(),r.token=null,r=null}}}function z2(n){return{c:$,l:$,m:$,p:$,d:$}}function F2(n){let e,t=n[12]!==null&&ac(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,i){r[12]!==null?t?t.p(r,i):(t=ac(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){r&&h(e),t&&t.d(r)}}}function ac(n){let e=n[11].nip05+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&1&&e!==(e=r[11].nip05+"")&&W(t,e)},d(r){r&&h(t)}}}function j2(n){return{c:$,l:$,m:$,p:$,d:$}}function uc(n){let e,t=n[11].website+"",r,i;return{c(){e=y("a"),r=B(t),this.h()},l(l){e=w(l,"A",{class:!0,href:!0,rel:!0,target:!0});var o=k(e);r=M(o,t),o.forEach(h),this.h()},h(){m(e,"class","anchor mb-0.5"),m(e,"href",i=n[11].website),m(e,"rel","external noreferrer"),m(e,"target","_blank")},m(l,o){T(l,e,o),g(e,r)},p(l,o){o&1&&t!==(t=l[11].website+"")&&W(r,t),o&1&&i!==(i=l[11].website)&&m(e,"href",i)},d(l){l&&h(e)}}}function J2(n){return{c:$,l:$,m:$,p:$,d:$}}function H2(n){let e,t,r={ctx:n,current:null,token:null,hasCatch:!1,pending:J2,then:B2,catch:V2,value:11};return rt(t=cc(n[0].content),r),{c(){e=ae(),r.block.c()},l(i){e=ae(),r.block.l(i)},m(i,l){T(i,e,l),r.block.m(i,r.anchor=l),r.mount=()=>e.parentNode,r.anchor=e},p(i,[l]){n=i,r.ctx=n,l&1&&t!==(t=cc(n[0].content))&&rt(t,r)||Yt(r,n,l)},i:$,o:$,d(i){i&&h(e),r.block.d(i),r.token=null,r=null}}}async function cc(n){try{return JSON.parse(n)}catch{console.log("profile Json parse error");return}}function $2(n,e,t){let r,i;ce(n,tr,b=>t(7,r=b)),ce(n,Pt,b=>t(2,i=b));let{metadata:l}=e,{tagArray:o}=e;const s=Ro(),a={ref:Xr},u=b=>{const _={type:"component",backdropClasses:"!bg-surface-400/80",meta:{metadata:b},component:a,response:v=>{v&&v.openList&&(Pe(tr,r=0,r),br(`${window.location.origin}/${me.npubEncode(b.pubkey)}`))}};s.trigger(_)},c={ref:Dr},f=(b,_)=>{const v={type:"component",title:"Event Json",backdropClasses:"!bg-surface-400/80",meta:{note:b,tagArray:_},component:c};s.trigger(v)},d=()=>{u(l)},p=()=>{o&&f(l,o)};return n.$$set=b=>{"metadata"in b&&t(0,l=b.metadata),"tagArray"in b&&t(1,o=b.tagArray)},[l,o,i,u,f,d,p]}class K2 extends De{constructor(e){super(),Te(this,e,$2,H2,Ce,{metadata:0,tagArray:1})}}function Q2(n){let e,t,r;return{c(){e=y("img"),this.h()},l(i){e=w(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","max-w-16 max-h-16 object-contain justify-center"),Ne(e.src,t=n[0][2])||m(e,"src",t),m(e,"alt",r=n[0][1])},m(i,l){T(i,e,l)},p(i,l){l&1&&!Ne(e.src,t=i[0][2])&&m(e,"src",t),l&1&&r!==(r=i[0][1])&&m(e,"alt",r)},d(i){i&&h(e)}}}function W2(n){let e,t,r,i,l,o=n[0][1]+"",s,a,u,c=n[0][2]+"",f,d,p=Pt&&Q2(n);return{c(){e=y("div"),t=y("div"),p&&p.c(),r=F(),i=y("div"),l=y("div"),s=B(o),a=F(),u=y("a"),f=B(c),this.h()},l(b){e=w(b,"DIV",{class:!0});var _=k(e);t=w(_,"DIV",{class:!0});var v=k(t);p&&p.l(v),v.forEach(h),r=j(_),i=w(_,"DIV",{class:!0});var E=k(i);l=w(E,"DIV",{class:!0});var I=k(l);s=M(I,o),I.forEach(h),a=j(E),u=w(E,"A",{rel:!0,target:!0,href:!0,class:!0});var S=k(u);f=M(S,c),S.forEach(h),E.forEach(h),_.forEach(h),this.h()},h(){m(t,"class","m-2"),m(l,"class","h5"),m(u,"rel","external noreferrer"),m(u,"target","_blank"),m(u,"href",d=n[0][2]),m(u,"class","anchor break-all"),m(i,"class","grid grid-rows-[auto_1fr]"),m(e,"class","grid grid-cols-[auto_1fr] gap-1")},m(b,_){T(b,e,_),g(e,t),p&&p.m(t,null),g(e,r),g(e,i),g(i,l),g(l,s),g(i,a),g(i,u),g(u,f)},p(b,[_]){Pt&&p.p(b,_),_&1&&o!==(o=b[0][1]+"")&&W(s,o),_&1&&c!==(c=b[0][2]+"")&&W(f,c),_&1&&d!==(d=b[0][2])&&m(u,"href",d)},i:$,o:$,d(b){b&&h(e),p&&p.d()}}}function G2(n,e,t){let{tagArray:r}=e;return n.$$set=i=>{"tagArray"in i&&t(0,r=i.tagArray)},[r]}class Z2 extends De{constructor(e){super(),Te(this,e,G2,W2,Ce,{tagArray:0})}}function fc(n,e,t){const r=n.slice();return r[10]=e[t],r}function Y2(n){return{c:$,l:$,m:$,p:$,d:$}}function X2(n){let e;function t(l,o){return l[2]?x2:ey}let r=t(n),i=r(n);return{c(){i.c(),e=ae()},l(l){i.l(l),e=ae()},m(l,o){i.m(l,o),T(l,e,o)},p(l,o){r===(r=t(l))&&i?i.p(l,o):(i.d(1),i=r(l),i&&(i.c(),i.m(e.parentNode,e)))},d(l){l&&h(e),i.d(l)}}}function x2(n){var oe,Y;let e,t,r,i,l,o,s,a=n[2].name+"",u,c,f,d,p,b=n[0][1]+"",_,v,E,I,S=n[2].description+"",N,C,O,D,A,P;function L(Q,G){return Q[4]&&Q[2].icon?ry:Q[4]&&Q[1]?ny:ty}let H=L(n),z=H(n),V=n[0][0]==="r"&&dc(n),x=Be(n[2].supported_nips),J=[];for(let Q=0;Q<x.length;Q+=1)J[Q]=hc(fc(n,x,Q));let q=((oe=n[2].limitation)==null?void 0:oe.max_content_length)&&pc(n),Z=((Y=n[2].limitation)==null?void 0:Y.max_event_tags)&&mc(n);return{c(){e=y("div"),t=y("div"),z.c(),r=F(),i=y("div"),l=y("div"),o=y("div"),s=y("div"),u=B(a),c=F(),V&&V.c(),f=F(),d=y("div"),p=y("a"),_=B(b),v=F(),E=y("div"),I=y("div"),N=B(S),C=F(),O=y("div"),D=B(`NIPs:
						`);for(let Q=0;Q<J.length;Q+=1)J[Q].c();A=F(),q&&q.c(),P=F(),Z&&Z.c(),this.h()},l(Q){e=w(Q,"DIV",{class:!0});var G=k(e);t=w(G,"DIV",{class:!0});var fe=k(t);z.l(fe),fe.forEach(h),r=j(G),i=w(G,"DIV",{class:!0});var ue=k(i);l=w(ue,"DIV",{});var X=k(l);o=w(X,"DIV",{class:!0});var K=k(o);s=w(K,"DIV",{class:!0});var se=k(s);u=M(se,a),se.forEach(h),c=j(K),V&&V.l(K),K.forEach(h),f=j(X),d=w(X,"DIV",{class:!0});var te=k(d);p=w(te,"A",{class:!0,href:!0,rel:!0,target:!0});var be=k(p);_=M(be,b),be.forEach(h),te.forEach(h),X.forEach(h),v=j(ue),E=w(ue,"DIV",{class:!0});var he=k(E);I=w(he,"DIV",{});var de=k(I);N=M(de,S),de.forEach(h),C=j(he),O=w(he,"DIV",{class:!0});var _e=k(O);D=M(_e,`NIPs:
						`);for(let ge=0;ge<J.length;ge+=1)J[ge].l(_e);_e.forEach(h),A=j(he),q&&q.l(he),P=j(he),Z&&Z.l(he),he.forEach(h),ue.forEach(h),G.forEach(h),this.h()},h(){m(t,"class","w-12 h-12 rounded-full variant-filled-surface text-center flex items-center justify-center text-lg"),m(s,"class","h5"),m(o,"class","flex items-center gap-1"),m(p,"class","anchor"),m(p,"href",n[3]),m(p,"rel","external noreferrer"),m(p,"target","_blank"),m(d,"class","flex w-fit"),m(O,"class","w-full"),m(E,"class",""),m(i,"class","grid grid-rows-[auto_auto] gap-1"),m(e,"class","pl-1 grid grid-cols-[auto_1fr] gap-1.5")},m(Q,G){T(Q,e,G),g(e,t),z.m(t,null),g(e,r),g(e,i),g(i,l),g(l,o),g(o,s),g(s,u),g(o,c),V&&V.m(o,null),g(l,f),g(l,d),g(d,p),g(p,_),g(i,v),g(i,E),g(E,I),g(I,N),g(E,C),g(E,O),g(O,D);for(let fe=0;fe<J.length;fe+=1)J[fe]&&J[fe].m(O,null);g(E,A),q&&q.m(E,null),g(E,P),Z&&Z.m(E,null)},p(Q,G){var fe,ue;if(H===(H=L(Q))&&z?z.p(Q,G):(z.d(1),z=H(Q),z&&(z.c(),z.m(t,null))),G&4&&a!==(a=Q[2].name+"")&&W(u,a),Q[0][0]==="r"?V?V.p(Q,G):(V=dc(Q),V.c(),V.m(o,null)):V&&(V.d(1),V=null),G&1&&b!==(b=Q[0][1]+"")&&W(_,b),G&8&&m(p,"href",Q[3]),G&4&&S!==(S=Q[2].description+"")&&W(N,S),G&4){x=Be(Q[2].supported_nips);let X;for(X=0;X<x.length;X+=1){const K=fc(Q,x,X);J[X]?J[X].p(K,G):(J[X]=hc(K),J[X].c(),J[X].m(O,null))}for(;X<J.length;X+=1)J[X].d(1);J.length=x.length}(fe=Q[2].limitation)!=null&&fe.max_content_length?q?q.p(Q,G):(q=pc(Q),q.c(),q.m(E,P)):q&&(q.d(1),q=null),(ue=Q[2].limitation)!=null&&ue.max_event_tags?Z?Z.p(Q,G):(Z=mc(Q),Z.c(),Z.m(E,null)):Z&&(Z.d(1),Z=null)},d(Q){Q&&h(e),z.d(),V&&V.d(),St(J,Q),q&&q.d(),Z&&Z.d()}}}function ey(n){let e=JSON.stringify(n[0])+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&1&&e!==(e=JSON.stringify(r[0])+"")&&W(t,e)},d(r){r&&h(t)}}}function ty(n){let e=n[2].name[0]+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&4&&e!==(e=r[2].name[0]+"")&&W(t,e)},d(r){r&&h(t)}}}function ny(n){let e,t,r,i;return{c(){e=y("img"),this.h()},l(l){e=w(l,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){Ne(e.src,t=n[3]+"favicon.ico")||m(e,"src",t),m(e,"class","w-12 h-12 rounded-full"),m(e,"alt","relay favicon")},m(l,o){T(l,e,o),r||(i=ee(e,"error",n[7]),r=!0)},p(l,o){o&8&&!Ne(e.src,t=l[3]+"favicon.ico")&&m(e,"src",t)},d(l){l&&h(e),r=!1,i()}}}function ry(n){let e,t;return{c(){e=y("img"),this.h()},l(r){e=w(r,"IMG",{src:!0,class:!0,alt:!0}),this.h()},h(){Ne(e.src,t=n[2].icon)||m(e,"src",t),m(e,"class","w-12 h-12 rounded-full"),m(e,"alt","relay Icon")},m(r,i){T(r,e,i)},p(r,i){i&4&&!Ne(e.src,t=r[2].icon)&&m(e,"src",t)},d(r){r&&h(e)}}}function dc(n){let e;function t(l,o){return l[0].length<=2?oy:l[0][2]==="read"?ly:iy}let r=t(n),i=r(n);return{c(){e=y("div"),i.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);i.l(o),o.forEach(h),this.h()},h(){m(e,"class","h-fit border border-primary-400 break-keep text-xs font-bold w-8 text-center")},m(l,o){T(l,e,o),i.m(e,null)},p(l,o){r!==(r=t(l))&&(i.d(1),i=r(l),i&&(i.c(),i.m(e,null)))},d(l){l&&h(e),i.d()}}}function iy(n){let e;return{c(){e=B("W")},l(t){e=M(t,"W")},m(t,r){T(t,e,r)},d(t){t&&h(e)}}}function ly(n){let e;return{c(){e=B("R")},l(t){e=M(t,"R")},m(t,r){T(t,e,r)},d(t){t&&h(e)}}}function oy(n){let e;return{c(){e=B("R/W")},l(t){e=M(t,"R/W")},m(t,r){T(t,e,r)},d(t){t&&h(e)}}}function hc(n){let e,t=n[10]+"",r,i;return{c(){e=y("a"),r=B(t),this.h()},l(l){e=w(l,"A",{class:!0,rel:!0,target:!0,href:!0});var o=k(e);r=M(o,t),o.forEach(h),this.h()},h(){m(e,"class","px-1 whitespace-nowrap"),m(e,"rel","external noreferrer"),m(e,"target","_blank"),m(e,"href",i="https://github.com/nostr-protocol/nips/blob/master/"+n[10].toString().padStart(2,"0")+".md")},m(l,o){T(l,e,o),g(e,r)},p(l,o){o&4&&t!==(t=l[10]+"")&&W(r,t),o&4&&i!==(i="https://github.com/nostr-protocol/nips/blob/master/"+l[10].toString().padStart(2,"0")+".md")&&m(e,"href",i)},d(l){l&&h(e)}}}function pc(n){let e,t,r,i=new Intl.NumberFormat().format(n[2].limitation.max_content_length)+"",l;return{c(){e=y("div"),t=B("Max content length: "),r=y("span"),l=B(i),this.h()},l(o){e=w(o,"DIV",{});var s=k(e);t=M(s,"Max content length: "),r=w(s,"SPAN",{class:!0});var a=k(r);l=M(a,i),a.forEach(h),s.forEach(h),this.h()},h(){m(r,"class","break-keep")},m(o,s){T(o,e,s),g(e,t),g(e,r),g(r,l)},p(o,s){s&4&&i!==(i=new Intl.NumberFormat().format(o[2].limitation.max_content_length)+"")&&W(l,i)},d(o){o&&h(e)}}}function mc(n){let e,t,r,i=new Intl.NumberFormat().format(n[2].limitation.max_event_tags)+"",l;return{c(){e=y("div"),t=B("Max event tags: "),r=y("span"),l=B(i),this.h()},l(o){e=w(o,"DIV",{});var s=k(e);t=M(s,"Max event tags: "),r=w(s,"SPAN",{class:!0});var a=k(r);l=M(a,i),a.forEach(h),s.forEach(h),this.h()},h(){m(r,"class","break-keep")},m(o,s){T(o,e,s),g(e,t),g(e,r),g(r,l)},p(o,s){s&4&&i!==(i=new Intl.NumberFormat().format(o[2].limitation.max_event_tags)+"")&&W(l,i)},d(o){o&&h(e)}}}function sy(n){return{c:$,l:$,m:$,p:$,d:$}}function ay(n){let e,t={ctx:n,current:null,token:null,hasCatch:!1,pending:sy,then:X2,catch:Y2,value:9};return rt(n[5](),t),{c(){e=ae(),t.block.c()},l(r){e=ae(),t.block.l(r)},m(r,i){T(r,e,i),t.block.m(r,t.anchor=i),t.mount=()=>e.parentNode,t.anchor=e},p(r,[i]){n=r,Yt(t,n,i)},i:$,o:$,d(r){r&&h(e),t.block.d(r),t.token=null,t=null}}}function uy(n,e,t){let r,i,l,o;ce(n,Pd,d=>t(6,l=d)),ce(n,Pt,d=>t(4,o=d));let{tagArray:s}=e;const a=s[1].endsWith("/")?s[1]:s[1]+"/",u=async()=>l.has(a)?l.get(a):await Oo(s[1])?(t(2,r=l.get(a)),l.get(a)):void 0;let c=!0;const f=()=>t(1,c=!1);return n.$$set=d=>{"tagArray"in d&&t(0,s=d.tagArray)},n.$$.update=()=>{n.$$.dirty&64&&t(2,r=l.has(a)?l.get(a):void 0)},t(3,i=a.startsWith("wss://")?a.replace(/^wss:/,"https:"):a.replace(/^ws:/,"http:")),[s,c,r,i,o,u,l,f]}class cy extends De{constructor(e){super(),Te(this,e,uy,ay,Ce,{tagArray:0})}}function fy(n){let e,t,r=qs[n[0][0]]+"",i,l,o,s=n[0][1]+"",a;return{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("div"),a=B(s),this.h()},l(u){e=w(u,"DIV",{class:!0});var c=k(e);t=w(c,"DIV",{});var f=k(t);i=M(f,r),f.forEach(h),l=j(c),o=w(c,"DIV",{class:!0});var d=k(o);a=M(d,s),d.forEach(h),c.forEach(h),this.h()},h(){m(o,"class","pl-2"),m(e,"class","pl-1 grid grid-rows-[auto_1fr] gap-1.5")},m(u,c){T(u,e,c),g(e,t),g(t,i),g(e,l),g(e,o),g(o,a)},p(u,[c]){c&1&&r!==(r=qs[u[0][0]]+"")&&W(i,r),c&1&&s!==(s=u[0][1]+"")&&W(a,s)},i:$,o:$,d(u){u&&h(e)}}}function dy(n,e,t){let{tagArray:r}=e;return n.$$set=i=>{"tagArray"in i&&t(0,r=i.tagArray)},[r]}class hy extends De{constructor(e){super(),Te(this,e,dy,fy,Ce,{tagArray:0})}}function gc(n,e,t){const r=n.slice();return r[26]=e[t],r[28]=t,r}function _c(n){n[29]=n[32].id,n[30]=n[32].filter,n[31]=n[32].kind}function py(n){let e,t="【List's content】",r,i,l;return{c(){e=y("p"),e.textContent=t,r=F(),i=y("div"),l=B(n[6]),this.h()},l(o){e=w(o,"P",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-qirujr"&&(e.textContent=t),r=j(o),i=w(o,"DIV",{class:!0});var s=k(i);l=M(s,n[6]),s.forEach(h),this.h()},h(){m(e,"class","h5 font-bold"),m(i,"class","break-all whitespace-break-spaces")},m(o,s){T(o,e,s),T(o,r,s),T(o,i,s),g(i,l)},p(o,s){s[0]&64&&W(l,o[6])},i:$,o:$,d(o){o&&(h(e),h(r),h(i))}}}function my(n){let e,t,r=Be(n[9]),i=[];for(let o=0;o<r.length;o+=1)i[o]=kc(gc(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ae()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);e=ae()},m(o,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);T(o,e,s),t=!0},p(o,s){if(s[0]&4031|s[1]&28){r=Be(o[9]);let a;for(a=0;a<r.length;a+=1){const u=gc(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=kc(u),i[a].c(),R(i[a],1),i[a].m(e.parentNode,e))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function gy(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function _y(n){_c(n);let e,t,r,i;const l=[vy,by],o=[];function s(a,u){return a[26][0]==="d"||a[26][0]==="title"||a[26][0]==="image"||a[26][0]==="description"?0:1}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=F()},l(a){t.l(a),r=j(a)},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,u){_c(a);let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function by(n){let e,t,r,i,l;const o=[Sy,Iy,Oy,Ey,ky,wy,yy],s=[];function a(u,c){return c[0]&512&&(e=null),u[26][0]==="e"?0:u[26][0]==="a"?1:u[26][0]==="p"?2:u[26][0]==="emoji"?3:(e==null&&(e=!!(u[26][0]==="r"&&u[26][1].startsWith("ws")||u[26][0]==="relay")),e?4:u[26][0]==="r"||u[26][0]==="t"||u[26][0]==="word"?5:6)}return t=a(n,[-1,-1]),r=s[t]=o[t](n),{c(){r.c(),i=ae()},l(u){r.l(u),i=ae()},m(u,c){s[t].m(u,c),T(u,i,c),l=!0},p(u,c){let f=t;t=a(u,c),t===f?s[t].p(u,c):(ye(),U(s[f],1,1,()=>{s[f]=null}),we(),r=s[t],r?r.p(u,c):(r=s[t]=o[t](u),r.c()),R(r,1),r.m(i.parentNode,i))},i(u){l||(R(r),l=!0)},o(u){U(r),l=!1},d(u){u&&h(i),s[t].d(u)}}}function vy(n){return{c:$,l:$,m:$,p:$,i:$,o:$,d:$}}function yy(n){let e,t=JSON.stringify(n[26])+"",r,i,l,o,s,a=n[3]&&!n[5]&&bc(n);return o=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.none}}),o.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),o.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),o.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),r=B(t),i=F(),a&&a.c(),l=F(),ne(o.$$.fragment),this.h()},l(u){e=w(u,"DIV",{class:!0});var c=k(e);r=M(c,t),i=j(c),a&&a.l(c),l=j(c),re(o.$$.fragment,c),c.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto_auto] gap-1 break-all")},m(u,c){T(u,e,c),g(e,r),g(e,i),a&&a.m(e,null),g(e,l),ie(o,e,null),s=!0},p(u,c){n=u,(!s||c[0]&512)&&t!==(t=JSON.stringify(n[26])+"")&&W(r,t),n[3]&&!n[5]?a?a.p(n,c):(a=bc(n),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const f={};c[0]&512&&(f.tagArray=n[26]),c[0]&40&&(f.menuMode=n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.none),o.$set(f)},i(u){s||(R(o.$$.fragment,u),s=!0)},o(u){U(o.$$.fragment,u),s=!1},d(u){u&&h(e),a&&a.d(),le(o)}}}function wy(n){let e,t,r,i,l,o;t=new hy({props:{tagArray:n[26]}});let s=n[3]&&!n[5]&&vc(n);return l=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.none}}),l.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),l.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),l.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),s&&s.c(),i=F(),ne(l.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=k(e);re(t.$$.fragment,u),r=j(u),s&&s.l(u),i=j(u),re(l.$$.fragment,u),u.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto_auto] gap-1 break-all")},m(a,u){T(a,e,u),ie(t,e,null),g(e,r),s&&s.m(e,null),g(e,i),ie(l,e,null),o=!0},p(a,u){n=a;const c={};u[0]&512&&(c.tagArray=n[26]),t.$set(c),n[3]&&!n[5]?s?s.p(n,u):(s=vc(n),s.c(),s.m(e,i)):s&&(s.d(1),s=null);const f={};u[0]&512&&(f.tagArray=n[26]),u[0]&40&&(f.menuMode=n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.none),l.$set(f)},i(a){o||(R(t.$$.fragment,a),R(l.$$.fragment,a),o=!0)},o(a){U(t.$$.fragment,a),U(l.$$.fragment,a),o=!1},d(a){a&&h(e),le(t),s&&s.d(),le(l)}}}function ky(n){let e,t,r,i,l,o;t=new cy({props:{tagArray:n[26]}});let s=n[3]&&!n[5]&&yc(n);return l=new tt({props:{myIndex:n[28],tagArray:n[26],share:!1,note:void 0,menuMode:n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.none}}),l.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),l.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),l.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),s&&s.c(),i=F(),ne(l.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=k(e);re(t.$$.fragment,u),r=j(u),s&&s.l(u),i=j(u),re(l.$$.fragment,u),u.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto_auto] gap-1 break-all")},m(a,u){T(a,e,u),ie(t,e,null),g(e,r),s&&s.m(e,null),g(e,i),ie(l,e,null),o=!0},p(a,u){n=a;const c={};u[0]&512&&(c.tagArray=n[26]),t.$set(c),n[3]&&!n[5]?s?s.p(n,u):(s=yc(n),s.c(),s.m(e,i)):s&&(s.d(1),s=null);const f={};u[0]&512&&(f.tagArray=n[26]),u[0]&40&&(f.menuMode=n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.none),l.$set(f)},i(a){o||(R(t.$$.fragment,a),R(l.$$.fragment,a),o=!0)},o(a){U(t.$$.fragment,a),U(l.$$.fragment,a),o=!1},d(a){a&&h(e),le(t),s&&s.d(),le(l)}}}function Ey(n){let e,t,r,i,l,o;t=new Z2({props:{tagArray:n[26]}});let s=n[3]&&!n[5]&&wc(n);return l=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.Viewer}}),l.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),l.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),l.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),s&&s.c(),i=F(),ne(l.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=k(e);re(t.$$.fragment,u),r=j(u),s&&s.l(u),i=j(u),re(l.$$.fragment,u),u.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto_auto] gap-1")},m(a,u){T(a,e,u),ie(t,e,null),g(e,r),s&&s.m(e,null),g(e,i),ie(l,e,null),o=!0},p(a,u){n=a;const c={};u[0]&512&&(c.tagArray=n[26]),t.$set(c),n[3]&&!n[5]?s?s.p(n,u):(s=wc(n),s.c(),s.m(e,i)):s&&(s.d(1),s=null);const f={};u[0]&512&&(f.tagArray=n[26]),u[0]&40&&(f.menuMode=n[3]?n[5]?Ve.Multi:Ve.Owner:Ve.Viewer),l.$set(f)},i(a){o||(R(t.$$.fragment,a),R(l.$$.fragment,a),o=!0)},o(a){U(t.$$.fragment,a),U(l.$$.fragment,a),o=!1},d(a){a&&h(e),le(t),s&&s.d(),le(l)}}}function Oy(n){let e,t;return e=new an({props:{queryKey:["metadata",n[26][1]],pubkey:n[26][1],$$slots:{nodata:[Ty],error:[Dy],loading:[Cy],default:[Ny,({metadata:r})=>({34:r}),({metadata:r})=>[0,r?8:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&512&&(l.queryKey=["metadata",r[26][1]]),i[0]&512&&(l.pubkey=r[26][1]),i[0]&647|i[1]&40&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Iy(n){let e,t;return e=new n_({props:{queryKey:n[26],filters:[n[30]],$$slots:{nodata:[qy],error:[Ly],loading:[My],default:[By,({events:r})=>({35:r}),({events:r})=>[0,r?16:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&512&&(l.queryKey=r[26]),i[0]&512&&(l.filters=[r[30]]),i[0]&927|i[1]&48&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Sy(n){let e,t;return e=new _l({props:{queryKey:[n[29]],id:n[29],$$slots:{nodata:[Ky],error:[$y],loading:[Hy],default:[Jy,({text:r})=>({33:r}),({text:r})=>[0,r?4:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[0]&512&&(l.queryKey=[r[29]]),i[0]&512&&(l.id=r[29]),i[0]&927|i[1]&36&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function bc(n){let e,t,r,i;function l(){return n[23](n[28],n[26])}return{c(){e=y("button"),t=new Ee(!1),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=Oe(s,!1),s.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn p-2 fill-surface-600 dark:fill-surface-300")},m(o,s){T(o,e,s),t.m(yl,e),r||(i=ee(e,"click",l),r=!0)},p(o,s){n=o},d(o){o&&h(e),r=!1,i()}}}function vc(n){let e,t,r,i;function l(){return n[22](n[28],n[26])}return{c(){e=y("button"),t=new Ee(!1),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=Oe(s,!1),s.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn p-2 fill-surface-600 dark:fill-surface-300")},m(o,s){T(o,e,s),t.m(yl,e),r||(i=ee(e,"click",l),r=!0)},p(o,s){n=o},d(o){o&&h(e),r=!1,i()}}}function yc(n){let e,t,r,i;function l(){return n[21](n[28],n[26])}return{c(){e=y("button"),t=new Ee(!1),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=Oe(s,!1),s.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn p-2 fill-surface-600 dark:fill-surface-300")},m(o,s){T(o,e,s),t.m(yl,e),r||(i=ee(e,"click",l),r=!0)},p(o,s){n=o},d(o){o&&h(e),r=!1,i()}}}function wc(n){let e,t,r,i;function l(){return n[20](n[28],n[26])}return{c(){e=y("button"),t=new Ee(!1),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=Oe(s,!1),s.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn p-2 fill-surface-600 dark:fill-surface-300")},m(o,s){T(o,e,s),t.m(yl,e),r||(i=ee(e,"click",l),r=!0)},p(o,s){n=o},d(o){o&&h(e),r=!1,i()}}}function Ny(n){let e,t,r,i,l;return t=new K2({props:{metadata:n[34],tagArray:n[26]}}),i=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[34],menuMode:n[7],share:!1}}),i.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),i.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),i.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),ne(i.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);re(t.$$.fragment,s),r=j(s),re(i.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(o,s){T(o,e,s),ie(t,e,null),g(e,r),ie(i,e,null),l=!0},p(o,s){n=o;const a={};s[1]&8&&(a.metadata=n[34]),s[0]&512&&(a.tagArray=n[26]),t.$set(a);const u={};s[0]&512&&(u.tagArray=n[26]),s[1]&8&&(u.note=n[34]),s[0]&128&&(u.menuMode=n[7]),i.$set(u)},i(o){l||(R(t.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){U(t.$$.fragment,o),U(i.$$.fragment,o),l=!1},d(o){o&&h(e),le(t),le(i)}}}function Cy(n){let e,t,r=JSON.stringify(n[26])+"",i,l,o,s;return o=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[7],share:!1}}),o.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),o.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),o.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),t=B("loading ... "),i=B(r),l=F(),ne(o.$$.fragment),this.h()},l(a){e=w(a,"DIV",{slot:!0,class:!0});var u=k(e);t=M(u,"loading ... "),i=M(u,r),l=j(u),re(o.$$.fragment,u),u.forEach(h),this.h()},h(){m(e,"slot","loading"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1 break-all")},m(a,u){T(a,e,u),g(e,t),g(e,i),g(e,l),ie(o,e,null),s=!0},p(a,u){n=a,(!s||u[0]&512)&&r!==(r=JSON.stringify(n[26])+"")&&W(i,r);const c={};u[0]&512&&(c.tagArray=n[26]),u[0]&128&&(c.menuMode=n[7]),o.$set(c)},i(a){s||(R(o.$$.fragment,a),s=!0)},o(a){U(o.$$.fragment,a),s=!1},d(a){a&&h(e),le(o)}}}function Dy(n){let e,t,r=JSON.stringify(n[26])+"",i,l,o;return l=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[7],share:!1}}),l.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),l.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),l.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),t=B("not found "),i=B(r),ne(l.$$.fragment),this.h()},l(s){e=w(s,"DIV",{slot:!0,class:!0});var a=k(e);t=M(a,"not found "),i=M(a,r),re(l.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"slot","error"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1 break-all")},m(s,a){T(s,e,a),g(e,t),g(e,i),ie(l,e,null),o=!0},p(s,a){n=s,(!o||a[0]&512)&&r!==(r=JSON.stringify(n[26])+"")&&W(i,r);const u={};a[0]&512&&(u.tagArray=n[26]),a[0]&128&&(u.menuMode=n[7]),l.$set(u)},i(s){o||(R(l.$$.fragment,s),o=!0)},o(s){U(l.$$.fragment,s),o=!1},d(s){s&&h(e),le(l)}}}function Ty(n){let e,t,r=JSON.stringify(n[26])+"",i,l,o;return l=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[7],share:!1}}),l.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),l.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),l.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),t=B("not found "),i=B(r),ne(l.$$.fragment),this.h()},l(s){e=w(s,"DIV",{slot:!0,class:!0});var a=k(e);t=M(a,"not found "),i=M(a,r),re(l.$$.fragment,a),a.forEach(h),this.h()},h(){m(e,"slot","nodata"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1 break-all")},m(s,a){T(s,e,a),g(e,t),g(e,i),ie(l,e,null),o=!0},p(s,a){n=s,(!o||a[0]&512)&&r!==(r=JSON.stringify(n[26])+"")&&W(i,r);const u={};a[0]&512&&(u.tagArray=n[26]),a[0]&128&&(u.menuMode=n[7]),l.$set(u)},i(s){o||(R(l.$$.fragment,s),o=!0)},o(s){U(l.$$.fragment,s),o=!1},d(s){s&&h(e),le(l)}}}function Ay(n){let e,t,r,i,l;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[10](n[35]),metadata:n[34],pubkey:n[4]}}),i=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[10](n[35]),menuMode:n[7]}}),i.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),i.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),i.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),ne(i.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);re(t.$$.fragment,s),r=j(s),re(i.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(o,s){T(o,e,s),ie(t,e,null),g(e,r),ie(i,e,null),l=!0},p(o,s){n=o;const a={};s[0]&8&&(a.isPageOwner=n[3]),s[0]&512&&(a.tagArray=n[26]),s[1]&16&&(a.note=n[10](n[35])),s[1]&8&&(a.metadata=n[34]),s[0]&16&&(a.pubkey=n[4]),t.$set(a);const u={};s[0]&512&&(u.tagArray=n[26]),s[1]&16&&(u.note=n[10](n[35])),s[0]&128&&(u.menuMode=n[7]),i.$set(u)},i(o){l||(R(t.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){U(t.$$.fragment,o),U(i.$$.fragment,o),l=!1},d(o){o&&h(e),le(t),le(i)}}}function Py(n){let e,t,r,i;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[10](n[35]),metadata:void 0,pubkey:n[4]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[10](n[35]),menuMode:n[7]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","loading"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&8&&(s.isPageOwner=n[3]),o[0]&512&&(s.tagArray=n[26]),o[1]&16&&(s.note=n[10](n[35])),o[0]&16&&(s.pubkey=n[4]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[1]&16&&(a.note=n[10](n[35])),o[0]&128&&(a.menuMode=n[7]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function Ry(n){let e,t,r,i;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[10](n[35]),metadata:void 0,pubkey:n[4]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[10](n[35]),menuMode:n[7]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","error"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&8&&(s.isPageOwner=n[3]),o[0]&512&&(s.tagArray=n[26]),o[1]&16&&(s.note=n[10](n[35])),o[0]&16&&(s.pubkey=n[4]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[1]&16&&(a.note=n[10](n[35])),o[0]&128&&(a.menuMode=n[7]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function Vy(n){let e,t,r,i;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[10](n[35]),metadata:void 0,pubkey:n[4]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[10](n[35]),menuMode:n[7]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","nodata"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&8&&(s.isPageOwner=n[3]),o[0]&512&&(s.tagArray=n[26]),o[1]&16&&(s.note=n[10](n[35])),o[0]&16&&(s.pubkey=n[4]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[1]&16&&(a.note=n[10](n[35])),o[0]&128&&(a.menuMode=n[7]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function By(n){let e,t;return e=new an({props:{queryKey:["metadata",n[10](n[35]).pubkey],pubkey:n[10](n[35]).pubkey,$$slots:{nodata:[Vy],error:[Ry],loading:[Py],default:[Ay,({metadata:r})=>({34:r}),({metadata:r})=>[0,r?8:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[1]&16&&(l.queryKey=["metadata",r[10](r[35]).pubkey]),i[1]&16&&(l.pubkey=r[10](r[35]).pubkey),i[0]&671|i[1]&56&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function My(n){let e,t,r,i;return t=new $t({props:{filter:n[30],message:`loading [${n[26]}]`,isPageOwner:n[3]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[8]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","loading"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&512&&(s.filter=n[30]),o[0]&512&&(s.message=`loading [${n[26]}]`),o[0]&8&&(s.isPageOwner=n[3]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[0]&256&&(a.menuMode=n[8]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function Ly(n){let e,t,r,i;return t=new $t({props:{filter:n[30],message:`error [${n[26]}]`,isPageOwner:n[3]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[8]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","error"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&512&&(s.filter=n[30]),o[0]&512&&(s.message=`error [${n[26]}]`),o[0]&8&&(s.isPageOwner=n[3]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[0]&256&&(a.menuMode=n[8]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function qy(n){let e,t,r,i,l;return t=new $t({props:{filter:n[30],message:`not found [${n[26]}]`,isPageOwner:n[3]}}),i=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[8]}}),i.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),i.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),i.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),ne(i.$$.fragment),this.h()},l(o){e=w(o,"DIV",{slot:!0,class:!0});var s=k(e);re(t.$$.fragment,s),r=j(s),re(i.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"slot","nodata"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(o,s){T(o,e,s),ie(t,e,null),g(e,r),ie(i,e,null),l=!0},p(o,s){n=o;const a={};s[0]&512&&(a.filter=n[30]),s[0]&512&&(a.message=`not found [${n[26]}]`),s[0]&8&&(a.isPageOwner=n[3]),t.$set(a);const u={};s[0]&512&&(u.tagArray=n[26]),s[0]&256&&(u.menuMode=n[8]),i.$set(u)},i(o){l||(R(t.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){U(t.$$.fragment,o),U(i.$$.fragment,o),l=!1},d(o){o&&h(e),le(t),le(i)}}}function Uy(n){let e,t,r,i,l;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[33],metadata:n[34],pubkey:n[4]}}),i=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[33],menuMode:n[7]}}),i.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),i.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),i.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),ne(i.$$.fragment),this.h()},l(o){e=w(o,"DIV",{class:!0});var s=k(e);re(t.$$.fragment,s),r=j(s),re(i.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(o,s){T(o,e,s),ie(t,e,null),g(e,r),ie(i,e,null),l=!0},p(o,s){n=o;const a={};s[0]&8&&(a.isPageOwner=n[3]),s[0]&512&&(a.tagArray=n[26]),s[1]&4&&(a.note=n[33]),s[1]&8&&(a.metadata=n[34]),s[0]&16&&(a.pubkey=n[4]),t.$set(a);const u={};s[0]&512&&(u.tagArray=n[26]),s[1]&4&&(u.note=n[33]),s[0]&128&&(u.menuMode=n[7]),i.$set(u)},i(o){l||(R(t.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){U(t.$$.fragment,o),U(i.$$.fragment,o),l=!1},d(o){o&&h(e),le(t),le(i)}}}function zy(n){let e,t,r,i;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[33],metadata:void 0,pubkey:n[4]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[33],menuMode:n[7]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","loading"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&8&&(s.isPageOwner=n[3]),o[0]&512&&(s.tagArray=n[26]),o[1]&4&&(s.note=n[33]),o[0]&16&&(s.pubkey=n[4]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[1]&4&&(a.note=n[33]),o[0]&128&&(a.menuMode=n[7]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function Fy(n){let e,t,r,i;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[33],metadata:void 0,pubkey:n[4]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[33],menuMode:n[7]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","error"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&8&&(s.isPageOwner=n[3]),o[0]&512&&(s.tagArray=n[26]),o[1]&4&&(s.note=n[33]),o[0]&16&&(s.pubkey=n[4]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[1]&4&&(a.note=n[33]),o[0]&128&&(a.menuMode=n[7]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function jy(n){let e,t,r,i;return t=new Kn({props:{isPageOwner:n[3],tagArray:n[26],note:n[33],metadata:void 0,pubkey:n[4]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:n[33],menuMode:n[7]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","nodata"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&8&&(s.isPageOwner=n[3]),o[0]&512&&(s.tagArray=n[26]),o[1]&4&&(s.note=n[33]),o[0]&16&&(s.pubkey=n[4]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[1]&4&&(a.note=n[33]),o[0]&128&&(a.menuMode=n[7]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function Jy(n){let e,t;return e=new an({props:{queryKey:["metadata",n[33].pubkey],pubkey:n[33].pubkey,$$slots:{nodata:[jy],error:[Fy],loading:[zy],default:[Uy,({metadata:r})=>({34:r}),({metadata:r})=>[0,r?8:0]]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p(r,i){const l={};i[1]&4&&(l.queryKey=["metadata",r[33].pubkey]),i[1]&4&&(l.pubkey=r[33].pubkey),i[0]&671|i[1]&44&&(l.$$scope={dirty:i,ctx:r}),e.$set(l)},i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function Hy(n){let e,t,r,i,l;return t=new $t({props:{filter:n[30],message:`loading [${n[26]}]`,isPageOwner:n[3]}}),i=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[8]}}),i.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),i.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),i.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),ne(i.$$.fragment),this.h()},l(o){e=w(o,"DIV",{slot:!0,class:!0});var s=k(e);re(t.$$.fragment,s),r=j(s),re(i.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"slot","loading"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(o,s){T(o,e,s),ie(t,e,null),g(e,r),ie(i,e,null),l=!0},p(o,s){n=o;const a={};s[0]&512&&(a.filter=n[30]),s[0]&512&&(a.message=`loading [${n[26]}]`),s[0]&8&&(a.isPageOwner=n[3]),t.$set(a);const u={};s[0]&512&&(u.tagArray=n[26]),s[0]&256&&(u.menuMode=n[8]),i.$set(u)},i(o){l||(R(t.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){U(t.$$.fragment,o),U(i.$$.fragment,o),l=!1},d(o){o&&h(e),le(t),le(i)}}}function $y(n){let e,t,r,i,l;return t=new $t({props:{filter:n[30],message:`error [${n[26]}]`,isPageOwner:n[3]}}),i=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[8]}}),i.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),i.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),i.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),r=F(),ne(i.$$.fragment),this.h()},l(o){e=w(o,"DIV",{slot:!0,class:!0});var s=k(e);re(t.$$.fragment,s),r=j(s),re(i.$$.fragment,s),s.forEach(h),this.h()},h(){m(e,"slot","error"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(o,s){T(o,e,s),ie(t,e,null),g(e,r),ie(i,e,null),l=!0},p(o,s){n=o;const a={};s[0]&512&&(a.filter=n[30]),s[0]&512&&(a.message=`error [${n[26]}]`),s[0]&8&&(a.isPageOwner=n[3]),t.$set(a);const u={};s[0]&512&&(u.tagArray=n[26]),s[0]&256&&(u.menuMode=n[8]),i.$set(u)},i(o){l||(R(t.$$.fragment,o),R(i.$$.fragment,o),l=!0)},o(o){U(t.$$.fragment,o),U(i.$$.fragment,o),l=!1},d(o){o&&h(e),le(t),le(i)}}}function Ky(n){let e,t,r,i;return t=new $t({props:{filter:n[30],message:`not found [${n[26]}]`,isPageOwner:n[3]}}),r=new tt({props:{myIndex:n[28],tagArray:n[26],note:void 0,menuMode:n[8]}}),r.$on("DeleteNote",function(){pe(n[0])&&n[0].apply(this,arguments)}),r.$on("MoveNote",function(){pe(n[1])&&n[1].apply(this,arguments)}),r.$on("CheckNote",function(){pe(n[2])&&n[2].apply(this,arguments)}),{c(){e=y("div"),ne(t.$$.fragment),ne(r.$$.fragment),this.h()},l(l){e=w(l,"DIV",{slot:!0,class:!0});var o=k(e);re(t.$$.fragment,o),re(r.$$.fragment,o),o.forEach(h),this.h()},h(){m(e,"slot","nodata"),m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5 grid grid-cols-[1fr_auto] gap-1")},m(l,o){T(l,e,o),ie(t,e,null),ie(r,e,null),i=!0},p(l,o){n=l;const s={};o[0]&512&&(s.filter=n[30]),o[0]&512&&(s.message=`not found [${n[26]}]`),o[0]&8&&(s.isPageOwner=n[3]),t.$set(s);const a={};o[0]&512&&(a.tagArray=n[26]),o[0]&256&&(a.menuMode=n[8]),r.$set(a)},i(l){i||(R(t.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(t.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(e),le(t),le(r)}}}function Qy(n){let e,t=n[26]+"",r,i;return{c(){e=y("div"),r=B(t),i=F(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);r=M(o,t),o.forEach(h),i=j(l),this.h()},h(){m(e,"class","z-0 card drop-shadow px-1 py-1 my-0.5")},m(l,o){T(l,e,o),g(e,r),T(l,i,o)},p(l,o){o[0]&512&&t!==(t=l[26]+"")&&W(r,t)},i:$,o:$,d(l){l&&(h(e),h(i))}}}function kc(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Qy,then:_y,catch:gy,value:32,blocks:[,,,]};return rt(t=Na(n[26]),i),{c(){e=ae(),i.block.c()},l(l){e=ae(),i.block.l(l)},m(l,o){T(l,e,o),i.block.m(l,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(l,o){n=l,i.ctx=n,o[0]&512&&t!==(t=Na(n[26]))&&rt(t,i)||Yt(i,n,o)},i(l){r||(R(i.block),r=!0)},o(l){for(let o=0;o<3;o+=1){const s=i.blocks[o];U(s)}r=!1},d(l){l&&h(e),i.block.d(l),i.token=null,i=null}}}function Wy(n){let e,t,r,i;const l=[my,py],o=[];function s(a,u){return a[9]&&a[9].length>0?0:a[6]?1:-1}return~(e=s(n))&&(t=o[e]=l[e](n)),{c(){t&&t.c(),r=ae()},l(a){t&&t.l(a),r=ae()},m(a,u){~e&&o[e].m(a,u),T(a,r,u),i=!0},p(a,u){let c=e;e=s(a),e===c?~e&&o[e].p(a,u):(t&&(ye(),U(o[c],1,1,()=>{o[c]=null}),we()),~e?(t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),~e&&o[e].d(a)}}}function Gy(n,e,t){let r,i,l,o,s,a,u;ce(n,xl,V=>t(5,o=V)),ce(n,Pn,V=>t(17,s=V)),ce(n,Kd,V=>t(18,a=V)),ce(n,mn,V=>t(19,u=V));let{DeleteNote:c}=e,{MoveNote:f}=e,{CheckNote:d}=e,{listEvent:p}=e,{bkm:b="pub"}=e,{isOwner:_}=e,{noEdit:v=!1}=e,{pubkey:E}=e;console.log(b);const I=V=>(V.sort((x,J)=>J.created_at-x.created_at),V[0]),S=async V=>{if(V.content!==""){const x=await hl(V.pubkey,V.content);return JSON.parse(x)}else return console.log("プライベートブクマなんもないよ"),[]};let{viewList:N=[]}=e,C;async function O(){if(t(6,C=""),console.log(b),p)if(b==="pub")Pe(Pn,s=p?p.tags.length:0,s),t(12,N=p?p.tags:[]);else if(_)try{const V=await S(p);Pe(Pn,s=V.length,s),t(12,N=V)}catch{Pe(Pn,s=0,s),t(12,N=[]),t(6,C=p.content)}else Pe(Pn,s=0,s),t(12,N=[]),t(6,C=p.content);else Pe(Pn,s=0,s),t(12,N=[])}const D=xi();function A(V,x){D("EditTag",{number:V,tagArray:x})}const P=(V,x)=>{A(V,x)},L=(V,x)=>{A(V,x)},H=(V,x)=>{A(V,x)},z=(V,x)=>{A(V,x)};return n.$$set=V=>{"DeleteNote"in V&&t(0,c=V.DeleteNote),"MoveNote"in V&&t(1,f=V.MoveNote),"CheckNote"in V&&t(2,d=V.CheckNote),"listEvent"in V&&t(13,p=V.listEvent),"bkm"in V&&t(14,b=V.bkm),"isOwner"in V&&t(3,_=V.isOwner),"noEdit"in V&&t(15,v=V.noEdit),"pubkey"in V&&t(4,E=V.pubkey),"viewList"in V&&t(12,N=V.viewList)},n.$$.update=()=>{n.$$.dirty[0]&24576&&b!=="prv"&&p&&O(),n.$$.dirty[0]&16384&&(b?O():(t(12,N=[]),Pe(Pn,s=0,s))),n.$$.dirty[0]&131072&&console.log(s),n.$$.dirty[0]&921600&&t(9,r=N.slice(Math.min(u,Math.floor(s/a))*a,(u+1)*Math.min(a,s))),n.$$.dirty[0]&32808&&t(8,i=v?Ve.Viewer:o?Ve.Multi:_?Ve.other:Ve.none),n.$$.dirty[0]&32808&&t(7,l=v?Ve.Viewer:o?Ve.Multi:_?Ve.Owner:Ve.Viewer)},[c,f,d,_,E,o,C,l,i,r,I,A,N,p,b,v,O,s,a,u,P,L,H,z]}class Wk extends De{constructor(e){super(),Te(this,e,Gy,Wy,Ce,{DeleteNote:0,MoveNote:1,CheckNote:2,listEvent:13,bkm:14,isOwner:3,noEdit:15,pubkey:4,viewList:12,viewUpdate:16},null,[-1,-1])}get viewUpdate(){return this.$$.ctx[16]}}const Zy=`<svg
version="1.1"
id="_8"
xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink"
x="0px"
y="0px"
viewBox="0 0 256 256"
style="enable-background:new 0 0 256 256;"
xml:space="preserve"
>
<style type="text/css">
  .st0 {
    fill: none;
  }
  .st1 {
    fill: #ffffff;
  }
  .st2 {
    fill: #662482;
  }
</style>
<g>
  <path
    class="st0"
    d="M0,0v256h256V0H0z M231.2,159.2c0,20.7,0,31.1-3.5,42.2c-4.4,12.2-14,21.8-26.2,26.2
c-11.1,3.5-21.5,3.5-42.2,3.5H96.8c-20.7,0-31.1,0-42.2-3.5c-12.2-4.4-21.8-14-26.2-26.2c-3.5-11.1-3.5-21.5-3.5-42.2V96.8
c0-20.7,0-31.1,3.5-42.2c4.4-12.2,14-21.8,26.2-26.2c11.2-3.5,21.5-3.5,42.2-3.5h62.5c20.7,0,31.1,0,42.2,3.5
c12.2,4.4,21.8,14,26.2,26.2c3.5,11.1,3.5,21.5,3.5,42.2V159.2z"
  />
  <circle class="st1" cx="137.9" cy="99" r="12.1" />
  <path
    class="st1"
    d="M210.8,115.9c0-47.3-27.7-68.7-64.4-68.7c-16.4,0-31,4.4-42.4,12.5c-3.8,2.7-9,0.1-9-4.5
c0-3.1-2.5-5.7-5.7-5.7H57.7c-3.1,0-5.7,2.5-5.7,5.7v144c0,3.1,2.5,5.7,5.7,5.7h33.7c3.1,0,5.6-2.5,5.6-5.6v-8.4
c0-62.8-33.2-109.8-0.4-116c30-5.7,64.1-3,64.5,20.1c0,2,0.3,8,8.6,11.2c5,2,12.6,2.6,22.6,2.4c0,0,9.1-0.7,9.1,8.5
c0,11.5-20.4,10.7-20.4,10.7c-6.7,0.3-22.6-1.5-31.7,1.2c-4.8,1.5-9,4.2-11.5,9.1c-4.2,8.3-6.2,26.5-6.5,45.5v15.5
c0,3.1,2.5,5.7,5.7,5.7h68c3.1,0,5.7-2.5,5.7-5.7l0,0V115.9z"
  />
  <path
    class="st2"
    d="M227.6,54.6c-4.4-12.2-14-21.8-26.2-26.2c-11.1-3.5-21.5-3.5-42.2-3.5H96.8c-20.7,0-31.1,0-42.2,3.5
c-12.2,4.4-21.8,14-26.2,26.2c-3.5,11.2-3.5,21.5-3.5,42.2v62.5c0,20.7,0,31.1,3.5,42.2c4.4,12.2,14,21.8,26.2,26.2
c11.2,3.5,21.5,3.5,42.2,3.5h62.5c20.7,0,31.1,0,42.2-3.5c12.2-4.4,21.8-14,26.2-26.2c3.5-11.1,3.5-21.5,3.5-42.2V96.8
C231.2,76.1,231.2,65.7,227.6,54.6z M205.1,204.8h-68c-3.1,0-5.7-2.5-5.7-5.7v-15.5c0.3-19,2.3-37.2,6.5-45.5
c2.5-5,6.7-7.7,11.5-9.1c9-2.7,24.9-0.9,31.7-1.2c0,0,20.4,0.8,20.4-10.7c0-9.3-9.1-8.5-9.1-8.5c-10,0.3-17.7-0.4-22.6-2.4
c-8.3-3.3-8.6-9.2-8.6-11.2c-0.4-23.1-34.5-25.9-64.5-20.1c-32.8,6.2,0.4,53.3,0.4,116v8.4c-0.1,3.1-2.5,5.6-5.6,5.6H57.7
c-3.1,0-5.7-2.5-5.7-5.7v-144c0-3.1,2.5-5.7,5.7-5.7h31.7c3.1,0,5.7,2.5,5.7,5.7c0,4.7,5.2,7.2,9,4.5c11.4-8.2,26-12.5,42.4-12.5
c36.7,0,64.4,21.4,64.4,68.7v83.2l0,0C210.8,202.3,208.3,204.8,205.1,204.8z M125.7,99c0-6.7,5.4-12.1,12.1-12.1S150,92.3,150,99
s-5.4,12.1-12.1,12.1S125.7,105.8,125.7,99z"
  />
</g>
</svg>`,Qd=`<svg
xmlns="http://www.w3.org/2000/svg"
height="24"
viewBox="0 -960 960 960"
width="24"
class="fill-tertiary-300"
><path
  d="M480-80q-139-35-229.5-159.5T160-516v-244l320-120 320 120v244q0 152-90.5 276.5T480-80Zm0-84q104-33 172-132t68-220v-189l-240-90-240 90v189q0 121 68 220t172 132Zm0-316Zm-80 160h160q17 0 28.5-11.5T600-360v-120q0-17-11.5-28.5T560-520v-40q0-33-23.5-56.5T480-640q-33 0-56.5 23.5T400-560v40q-17 0-28.5 11.5T360-480v120q0 17 11.5 28.5T400-320Zm40-200v-40q0-17 11.5-28.5T480-600q17 0 28.5 11.5T520-560v40h-80Z"
/></svg
>`,Wd=`<svg
xmlns="http://www.w3.org/2000/svg"
height="24"
viewBox="0 -960 960 960"
width="24"
class="fill-tertiary-300"
><path
  d="m305-704 112-145q12-16 28.5-23.5T480-880q18 0 34.5 7.5T543-849l112 145 170 57q26 8 41 29.5t15 47.5q0 12-3.5 24T866-523L756-367l4 164q1 35-23 59t-56 24q-2 0-22-3l-179-50-179 50q-5 2-11 2.5t-11 .5q-32 0-56-24t-23-59l4-165L95-523q-8-11-11.5-23T80-570q0-25 14.5-46.5T135-647l170-57Zm49 69-194 64 124 179-4 191 200-55 200 56-4-192 124-177-194-66-126-165-126 165Zm126 135Z"
/></svg
>`,Gd='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"/></svg>',Yy='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 6.5a2.996 2.996 0 0 0-2.99 3.21l-2.03.68a4.468 4.468 0 0 0-3.22-2.32V5.91A3.018 3.018 0 0 0 15 3c0-1.66-1.34-3-3-3S9 1.34 9 3c0 1.4.96 2.57 2.25 2.91v2.16c-1.4.23-2.58 1.11-3.22 2.32l-2.04-.68C6 9.64 6 9.57 6 9.5c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3c1.06 0 1.98-.55 2.52-1.37l2.03.68c-.2 1.29.17 2.66 1.09 3.69l-1.41 1.77C6.85 17.09 6.44 17 6 17c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3c0-.68-.22-1.3-.6-1.8l1.41-1.77c1.36.76 3.02.75 4.37 0l1.41 1.77c-.37.5-.59 1.12-.59 1.8 0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3c-.44 0-.85.09-1.23.26l-1.41-1.77a4.49 4.49 0 0 0 1.09-3.69l2.03-.68c.53.82 1.46 1.37 2.52 1.37 1.66 0 3-1.34 3-3S22.66 6.5 21 6.5zm-18 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM6 21c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm5-18c0-.55.45-1 1-1s1 .45 1 1-.45 1-1 1-1-.45-1-1zm1 12a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5zm6 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm3-8.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>',us='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"/></svg>';function Ec(n){let e,t,r,i,l=(n[1][0].title??"(title missing)")+"",o,s,a,u,c,f,d,p,b="title",_,v=n[3]("modal.listInfo.ex.title")+"",E,I,S,N,C,O,D,A="image",P,L=n[3]("modal.listInfo.ex.image")+"",H,z,V,x,J,q,Z,oe,Y,Q,G="description",fe,ue=n[3]("modal.listInfo.ex.summary")+"",X,K,se,te,be,he,de,_e=n[0].buttonTextCancel+"",ge,Ie,Le,ze,Ae,Me,ht,ct,yt,Rt;return{c(){e=y("div"),t=y("div"),r=y("header"),i=new Ee(!1),o=B(l),s=F(),a=y("button"),u=new Ee(!1),c=F(),f=y("div"),d=y("label"),p=y("span"),p.textContent=b,_=F(),E=B(v),I=F(),S=y("input"),C=F(),O=y("label"),D=y("span"),D.textContent=A,P=F(),H=B(L),z=F(),V=y("input"),J=F(),q=y("img"),oe=F(),Y=y("label"),Q=y("span"),Q.textContent=G,fe=F(),X=B(ue),K=F(),se=y("textarea"),be=F(),he=y("footer"),de=y("button"),ge=B(_e),Le=F(),ze=y("button"),Ae=B("Update"),this.h()},l(Fe){e=w(Fe,"DIV",{class:!0});var ke=k(e);t=w(ke,"DIV",{class:!0});var Ue=k(t);r=w(Ue,"HEADER",{class:!0});var Et=k(r);i=Oe(Et,!1),o=M(Et,l),Et.forEach(h),s=j(Ue),a=w(Ue,"BUTTON",{class:!0});var Se=k(a);u=Oe(Se,!1),Se.forEach(h),Ue.forEach(h),c=j(ke),f=w(ke,"DIV",{class:!0});var Ye=k(f);d=w(Ye,"LABEL",{class:!0});var gt=k(d);p=w(gt,"SPAN",{class:!0,"data-svelte-h":!0}),qe(p)!=="svelte-uxzvmg"&&(p.textContent=b),_=j(gt),E=M(gt,v),I=j(gt),S=w(gt,"INPUT",{class:!0,type:!0,placeholder:!0}),gt.forEach(h),C=j(Ye),O=w(Ye,"LABEL",{class:!0});var Nt=k(O);D=w(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),qe(D)!=="svelte-jj5psp"&&(D.textContent=A),P=j(Nt),H=M(Nt,L),z=j(Nt),V=w(Nt,"INPUT",{class:!0,type:!0,placeholder:!0}),Nt.forEach(h),J=j(Ye),q=w(Ye,"IMG",{class:!0,src:!0,alt:!0}),oe=j(Ye),Y=w(Ye,"LABEL",{class:!0});var Tt=k(Y);Q=w(Tt,"SPAN",{class:!0,"data-svelte-h":!0}),qe(Q)!=="svelte-1cootdo"&&(Q.textContent=G),fe=j(Tt),X=M(Tt,ue),K=j(Tt),se=w(Tt,"TEXTAREA",{class:!0,placeholder:!0}),k(se).forEach(h),Tt.forEach(h),Ye.forEach(h),be=j(ke),he=w(ke,"FOOTER",{class:!0});var _t=k(he);de=w(_t,"BUTTON",{class:!0});var Vt=k(de);ge=M(Vt,_e),Vt.forEach(h),Le=j(_t),ze=w(_t,"BUTTON",{class:!0});var Bt=k(ze);Ae=M(Bt,"Update"),Bt.forEach(h),_t.forEach(h),ke.forEach(h),this.h()},h(){i.a=o,m(r,"class",ew),u.a=null,m(a,"class","btn-icon variant-filled-primary fill-white"),m(t,"class","grid grid-cols-[1fr_auto]"),m(p,"class","font-bold"),m(S,"class","input p-2"),m(S,"type","text"),S.disabled=N=n[1][0].value.pubkey!==n[4],m(S,"placeholder",""),m(d,"class","label mt-2"),m(D,"class","font-bold"),m(V,"class","input p-2"),m(V,"type","text"),V.disabled=x=n[1][0].value.pubkey!==n[4],m(V,"placeholder",""),m(O,"class","label mt-2"),m(q,"class","max-h-24 m-2"),Ne(q.src,Z=n[2].image)||m(q,"src",Z),m(q,"alt",""),m(Q,"class","font-bold"),m(se,"class","input p-2 max-h-24 overflow-y-auto break-all"),se.disabled=te=n[1][0].value.pubkey!==n[4],m(se,"placeholder",""),m(Y,"class","label mt-2"),m(f,"class",""),m(de,"class",Ie="btn "+n[0].buttonNeutral),m(ze,"class",Me="btn "+n[0].buttonPositive),ze.disabled=ht=n[1][0].value.pubkey!==n[4],m(he,"class",ct="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+xy)},m(Fe,ke){T(Fe,e,ke),g(e,t),g(t,r),i.m(us,r),g(r,o),g(t,s),g(t,a),u.m(mr,a),g(e,c),g(e,f),g(f,d),g(d,p),g(d,_),g(d,E),g(d,I),g(d,S),$e(S,n[2].title),g(f,C),g(f,O),g(O,D),g(O,P),g(O,H),g(O,z),g(O,V),$e(V,n[2].image),g(f,J),g(f,q),g(f,oe),g(f,Y),g(Y,Q),g(Y,fe),g(Y,X),g(Y,K),g(Y,se),$e(se,n[2].description),g(e,be),g(e,he),g(he,de),g(de,ge),g(he,Le),g(he,ze),g(ze,Ae),yt||(Rt=[ee(a,"click",n[11]),ee(S,"input",n[12]),ee(V,"input",n[13]),ee(se,"input",n[14]),ee(de,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)}),ee(ze,"click",n[15])],yt=!0)},p(Fe,ke){n=Fe,ke&2&&l!==(l=(n[1][0].title??"(title missing)")+"")&&W(o,l),ke&8&&v!==(v=n[3]("modal.listInfo.ex.title")+"")&&W(E,v),ke&18&&N!==(N=n[1][0].value.pubkey!==n[4])&&(S.disabled=N),ke&4&&S.value!==n[2].title&&$e(S,n[2].title),ke&8&&L!==(L=n[3]("modal.listInfo.ex.image")+"")&&W(H,L),ke&18&&x!==(x=n[1][0].value.pubkey!==n[4])&&(V.disabled=x),ke&4&&V.value!==n[2].image&&$e(V,n[2].image),ke&4&&!Ne(q.src,Z=n[2].image)&&m(q,"src",Z),ke&8&&ue!==(ue=n[3]("modal.listInfo.ex.summary")+"")&&W(X,ue),ke&18&&te!==(te=n[1][0].value.pubkey!==n[4])&&(se.disabled=te),ke&4&&$e(se,n[2].description),ke&1&&_e!==(_e=n[0].buttonTextCancel+"")&&W(ge,_e),ke&1&&Ie!==(Ie="btn "+n[0].buttonNeutral)&&m(de,"class",Ie),ke&1&&Me!==(Me="btn "+n[0].buttonPositive)&&m(ze,"class",Me),ke&18&&ht!==(ht=n[1][0].value.pubkey!==n[4])&&(ze.disabled=ht),ke&1&&ct!==(ct="modal-footer "+n[0].regionFooter)&&m(he,"class",ct)},d(Fe){Fe&&h(e),yt=!1,je(Rt)}}}function Xy(n){let e,t=n[1][0]&&Ec(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=Ec(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(r){r&&h(e),t&&t.d(r)}}}const xy="card p-4 w-modal shadow-xl space-y-4",ew="text-2xl font-bold flex fill-white stroke-primary-400";function tw(n,e,t){var S,N,C,O,D,A;let r,i,l,o,s,a,u,c;ce(n,Re,P=>t(1,l=P)),ce(n,tr,P=>t(8,o=P)),ce(n,vr,P=>t(9,s=P)),ce(n,jn,P=>t(10,a=P)),ce(n,on,P=>t(3,u=P)),ce(n,Ct,P=>t(4,c=P));let{parent:f}=e;function d(){l[0].response&&l[0].response(p),Re.close()}let p={title:(N=(S=l[0])==null?void 0:S.value)==null?void 0:N.title,image:(O=(C=l[0])==null?void 0:C.value)==null?void 0:O.image,description:(A=(D=l[0])==null?void 0:D.value)==null?void 0:A.description};const b=()=>{t(2,p.share=!0,p),d()};function _(){p.title=this.value,t(2,p)}function v(){p.image=this.value,t(2,p)}function E(){p.description=this.value,t(2,p)}const I=()=>{t(2,p.update=!0,p),d()};return n.$$set=P=>{"parent"in P&&t(0,f=P.parent)},n.$$.update=()=>{var P,L,H,z,V,x,J,q,Z;n.$$.dirty&2&&t(7,r=(L=(P=l[0])==null?void 0:P.value)==null?void 0:L.pubkey),n.$$.dirty&2&&t(6,i=(z=(H=l[0])==null?void 0:H.value)==null?void 0:z.kind),n.$$.dirty&1024&&console.log(a),n.$$.dirty&128&&console.log(r),n.$$.dirty&64&&console.log(i),n.$$.dirty&768&&console.log(s[o]),n.$$.dirty&1984&&console.log((x=(V=a==null?void 0:a[r])==null?void 0:V[i])==null?void 0:x.get(s[o])),n.$$.dirty&1984&&console.log((Z=(q=(J=a==null?void 0:a[r])==null?void 0:J[i])==null?void 0:q.get(s[o]))==null?void 0:Z.title)},[f,l,p,u,c,d,i,r,o,s,a,b,_,v,E,I]}class nw extends De{constructor(e){super(),Te(this,e,tw,Xy,Ce,{parent:0})}}const rw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 8.75v3.68c0 .35.19.68.49.86l3.12 1.85c.36.21.82.09 1.03-.26.21-.36.1-.82-.26-1.03l-2.87-1.71v-3.4c-.01-.4-.35-.74-.76-.74s-.75.34-.75.75zm10 .75V4.21c0-.45-.54-.67-.85-.35l-1.78 1.78a9.01 9.01 0 0 0-7.21-2.6c-4.19.38-7.64 3.75-8.1 7.94a9 9 0 0 0 17.87 2.14c.07-.6-.4-1.12-1-1.12-.5 0-.92.37-.98.86-.43 3.49-3.44 6.19-7.05 6.14-3.71-.05-6.84-3.18-6.9-6.9C4.94 8.2 8.11 5 12 5c1.93 0 3.68.79 4.95 2.05l-2.09 2.09c-.32.32-.1.86.35.86h5.29c.28 0 .5-.22.5-.5z"/></svg>';function Oc(n,e,t){const r=n.slice();return r[7]=e[t],r[9]=t,r}function Ic(n){let e,t,r,i,l=(n[7].length>30?`${n[7].slice(0,28)}...`:n[7])+"",o,s,a=(n[1][n[7]]==="error"||n[1][n[7]]==="not-started")&&!st(n[2]).has(n[7]),u,c=a&&Sc(n);return{c(){e=y("div"),t=y("div"),i=F(),o=B(l),s=F(),c&&c.c(),u=F(),this.h()},l(f){e=w(f,"DIV",{class:!0});var d=k(e);t=w(d,"DIV",{class:!0}),k(t).forEach(h),i=j(d),o=M(d,l),s=j(d),c&&c.l(d),u=j(d),d.forEach(h),this.h()},h(){m(t,"class",r="h-4 w-4 rounded-full "+n[3](n[7])),m(e,"class","flex items-center gap-1 break-all")},m(f,d){T(f,e,d),g(e,t),g(e,i),g(e,o),g(e,s),c&&c.m(e,null),g(e,u)},p(f,d){d&1&&r!==(r="h-4 w-4 rounded-full "+f[3](f[7]))&&m(t,"class",r),d&1&&l!==(l=(f[7].length>30?`${f[7].slice(0,28)}...`:f[7])+"")&&W(o,l),d&3&&(a=(f[1][f[7]]==="error"||f[1][f[7]]==="not-started")&&!st(f[2]).has(f[7])),a?c?c.p(f,d):(c=Sc(f),c.c(),c.m(e,u)):c&&(c.d(1),c=null)},d(f){f&&h(e),c&&c.d()}}}function Sc(n){let e,t,r,i;function l(){return n[5](n[7])}return{c(){e=y("button"),t=new Ee(!1),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=Oe(s,!1),s.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn p-1 fill-white ml-auto")},m(o,s){T(o,e,s),t.m(rw,e),r||(i=ee(e,"click",l),r=!0)},p(o,s){n=o},d(o){o&&h(e),r=!1,i()}}}function Nc(n){let e=n[1].hasOwnProperty(n[7]),t,r=e&&Ic(n);return{c(){r&&r.c(),t=ae()},l(i){r&&r.l(i),t=ae()},m(i,l){r&&r.m(i,l),T(i,t,l)},p(i,l){l&3&&(e=i[1].hasOwnProperty(i[7])),e?r?r.p(i,l):(r=Ic(i),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(i){i&&h(t),r&&r.d(i)}}}function iw(n){let e,t=Be(n[0]),r=[];for(let i=0;i<t.length;i+=1)r[i]=Nc(Oc(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ae()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);e=ae()},m(i,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,l);T(i,e,l)},p(i,[l]){if(l&31){t=Be(i[0]);let o;for(o=0;o<t.length;o+=1){const s=Oc(i,t,o);r[o]?r[o].p(s,l):(r[o]=Nc(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},i:$,o:$,d(i){i&&h(e),St(r,i)}}}function lw(n,e,t){let r;ce(n,Yn,c=>t(1,r=c));const i=rn(new Set);let{readTrueArray:l}=e,o={"not-started":"bg-surface-500",starting:"bg-surface-500",ongoing:"bg-success-600",reconnecting:"bg-warning-600",error:"bg-error-600",rejected:"bg-error-600",terminated:"bg-error-600"},s=c=>{const f=r[c];return f!==void 0?o[f]:"not-started"};async function a(c){if(!st(i).has(c)){await n2(c);const f=new Set(st(i));f.add(c),i.set(f),setTimeout(()=>{const d=st(i);d.delete(c),i.set(d)},5*60*1e3)}}const u=c=>a(c);return n.$$set=c=>{"readTrueArray"in c&&t(0,l=c.readTrueArray)},[l,r,i,s,a,u]}class ow extends De{constructor(e){super(),Te(this,e,lw,iw,Ce,{readTrueArray:0})}}function Cc(n,e,t){const r=n.slice();return r[40]=e[t],r}function Dc(n){let e,t,r=[],i=new Map,l,o,s,a=Be(Object.keys(kt));const u=f=>f[40];for(let f=0;f<a.length;f+=1){let d=Cc(n,a,f),p=u(d);i.set(p,r[f]=Tc(p,d))}let c=n[3]===n[15]&&Ac();return{c(){e=y("div"),t=y("select");for(let f=0;f<r.length;f+=1)r[f].c();l=F(),c&&c.c(),this.h()},l(f){e=w(f,"DIV",{class:!0});var d=k(e);t=w(d,"SELECT",{class:!0});var p=k(t);for(let b=0;b<r.length;b+=1)r[b].l(p);p.forEach(h),l=j(d),c&&c.l(d),d.forEach(h),this.h()},h(){m(t,"class","border rounded border-primary-400 bg-primary-700 px-1 bg-primary-500 w-fit flex max-w-[85%]"),t.disabled=n[14],n[11]===void 0&&Wr(()=>n[27].call(t)),m(e,"class","flex max-w-full")},m(f,d){T(f,e,d),g(e,t);for(let p=0;p<r.length;p+=1)r[p]&&r[p].m(t,null);Fn(t,n[11],!0),g(e,l),c&&c.m(e,null),o||(s=[ee(t,"change",n[27]),ee(t,"change",n[22])],o=!0)},p(f,d){d&0&&(a=Be(Object.keys(kt)),r=Ao(r,d,u,1,f,a,i,t,Po,Tc,null,Cc)),d[0]&16384&&(t.disabled=f[14]),d[0]&2048&&Fn(t,f[11]),f[3]===f[15]?c||(c=Ac(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(f){f&&h(e);for(let d=0;d<r.length;d+=1)r[d].d();c&&c.d(),o=!1,je(s)}}}function Tc(n,e){let t,r=`${kt[Number(e[40])]} (${e[40]})`,i;return{key:n,first:null,c(){t=y("option"),i=B(r),this.h()},l(l){t=w(l,"OPTION",{});var o=k(t);i=M(o,r),o.forEach(h),this.h()},h(){t.__value=e[40],$e(t,t.__value),this.first=t},m(l,o){T(l,t,o),g(t,i)},p(l,o){e=l},d(l){l&&h(t)}}}function Ac(n){let e,t;return{c(){e=y("span"),t=new Ee(!1),this.h()},l(r){e=w(r,"SPAN",{class:!0});var i=k(e);t=Oe(i,!1),i.forEach(h),this.h()},h(){t.a=null,m(e,"class","fill-white")},m(r,i){T(r,e,i),t.m(Gd,e)},d(r){r&&h(e)}}}function sw(n){let e,t,r,i,l=n[4]&&Pc(),o=kt[n[2]]&&Rc(n);return{c(){e=y("div"),l&&l.c(),t=B("kind:"),r=B(n[2]),i=F(),o&&o.c(),this.h()},l(s){e=w(s,"DIV",{class:!0});var a=k(e);l&&l.l(a),t=M(a,"kind:"),r=M(a,n[2]),i=j(a),o&&o.l(a),a.forEach(h),this.h()},h(){m(e,"class","h5 self-center w-fit break-all")},m(s,a){T(s,e,a),l&&l.m(e,null),g(e,t),g(e,r),g(e,i),o&&o.m(e,null)},p(s,a){s[4]?l||(l=Pc(),l.c(),l.m(e,t)):l&&(l.d(1),l=null),a[0]&4&&W(r,s[2]),kt[s[2]]?o?o.p(s,a):(o=Rc(s),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(s){s&&h(e),l&&l.d(),o&&o.d()}}}function aw(n){let e;function t(l,o){return l[2]>=3e4&&l[2]<4e4&&!l[4]?cw:uw}let r=t(n),i=r(n);return{c(){e=y("div"),i.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);i.l(o),o.forEach(h),this.h()},h(){m(e,"class","text-xs box-border break-all overflow-x-hidden")},m(l,o){T(l,e,o),i.m(e,null)},p(l,o){r===(r=t(l))&&i?i.p(l,o):(i.d(1),i=r(l),i&&(i.c(),i.m(e,null)))},d(l){l&&h(e),i.d()}}}function Pc(n){let e,t="【JSON MODE】",r;return{c(){e=y("div"),e.textContent=t,r=F(),this.h()},l(i){e=w(i,"DIV",{class:!0,"data-svelte-h":!0}),qe(e)!=="svelte-7fi6jz"&&(e.textContent=t),r=j(i),this.h()},h(){m(e,"class","h6")},m(i,l){T(i,e,l),T(i,r,l)},d(i){i&&(h(e),h(r))}}}function Rc(n){let e,t=kt[n[2]]+"",r,i;return{c(){e=B("("),r=B(t),i=B(")")},l(l){e=M(l,"("),r=M(l,t),i=M(l,")")},m(l,o){T(l,e,o),T(l,r,o),T(l,i,o)},p(l,o){o[0]&4&&t!==(t=kt[l[2]]+"")&&W(r,t)},d(l){l&&(h(e),h(r),h(i))}}}function uw(n){var i;let e,t=((i=n[8][n[3]][n[2]].get(n[7][n[9]]))==null?void 0:i.identifier)+"",r;return{c(){e=y("div"),r=B(t),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);r=M(o,t),o.forEach(h),this.h()},h(){m(e,"class","overflow-x-hidden h4 p-1 truncate overflow-x-hidden")},m(l,o){T(l,e,o),g(e,r)},p(l,o){var s;o[0]&908&&t!==(t=((s=l[8][l[3]][l[2]].get(l[7][l[9]]))==null?void 0:s.identifier)+"")&&W(r,t)},d(l){l&&h(e)}}}function cw(n){let e,t;function r(o,s){var a,u;return s[0]&908&&(e=null),e==null&&(e=!((a=o[8][o[3]][o[2]].get(o[7][o[9]]))!=null&&a.title)||((u=o[8][o[3]][o[2]].get(o[7][o[9]]))==null?void 0:u.title)===""),e?dw:fw}let i=r(n,[-1,-1]),l=i(n);return{c(){l.c(),t=ae()},l(o){l.l(o),t=ae()},m(o,s){l.m(o,s),T(o,t,s)},p(o,s){i===(i=r(o,s))&&l?l.p(o,s):(l.d(1),l=i(o),l&&(l.c(),l.m(t.parentNode,t)))},d(o){o&&h(t),l.d(o)}}}function fw(n){var E,I;let e,t,r,i,l,o=((E=n[8][n[3]][n[2]].get(n[7][n[9]]))==null?void 0:E.identifier)+"",s,a,u,c=((I=n[8][n[3]][n[2]].get(n[7][n[9]]))==null?void 0:I.title)+"",f,d,p;function b(S,N){var C;return N[0]&66444&&(t=null),t==null&&(t=!!(S[16]&&((C=S[8][S[3]][S[2]].get(S[7][S[9]]))!=null&&C.image))),t?pw:hw}let _=b(n,[-1,-1]),v=_(n);return{c(){e=y("button"),v.c(),r=F(),i=y("div"),l=y("div"),s=B(o),a=F(),u=y("div"),f=B(c),this.h()},l(S){e=w(S,"BUTTON",{class:!0});var N=k(e);v.l(N),r=j(N),i=w(N,"DIV",{class:!0});var C=k(i);l=w(C,"DIV",{class:!0});var O=k(l);s=M(O,o),O.forEach(h),a=j(C),u=w(C,"DIV",{class:!0});var D=k(u);f=M(D,c),D.forEach(h),C.forEach(h),N.forEach(h),this.h()},h(){m(l,"class","place-self-start text-xs p-0"),m(u,"class","h5 truncate place-self-start"),m(i,"class","grid grid-rows-[auto_1fr] truncate overflow-hidden"),m(e,"class","grid grid-cols-[auto_1fr] items-center min-w-[7em] pr-0.5 overflow-hidden truncate")},m(S,N){T(S,e,N),v.m(e,null),g(e,r),g(e,i),g(i,l),g(l,s),g(i,a),g(i,u),g(u,f),d||(p=ee(e,"click",n[20]),d=!0)},p(S,N){var C,O;_===(_=b(S,N))&&v?v.p(S,N):(v.d(1),v=_(S),v&&(v.c(),v.m(e,r))),N[0]&908&&o!==(o=((C=S[8][S[3]][S[2]].get(S[7][S[9]]))==null?void 0:C.identifier)+"")&&W(s,o),N[0]&908&&c!==(c=((O=S[8][S[3]][S[2]].get(S[7][S[9]]))==null?void 0:O.title)+"")&&W(f,c)},d(S){S&&h(e),v.d(),d=!1,p()}}}function dw(n){var f;let e,t,r,i,l,o=((f=n[8][n[3]][n[2]].get(n[7][n[9]]))==null?void 0:f.identifier)+"",s,a,u,c;return{c(){e=y("button"),t=y("div"),r=new Ee(!1),i=F(),l=y("div"),s=B(o),this.h()},l(d){e=w(d,"BUTTON",{class:!0});var p=k(e);t=w(p,"DIV",{class:!0});var b=k(t);r=Oe(b,!1),b.forEach(h),i=j(p),l=w(p,"DIV",{class:!0});var _=k(l);s=M(_,o),_.forEach(h),p.forEach(h),this.h()},h(){r.a=null,m(t,"class","btn-icon btn-icon-sm fill-white place-self-center"),m(l,"class","h4"),m(e,"class","flex items-center pt-1 overflow-hidden min-w-[7em] text-left"),e.disabled=a=!(n[2]>=3e4&&n[2]<4e4)},m(d,p){T(d,e,p),g(e,t),r.m(us,t),g(e,i),g(e,l),g(l,s),u||(c=ee(e,"click",n[20]),u=!0)},p(d,p){var b;p[0]&908&&o!==(o=((b=d[8][d[3]][d[2]].get(d[7][d[9]]))==null?void 0:b.identifier)+"")&&W(s,o),p[0]&4&&a!==(a=!(d[2]>=3e4&&d[2]<4e4))&&(e.disabled=a)},d(d){d&&h(e),u=!1,c()}}}function hw(n){let e,t;return{c(){e=y("div"),t=new Ee(!1),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=Oe(i,!1),i.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn-icon btn-icon-sm fill-white place-self-center")},m(r,i){T(r,e,i),t.m(us,e)},p:$,d(r){r&&h(e)}}}function pw(n){let e,t,r;return{c(){e=y("div"),t=y("img"),this.h()},l(i){e=w(i,"DIV",{class:!0});var l=k(e);t=w(l,"IMG",{width:!0,class:!0,alt:!0,src:!0}),l.forEach(h),this.h()},h(){var i;m(t,"width",36),m(t,"class","min-w-[36px]"),m(t,"alt",""),Ne(t.src,r=(i=n[8][n[3]][n[2]].get(n[7][n[9]]))==null?void 0:i.image)||m(t,"src",r),m(e,"class","p-0 btn-icon btn-icon-sm m-0 mr-1 self-start")},m(i,l){T(i,e,l),g(e,t)},p(i,l){var o;l[0]&908&&!Ne(t.src,r=(o=i[8][i[3]][i[2]].get(i[7][i[9]]))==null?void 0:o.image)&&m(t,"src",r)},d(i){i&&h(e)}}}function mw(n){let e;return{c(){e=y("div")},l(t){e=w(t,"DIV",{}),k(e).forEach(h)},m(t,r){T(t,e,r)},p:$,d(t){t&&h(e)}}}function gw(n){let e,t,r,i,l,o;return{c(){e=y("button"),t=new Ee(!1),this.h()},l(s){e=w(s,"BUTTON",{class:!0});var a=k(e);t=Oe(a,!1),a.forEach(h),this.h()},h(){t.a=null,m(e,"class",r=n[1]==="prv"?n[18]:n[19]),e.disabled=i=n[1]==="prv"},m(s,a){T(s,e,a),t.m(Qd,e),l||(o=ee(e,"click",n[29]),l=!0)},p(s,a){a[0]&2&&r!==(r=s[1]==="prv"?s[18]:s[19])&&m(e,"class",r),a[0]&2&&i!==(i=s[1]==="prv")&&(e.disabled=i)},d(s){s&&h(e),l=!1,o()}}}function Vc(n){let e,t,r=n[13]("created_at")+"",i,l,o,s,a=new Date(n[0].created_at*1e3).toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",u,c,f;return{c(){e=y("div"),t=y("div"),i=B(r),l=F(),o=y("button"),s=y("div"),u=B(a),this.h()},l(d){e=w(d,"DIV",{class:!0});var p=k(e);t=w(p,"DIV",{class:!0});var b=k(t);i=M(b,r),b.forEach(h),l=j(p),o=w(p,"BUTTON",{class:!0});var _=k(o);s=w(_,"DIV",{class:!0});var v=k(s);u=M(v,a),v.forEach(h),_.forEach(h),p.forEach(h),this.h()},h(){m(t,"class","place-self-end h6 truncate overflow-hidden"),m(s,"class","break-all truncate h6"),m(o,"class","flex text-right text-sm underline decoration-secondary-200 overflow-hidden"),m(e,"class","grid grid-rows-[auto_auto] box-border h-[4em]")},m(d,p){T(d,e,p),g(e,t),g(t,i),g(e,l),g(e,o),g(o,s),g(s,u),c||(f=ee(o,"click",n[30]),c=!0)},p(d,p){p[0]&8192&&r!==(r=d[13]("created_at")+"")&&W(i,r),p[0]&1&&a!==(a=new Date(d[0].created_at*1e3).toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(u,a)},d(d){d&&h(e),c=!1,f()}}}function Bc(n){let e,t,r,i="relays state",l,o,s,a,u,c;function f(p){n[31](p)}let d={};return n[6]!==void 0&&(d.readTrueArray=n[6]),o=new ow({props:d}),gr.push(()=>Bi(o,"readTrueArray",f)),{c(){e=y("div"),t=y("div"),r=y("p"),r.textContent=i,l=F(),ne(o.$$.fragment),a=F(),u=y("div"),this.h()},l(p){e=w(p,"DIV",{class:!0});var b=k(e);t=w(b,"DIV",{});var _=k(t);r=w(_,"P",{"data-svelte-h":!0}),qe(r)!=="svelte-8ukfbt"&&(r.textContent=i),l=j(_),re(o.$$.fragment,_),_.forEach(h),a=j(b),u=w(b,"DIV",{class:!0}),k(u).forEach(h),b.forEach(h),this.h()},h(){m(u,"class","arrow bg-surface-100-800-token"),m(e,"class","card p-4 w-72 shadow-xl z-[100]")},m(p,b){T(p,e,b),g(e,t),g(t,r),g(t,l),ie(o,t,null),g(e,a),g(e,u),c=!0},p(p,b){const _={};!s&&b[0]&64&&(s=!0,_.readTrueArray=p[6],Vi(()=>s=!1)),o.$set(_)},i(p){c||(R(o.$$.fragment,p),c=!0)},o(p){U(o.$$.fragment,p),c=!1},d(p){p&&h(e),le(o)}}}function _w(n){var fe;let e,t,r,i,l,o,s,a,u,c,f,d,p,b,_,v,E,I,S,N,C=((fe=n[6])==null?void 0:fe.length)+"",O,D,A,P,L,H,z,V=!n[4]&&Dc(n);function x(ue,X){var K,se,te,be;return X[0]&908&&(l=null),l==null&&(l=!!((be=(te=(se=(K=ue[8])==null?void 0:K[ue[3]])==null?void 0:se[ue[2]])==null?void 0:te.get(ue[7][ue[9]]))!=null&&be.identifier)),l?aw:sw}let J=x(n,[-1,-1]),q=J(n);function Z(ue,X){return ue[0]&&ue[0].content!==""?gw:mw}let oe=Z(n),Y=oe(n),Q=n[0]!==void 0&&Vc(n),G=n[5]&&Bc(n);return{c(){e=y("div"),t=y("div"),r=y("div"),V&&V.c(),i=F(),q.c(),o=F(),s=y("div"),a=y("button"),u=new Ee(!1),d=F(),Y.c(),p=F(),Q&&Q.c(),b=F(),_=y("button"),v=y("div"),E=new Ee(!1),I=F(),S=B(n[10]),N=B(`/
			`),O=B(C),D=F(),A=y("div"),P=y("div"),G&&G.c(),this.h()},l(ue){e=w(ue,"DIV",{class:!0});var X=k(e);t=w(X,"DIV",{class:!0});var K=k(t);r=w(K,"DIV",{class:!0});var se=k(r);V&&V.l(se),i=j(se),q.l(se),se.forEach(h),o=j(K),s=w(K,"DIV",{class:!0});var te=k(s);a=w(te,"BUTTON",{class:!0});var be=k(a);u=Oe(be,!1),be.forEach(h),d=j(te),Y.l(te),te.forEach(h),p=j(K),Q&&Q.l(K),b=j(K),_=w(K,"BUTTON",{class:!0});var he=k(_);v=w(he,"DIV",{class:!0});var de=k(v);E=Oe(de,!1),de.forEach(h),I=j(he),S=M(he,n[10]),N=M(he,`/
			`),O=M(he,C),he.forEach(h),K.forEach(h),X.forEach(h),D=j(ue),A=w(ue,"DIV",{class:!0});var _e=k(A);P=w(_e,"DIV",{"data-popup":!0,class:!0});var ge=k(P);G&&G.l(ge),ge.forEach(h),_e.forEach(h),this.h()},h(){m(r,"class","max-w-full overflow-hidden"),u.a=null,m(a,"class",c=n[1]==="pub"?n[18]:n[19]),a.disabled=f=n[1]==="pub",m(s,"class","grid grid-cols-[auto_auto] py-1 h-[4em]"),E.a=null,m(v,"class","relayIcon flex justify-self-center"),m(_,"class","btn p-1 fill-white grid grid-rows-[auto_auto]"),m(t,"class","h-[4em] bg-surface-500 text-white container max-w-[1024px] mx-auto grid grid-cols-[1fr_auto_auto_auto] md:gap-2 gap-0.5 overflow-hidden rounded-b"),m(e,"class","z-10 fixed h-[4em] top-0 space-x-0 w-full inline-flex flex-row overflow-x-hidden box-border"),m(P,"data-popup","popupFeatured"),m(P,"class","z-[100] sticky"),m(A,"class","z-[100] fixed left-1/2 -translate-x-1/2 overflow-x-hidden box-border")},m(ue,X){T(ue,e,X),g(e,t),g(t,r),V&&V.m(r,null),g(r,i),q.m(r,null),g(t,o),g(t,s),g(s,a),u.m(Wd,a),g(s,d),Y.m(s,null),g(t,p),Q&&Q.m(t,null),g(t,b),g(t,_),g(_,v),E.m(Yy,v),g(_,I),g(_,S),g(_,N),g(_,O),T(ue,D,X),T(ue,A,X),g(A,P),G&&G.m(P,null),L=!0,H||(z=[ee(a,"click",n[28]),ih(mh.call(null,_,n[23]))],H=!0)},p(ue,X){var K;ue[4]?V&&(V.d(1),V=null):V?V.p(ue,X):(V=Dc(ue),V.c(),V.m(r,i)),J===(J=x(ue,X))&&q?q.p(ue,X):(q.d(1),q=J(ue),q&&(q.c(),q.m(r,null))),(!L||X[0]&2&&c!==(c=ue[1]==="pub"?ue[18]:ue[19]))&&m(a,"class",c),(!L||X[0]&2&&f!==(f=ue[1]==="pub"))&&(a.disabled=f),oe===(oe=Z(ue))&&Y?Y.p(ue,X):(Y.d(1),Y=oe(ue),Y&&(Y.c(),Y.m(s,null))),ue[0]!==void 0?Q?Q.p(ue,X):(Q=Vc(ue),Q.c(),Q.m(t,b)):Q&&(Q.d(1),Q=null),(!L||X[0]&1024)&&W(S,ue[10]),(!L||X[0]&64)&&C!==(C=((K=ue[6])==null?void 0:K.length)+"")&&W(O,C),ue[5]?G?(G.p(ue,X),X[0]&32&&R(G,1)):(G=Bc(ue),G.c(),R(G,1),G.m(P,null)):G&&(ye(),U(G,1,1,()=>{G=null}),we())},i(ue){L||(R(G),L=!0)},o(ue){U(G),L=!1},d(ue){ue&&(h(e),h(D),h(A)),V&&V.d(),q.d(),Y.d(),Q&&Q.d(),G&&G.d(),H=!1,je(z)}}}function bw(n,e,t){let r,i,l,o,s,a,u,c,f,d,p,b,_,v,E,I,S;ce(n,on,te=>t(13,o=te)),ce(n,ln,te=>t(32,s=te)),ce(n,vr,te=>t(7,a=te)),ce(n,jn,te=>t(8,u=te)),ce(n,tr,te=>t(9,c=te)),ce(n,no,te=>t(33,f=te)),ce(n,jt,te=>t(34,d=te)),ce(n,Mn,te=>t(14,p=te)),ce(n,Yn,te=>t(24,b=te)),ce(n,uf,te=>t(25,_=te)),ce(n,gh,te=>t(26,v=te)),ce(n,Ct,te=>t(15,E=te)),ce(n,Pt,te=>t(16,I=te)),ce(n,mn,te=>t(17,S=te));let{bkm:N}=e,{kind:C}=e,{pubkey:O}=e,{viewEvent:D}=e,{JSON:A=!1}=e,P,L=!1;const H="break-keep border-b-2 border-white place-items-end  flex m-1 p-0.5 pb-0 h6 bkm",z="break-keep  place-items-end p-0.5 flex m-1 h6 bkm",V={ref:nw},x={ref:os};async function J(){var be,he,de,_e,ge,Ie,Le,ze,Ae;const te={type:"component",component:V,title:o("modal.listInfo.title"),value:{pubkey:O,kind:C,title:((de=(he=(be=u==null?void 0:u[O])==null?void 0:be[C])==null?void 0:he.get(a[c]))==null?void 0:de.title)??"",image:((Ie=(ge=(_e=u==null?void 0:u[O])==null?void 0:_e[C])==null?void 0:ge.get(a[c]))==null?void 0:Ie.image)??"",description:((Ae=(ze=(Le=u==null?void 0:u[O])==null?void 0:Le[C])==null?void 0:ze.get(a[c]))==null?void 0:Ae.description)??""},response:async Me=>{console.log(Me),Me&&(Me.update?(Pe(Mn,p=!0,p),await q(Me),Pe(Mn,p=!1,p)):Me.share&&Z())}};Re.trigger(te)}async function q(te){var de,_e;console.log(te);const be=c,he=(de=d[O][C].get(f[be]))==null?void 0:de.tags;if(he){let ge=he.findIndex(Me=>Me[0]==="title");ge!==-1?he[ge][1]=te.title:(he.splice(1,0,["title",te.title]),ge=1);let Ie=he.findIndex(Me=>Me[0]==="image");Ie!==-1?he[Ie][1]=te.image:(Ie=ge+1,he.splice(Ie,0,["image",te.image]));const Le=he.findIndex(Me=>Me[0]==="description");Le!==-1?he[Le][1]=te.description:he.splice(Ie+1,0,["description",te.description]),console.log(he);const ze={id:"",kind:C,pubkey:O,content:((_e=d[O][C].get(f[be]))==null?void 0:_e.content)??"",tags:he,created_at:Math.floor(Date.now()/1e3),sig:""},Ae=await Qr(ze,s[O].bookmarkRelays);if(console.log(Ae),Ae.isSuccess&&d&&Ae.event){d[O][C].set(f[be],Ae.event),t(0,D=Ae.event);const Me={message:"Add note<br>"+Ae.msg,timeout:3e3};ft.trigger(Me)}else{const Me={message:o("toast.failed_publish"),timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(Me)}}}function Z(){var ge;const te=c,be={identifier:((ge=u[O][C].get(a[te]))==null?void 0:ge.identifier)??"",pubkey:O,kind:C,relays:s[O].bookmarkRelays},he=window.location.origin+"/"+me.naddrEncode(be),de=[i,["r",he]];console.log(de);const _e={type:"component",component:x,title:o("modal.postNote.title"),body:"",value:{content:`\r
${he}\r
`,tags:de},response:async Ie=>{console.log(Ie)}};Re.trigger(_e)}const oe={ref:Dr},Y=(te,be)=>{const he={type:"component",title:"Event Json",backdropClasses:"!bg-surface-400/80",meta:{note:te,tagArray:be},component:oe};Re.trigger(he)};function Q(te){console.log(Number(te.currentTarget.value)),console.log(window.location),br(`/${me.npubEncode(O)}/${l}`)}const G={event:"click",target:"popupFeatured",placement:"bottom-end",state:te=>{console.log(te),t(5,L=te.state)}};function fe(){l=el(this),t(11,l),t(2,C)}const ue=()=>{t(1,N="pub"),console.log(N),Pe(mn,S=0,S)},X=()=>{t(1,N="prv"),console.log(N),Pe(mn,S=0,S)},K=()=>{D!==void 0&&Y(D,i)};function se(te){r=te,t(6,r),t(25,_)}return n.$$set=te=>{"bkm"in te&&t(1,N=te.bkm),"kind"in te&&t(2,C=te.kind),"pubkey"in te&&t(3,O=te.pubkey),"viewEvent"in te&&t(0,D=te.viewEvent),"JSON"in te&&t(4,A=te.JSON)},n.$$.update=()=>{var te,be,he;n.$$.dirty[0]&67108864&&console.log(v.popupFeatured),n.$$.dirty[0]&32&&console.log(L),n.$$.dirty[0]&33554432&&t(6,r=_?Object.keys(_).filter(de=>_[de].read===!0):[]),n.$$.dirty[0]&16777280&&t(10,P=b&&r.length>0?r.filter(de=>b[de]==="ongoing").length:0),n.$$.dirty[0]&909&&t(12,i=D?["a",`${D.kind}:${D.pubkey}:${((he=(be=(te=u==null?void 0:u[O])==null?void 0:te[C])==null?void 0:be.get(a[c]))==null?void 0:he.identifier)||""}`]:[]),n.$$.dirty[0]&4&&t(11,l=C.toString())},console.log(G.state),[D,N,C,O,A,L,r,a,u,c,P,l,i,o,p,E,I,S,H,z,J,Y,Q,G,b,_,v,fe,ue,X,K,se]}class Gk extends De{constructor(e){super(),Te(this,e,bw,_w,Ce,{bkm:1,kind:2,pubkey:3,viewEvent:0,JSON:4},null,[-1,-1])}}const vw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23a.987.987 0 0 0-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41a7.343 7.343 0 0 0 0 1.35l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68zm-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>',yw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.7 15.89 13.82 12l3.89-3.89A.996.996 0 1 0 16.3 6.7l-4.59 4.59a.996.996 0 0 0 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0a.993.993 0 0 0-.01-1.4zM7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1z"/></svg>',ww='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6.29 8.11 10.18 12l-3.89 3.89A.996.996 0 1 0 7.7 17.3l4.59-4.59a.996.996 0 0 0 0-1.41L7.7 6.7a.996.996 0 0 0-1.41 0c-.38.39-.38 1.03 0 1.41zM17 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1z"/></svg>',kw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14.71 6.71a.996.996 0 0 0-1.41 0L8.71 11.3a.996.996 0 0 0 0 1.41l4.59 4.59a.996.996 0 1 0 1.41-1.41L10.83 12l3.88-3.88c.39-.39.38-1.03 0-1.41z"/></svg>',Ew='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.29 6.71a.996.996 0 0 0 0 1.41L13.17 12l-3.88 3.88a.996.996 0 1 0 1.41 1.41l4.59-4.59a.996.996 0 0 0 0-1.41L10.7 6.7c-.38-.38-1.02-.38-1.41.01z"/></svg>',Ow='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11 8c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1h7c.55 0 1-.45 1-1zm0 8c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1s.45 1 1 1h7c.55 0 1-.45 1-1zm6.05-5.71a.996.996 0 0 1-1.41 0l-2.12-2.12a.996.996 0 1 1 1.41-1.41l1.41 1.41 3.54-3.54a.996.996 0 1 1 1.41 1.41l-4.24 4.25zm0 8a.996.996 0 0 1-1.41 0l-2.12-2.12a.996.996 0 1 1 1.41-1.41l1.41 1.41 3.54-3.54a.996.996 0 1 1 1.41 1.41l-4.24 4.25z"/></svg>',Iw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 18h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zm0-5h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 7c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1z"/></svg>',Sw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9.7 18.3a.996.996 0 0 0 0-1.41L5.83 13H21c.55 0 1-.45 1-1s-.45-1-1-1H5.83l3.88-3.88A.996.996 0 1 0 8.3 5.71L2.7 11.3a.996.996 0 0 0 0 1.41l5.59 5.59c.39.38 1.03.38 1.41 0z"/></svg>',Nw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"/></svg>';function Mc(n,e,t){const r=n.slice();return r[14]=e[t],r[16]=t,r}function Lc(n){let e,t,r=(n[3][0].title??"(title missing)")+"",i,l,o,s=(n[3][0].body??"(body missing)")+"",a,u,c,f,d,p,b=n[0].buttonTextCancel+"",_,v,E,I,S=n[6]("modal.tagList.editTag")+"",N,C,O,D,A,P,L;return c=new Bh({props:{class:"border border-surface-500 p-4 rounded-container-token max-h-80 overflow-y-auto",$$slots:{default:[Aw]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("header"),i=B(r),l=F(),o=y("article"),a=B(s),u=F(),ne(c.$$.fragment),f=F(),d=y("footer"),p=y("button"),_=B(b),E=F(),I=y("button"),N=B(S),this.h()},l(H){e=w(H,"DIV",{class:!0});var z=k(e);t=w(z,"HEADER",{class:!0});var V=k(t);i=M(V,r),V.forEach(h),l=j(z),o=w(z,"ARTICLE",{});var x=k(o);a=M(x,s),x.forEach(h),u=j(z),re(c.$$.fragment,z),f=j(z),d=w(z,"FOOTER",{class:!0});var J=k(d);p=w(J,"BUTTON",{class:!0});var q=k(p);_=M(q,b),q.forEach(h),E=j(J),I=w(J,"BUTTON",{class:!0});var Z=k(I);N=M(Z,S),Z.forEach(h),J.forEach(h),z.forEach(h),this.h()},h(){m(t,"class",Vw),m(p,"class",v="btn "+n[0].buttonNeutral),m(I,"class",C="btn "+n[0].buttonPositive),I.disabled=O=n[3][0].value.pubkey!==n[7],m(d,"class",D="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+Rw)},m(H,z){T(H,e,z),g(e,t),g(t,i),g(e,l),g(e,o),g(o,a),g(e,u),ie(c,e,null),g(e,f),g(e,d),g(d,p),g(p,_),g(d,E),g(d,I),g(I,N),A=!0,P||(L=[ee(p,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)}),ee(I,"click",n[13])],P=!0)},p(H,z){n=H,(!A||z&8)&&r!==(r=(n[3][0].title??"(title missing)")+"")&&W(i,r),(!A||z&8)&&s!==(s=(n[3][0].body??"(body missing)")+"")&&W(a,s);const V={};z&131190&&(V.$$scope={dirty:z,ctx:n}),c.$set(V),(!A||z&1)&&b!==(b=n[0].buttonTextCancel+"")&&W(_,b),(!A||z&1&&v!==(v="btn "+n[0].buttonNeutral))&&m(p,"class",v),(!A||z&64)&&S!==(S=n[6]("modal.tagList.editTag")+"")&&W(N,S),(!A||z&1&&C!==(C="btn "+n[0].buttonPositive))&&m(I,"class",C),(!A||z&136&&O!==(O=n[3][0].value.pubkey!==n[7]))&&(I.disabled=O),(!A||z&1&&D!==(D="modal-footer "+n[0].regionFooter))&&m(d,"class",D)},i(H){A||(R(c.$$.fragment,H),A=!0)},o(H){U(c.$$.fragment,H),A=!1},d(H){H&&h(e),le(c),P=!1,je(L)}}}function Cw(n){let e=n[6]("modal.tagList.noList")+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&64&&e!==(e=r[6]("modal.tagList.noList")+"")&&W(t,e)},i:$,o:$,d(r){r&&h(t)}}}function Dw(n){let e,t,r=Be(n[5]),i=[];for(let o=0;o<r.length;o+=1)i[o]=qc(Mc(n,r,o));const l=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=ae()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);e=ae()},m(o,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,s);T(o,e,s),t=!0},p(o,s){if(s&1846){r=Be(o[5]);let a;for(a=0;a<r.length;a+=1){const u=Mc(o,r,a);i[a]?(i[a].p(u,s),R(i[a],1)):(i[a]=qc(u),i[a].c(),R(i[a],1),i[a].m(e.parentNode,e))}for(ye(),a=r.length;a<i.length;a+=1)l(a);we()}},i(o){if(!t){for(let s=0;s<r.length;s+=1)R(i[s]);t=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)U(i[s]);t=!1},d(o){o&&h(e),St(i,o)}}}function Tw(n){var o,s,a;let e=((o=n[4][n[8]][n[9]].get(n[14]))==null?void 0:o.identifier)+"",t,r,i=(s=n[4][n[8]][n[9]].get(n[14]))!=null&&s.title?`【${(a=n[4][n[8]][n[9]].get(n[14]))==null?void 0:a.title}】`:"",l;return{c(){t=B(e),r=F(),l=B(i)},l(u){t=M(u,e),r=j(u),l=M(u,i)},m(u,c){T(u,t,c),T(u,r,c),T(u,l,c)},p(u,c){var f,d,p;c&48&&e!==(e=((f=u[4][u[8]][u[9]].get(u[14]))==null?void 0:f.identifier)+"")&&W(t,e),c&48&&i!==(i=(d=u[4][u[8]][u[9]].get(u[14]))!=null&&d.title?`【${(p=u[4][u[8]][u[9]].get(u[14]))==null?void 0:p.title}】`:"")&&W(l,i)},d(u){u&&(h(t),h(r),h(l))}}}function qc(n){var s;let e,t,r;function i(a){n[11](a)}function l(){return n[12](n[16])}let o={name:((s=n[4][n[8]][n[9]].get(n[14]))==null?void 0:s.identifier)??"",value:n[16],class:"truncate",$$slots:{default:[Tw]},$$scope:{ctx:n}};return n[2]!==void 0&&(o.group=n[2]),e=new Qh({props:o}),gr.push(()=>Bi(e,"group",i)),e.$on("change",l),{c(){ne(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,u){ie(e,a,u),r=!0},p(a,u){var f;n=a;const c={};u&48&&(c.name=((f=n[4][n[8]][n[9]].get(n[14]))==null?void 0:f.identifier)??""),u&131120&&(c.$$scope={dirty:u,ctx:n}),!t&&u&4&&(t=!0,c.group=n[2],Vi(()=>t=!1)),e.$set(c)},i(a){r||(R(e.$$.fragment,a),r=!0)},o(a){U(e.$$.fragment,a),r=!1},d(a){le(e,a)}}}function Aw(n){let e,t,r,i;const l=[Dw,Cw],o=[];function s(a,u){return a[9]!==-1&&a[8]!==""&&a[4][a[8]][a[9]].size>0?0:1}return e=s(n),t=o[e]=l[e](n),{c(){t.c(),r=ae()},l(a){t.l(a),r=ae()},m(a,u){o[e].m(a,u),T(a,r,u),i=!0},p(a,u){let c=e;e=s(a),e===c?o[e].p(a,u):(ye(),U(o[c],1,1,()=>{o[c]=null}),we(),t=o[e],t?t.p(a,u):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){i||(R(t),i=!0)},o(a){U(t),i=!1},d(a){a&&h(r),o[e].d(a)}}}function Pw(n){let e,t,r=n[3][0]&&Lc(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,[l]){i[3][0]?r?(r.p(i,l),l&8&&R(r,1)):(r=Lc(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}const Rw="card p-4 w-modal shadow-xl space-y-4 break-all",Vw="text-2xl font-bold";function Bw(n,e,t){var E,I,S,N;let r,i,l,o,s;ce(n,Re,C=>t(3,r=C)),ce(n,jn,C=>t(4,i=C)),ce(n,vr,C=>t(5,l=C)),ce(n,on,C=>t(6,o=C)),ce(n,Ct,C=>t(7,s=C));let{parent:a}=e,u={index:-1,edit:!1},c,f=((I=(E=r[0])==null?void 0:E.value)==null?void 0:I.pubkey)??"",d=((N=(S=r[0])==null?void 0:S.value)==null?void 0:N.kind)??-1;function p(){console.log(u),r[0].response&&r[0].response(u),Re.close()}function b(C){c=C,t(2,c)}const _=C=>{t(1,u.edit=!1,u),t(1,u.index=C,u),p()},v=()=>{t(1,u.index=-1,u),t(1,u.edit=!0,u),p()};return n.$$set=C=>{"parent"in C&&t(0,a=C.parent)},[a,u,c,r,i,l,o,s,f,d,p,b,_,v]}class Mw extends De{constructor(e){super(),Te(this,e,Bw,Pw,Ce,{parent:0})}}const Lw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.3 7.7a.984.984 0 0 0 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9a.984.984 0 0 0 0 1.4c.39.39 1.01.39 1.4 0l3.59-3.59a.996.996 0 0 0 0-1.41L11.7 7.7a.984.984 0 0 0-1.4 0zM20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v14z"/></svg>',qw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.67 21c-.35 0-.62-.31-.57-.66L11 14H7.5c-.88 0-.33-.75-.31-.78 1.26-2.23 3.15-5.53 5.65-9.93a.577.577 0 0 1 1.07.37l-.9 6.34h3.51c.4 0 .62.19.4.66-3.29 5.74-5.2 9.09-5.75 10.05-.1.18-.29.29-.5.29z"/></svg>',Uw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.29 8.71 6.7 13.3a.996.996 0 1 0 1.41 1.41L12 10.83l3.88 3.88a.996.996 0 1 0 1.41-1.41L12.7 8.71a.996.996 0 0 0-1.41 0z"/></svg>',zw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.88 9.29 12 13.17 8.12 9.29a.996.996 0 1 0-1.41 1.41l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59a.996.996 0 0 0 0-1.41c-.39-.38-1.03-.39-1.42 0z"/></svg>',Fw=""+new URL("../assets/github-mark-white.60d03f0f.png",import.meta.url).href;function Uc(n,e,t){const r=n.slice();return r[29]=e[t],r[31]=t,r}function zc(n,e,t){const r=n.slice();return r[32]=e[t],r}function Fc(n){var _s;let e,t,r=(n[10][0].title??"(title missing)")+"",i,l,o,s,a,u,c,f,d=n[11]("modal.info.light_switch")+"",p,b,_,v,E=n[11]("modal.info.urlandIconOff")+"",I,S,N,C,O,D=n[11]("modal.info.urlandIconOn")+"",A,P,L,H=n[11]("modal.info.contentwarning")+"",z,V,x,J,q,Z,oe,Y,Q,G,fe=n[11]("modal.info.backButton")+"",ue,X,K,se=n[11]("modal.info.share")+"",te,be,he,de,_e,ge,Ie=n[11]("modal.info.shareNaddr")+"",Le,ze,Ae,Me,ht,ct,yt,Rt,Fe,ke=n[11]("icon_description")+"",Ue,Et,Se,Ye,gt,Nt,Tt,_t=n[11]("popup.pub")+"",Vt,Bt,Kt,Mt,fn,yn,wn=n[11]("popup.prv")+"",Qn,wl,Lt,kn,rr,ei,kl,Tr=n[11]("popup.Share")+"",ti,El,En,ir,ni,Ol,Ar=n[11]("popup.open")+"",ri,Il,On,lr,ii,Sl,Pr=n[11]("popup.move")+"",li,Nl,In,or,oi,Cl,Rr=n[11]("popup.delete")+"",si,Dl,Tl,Al,qt,xt,cs=`<img src="${Fw}" class="w-[18px] h-[18px]" alt="githubLink"/>`,Pl,dn,ai,Rl,hn,ui,Vl,Sn,fs="",ds,Bl,Wn,Nn,Vr=n[0].buttonTextCancel+"",ci,fi,di,Xe,Ml,hs;function ps(xe,ve){return!xe[3]||xe[3]===""?Jw:jw}let hi=ps(n),Qt=hi(n);b=new u1({});function Zd(xe){n[18](xe)}let ms={size:"sm",name:"slide"};n[1]!==void 0&&(ms.checked=n[1]),N=new ra({props:ms}),gr.push(()=>Bi(N,"checked",Zd));function Yd(xe){n[19](xe)}let gs={size:"sm",name:"slide"};n[2]!==void 0&&(gs.checked=n[2]),x=new ra({props:gs}),gr.push(()=>Bi(x,"checked",Yd));let wt=((_s=n[10][0].value)==null?void 0:_s.relaySet)&&Jc(n);return{c(){e=y("div"),t=y("header"),i=B(r),l=F(),o=y("div"),s=y("button"),a=new Ee(!1),u=F(),Qt.c(),c=F(),f=y("div"),p=B(d),ne(b.$$.fragment),_=F(),v=y("div"),I=B(E),S=F(),ne(N.$$.fragment),O=F(),A=B(D),P=F(),L=y("div"),z=B(H),V=F(),ne(x.$$.fragment),q=F(),Z=y("div"),oe=y("label"),Y=y("input"),Q=F(),G=y("p"),ue=B(fe),X=F(),K=y("div"),te=B(se),be=F(),he=y("button"),de=new Ee(!1),_e=F(),ge=y("div"),Le=B(Ie),ze=F(),Ae=y("button"),Me=new Ee(!1),ht=F(),wt&&wt.c(),ct=F(),yt=y("hr"),Rt=F(),Fe=y("div"),Ue=B(ke),Et=F(),Se=y("div"),Ye=y("div"),gt=y("div"),Nt=new Ee(!1),Tt=F(),Vt=B(_t),Bt=F(),Kt=y("div"),Mt=y("div"),fn=new Ee(!1),yn=F(),Qn=B(wn),wl=F(),Lt=y("div"),kn=y("div"),rr=y("div"),ei=new Ee(!1),kl=F(),ti=B(Tr),El=F(),En=y("div"),ir=y("div"),ni=new Ee(!1),Ol=F(),ri=B(Ar),Il=F(),On=y("div"),lr=y("div"),ii=new Ee(!1),Sl=F(),li=B(Pr),Nl=F(),In=y("div"),or=y("div"),oi=new Ee(!1),Cl=F(),si=B(Rr),Dl=F(),Tl=y("hr"),Al=F(),qt=y("div"),xt=y("a"),xt.innerHTML=cs,Pl=F(),dn=y("a"),ai=new Ee(!1),Rl=F(),hn=y("button"),ui=new Ee(!1),Vl=F(),Sn=y("script"),Sn.innerHTML=fs,Bl=F(),Wn=y("footer"),Nn=y("button"),ci=B(Vr),this.h()},l(xe){e=w(xe,"DIV",{class:!0});var ve=k(e);t=w(ve,"HEADER",{class:!0});var Br=k(t);i=M(Br,r),Br.forEach(h),l=j(ve),o=w(ve,"DIV",{class:!0});var Gn=k(o);s=w(Gn,"BUTTON",{class:!0});var Mr=k(s);a=Oe(Mr,!1),Mr.forEach(h),u=j(Gn),Qt.l(Gn),Gn.forEach(h),c=j(ve),f=w(ve,"DIV",{class:!0});var Ll=k(f);p=M(Ll,d),re(b.$$.fragment,Ll),Ll.forEach(h),_=j(ve),v=w(ve,"DIV",{class:!0});var sr=k(v);I=M(sr,E),S=j(sr),re(N.$$.fragment,sr),O=j(sr),A=M(sr,D),sr.forEach(h),P=j(ve),L=w(ve,"DIV",{class:!0});var pi=k(L);z=M(pi,H),V=j(pi),re(x.$$.fragment,pi),pi.forEach(h),q=j(ve),Z=w(ve,"DIV",{class:!0});var bs=k(Z);oe=w(bs,"LABEL",{class:!0});var mi=k(oe);Y=w(mi,"INPUT",{class:!0,type:!0}),Q=j(mi),G=w(mi,"P",{});var vs=k(G);ue=M(vs,fe),vs.forEach(h),mi.forEach(h),bs.forEach(h),X=j(ve),K=w(ve,"DIV",{class:!0});var gi=k(K);te=M(gi,se),be=j(gi),he=w(gi,"BUTTON",{class:!0});var ys=k(he);de=Oe(ys,!1),ys.forEach(h),gi.forEach(h),_e=j(ve),ge=w(ve,"DIV",{class:!0});var _i=k(ge);Le=M(_i,Ie),ze=j(_i),Ae=w(_i,"BUTTON",{class:!0});var ws=k(Ae);Me=Oe(ws,!1),ws.forEach(h),_i.forEach(h),ht=j(ve),wt&&wt.l(ve),ct=j(ve),yt=w(ve,"HR",{}),Rt=j(ve),Fe=w(ve,"DIV",{class:!0});var ks=k(Fe);Ue=M(ks,ke),ks.forEach(h),Et=j(ve),Se=w(ve,"DIV",{class:!0});var bi=k(Se);Ye=w(bi,"DIV",{class:!0});var vi=k(Ye);gt=w(vi,"DIV",{class:!0});var Es=k(gt);Nt=Oe(Es,!1),Es.forEach(h),Tt=j(vi),Vt=M(vi,_t),vi.forEach(h),Bt=j(bi),Kt=w(bi,"DIV",{class:!0});var yi=k(Kt);Mt=w(yi,"DIV",{class:!0});var Os=k(Mt);fn=Oe(Os,!1),Os.forEach(h),yn=j(yi),Qn=M(yi,wn),yi.forEach(h),bi.forEach(h),wl=j(ve),Lt=w(ve,"DIV",{class:!0});var Cn=k(Lt);kn=w(Cn,"DIV",{class:!0});var wi=k(kn);rr=w(wi,"DIV",{class:!0});var Is=k(rr);ei=Oe(Is,!1),Is.forEach(h),kl=j(wi),ti=M(wi,Tr),wi.forEach(h),El=j(Cn),En=w(Cn,"DIV",{class:!0});var ki=k(En);ir=w(ki,"DIV",{class:!0});var Ss=k(ir);ni=Oe(Ss,!1),Ss.forEach(h),Ol=j(ki),ri=M(ki,Ar),ki.forEach(h),Il=j(Cn),On=w(Cn,"DIV",{class:!0});var Ei=k(On);lr=w(Ei,"DIV",{class:!0});var Ns=k(lr);ii=Oe(Ns,!1),Ns.forEach(h),Sl=j(Ei),li=M(Ei,Pr),Ei.forEach(h),Nl=j(Cn),In=w(Cn,"DIV",{class:!0});var Oi=k(In);or=w(Oi,"DIV",{class:!0});var Cs=k(or);oi=Oe(Cs,!1),Cs.forEach(h),Cl=j(Oi),si=M(Oi,Rr),Oi.forEach(h),Cn.forEach(h),Dl=j(ve),Tl=w(ve,"HR",{}),Al=j(ve),qt=w(ve,"DIV",{class:!0});var Dn=k(qt);xt=w(Dn,"A",{class:!0,rel:!0,target:!0,href:!0,"data-svelte-h":!0}),qe(xt)!=="svelte-1hmrcyt"&&(xt.innerHTML=cs),Pl=j(Dn),dn=w(Dn,"A",{class:!0,rel:!0,target:!0,href:!0});var Ds=k(dn);ai=Oe(Ds,!1),Ds.forEach(h),Rl=j(Dn),hn=w(Dn,"BUTTON",{class:!0,"data-npub":!0,"data-note-id":!0,"data-relays":!0});var Ts=k(hn);ui=Oe(Ts,!1),Ts.forEach(h),Vl=j(Dn),Sn=w(Dn,"SCRIPT",{src:!0,"data-svelte-h":!0}),qe(Sn)!=="svelte-mimmah"&&(Sn.innerHTML=fs),Dn.forEach(h),Bl=j(ve),Wn=w(ve,"FOOTER",{class:!0});var As=k(Wn);Nn=w(As,"BUTTON",{class:!0});var Ps=k(Nn);ci=M(Ps,Vr),Ps.forEach(h),As.forEach(h),ve.forEach(h),this.h()},h(){m(t,"class",Ww),a.a=null,m(s,"class","btn-icon variant-filled-surface history"),m(o,"class","flex gap-4"),m(f,"class","flex gap-2"),m(v,"class","flex gap-2"),m(L,"class","flex gap-2"),m(Y,"class","checkbox"),m(Y,"type","checkbox"),m(oe,"class","flex items-center space-x-2"),m(Z,"class","space-y-2"),de.a=null,m(he,"class","btn-icon btn-icon-sm m-0 p-0 variant-filled-primary fill-white"),m(K,"class","flex gap-2"),Me.a=null,m(Ae,"class","btn-icon btn-icon-sm m-0 p-0 variant-filled-primary fill-white"),m(ge,"class","flex gap-2"),m(Fe,"class","p-0 m-0"),Nt.a=null,m(gt,"class","fill-white btn m-0 p-0 mb-1 bg-surface-500 h-fit"),m(Ye,"class","flex gap-1 pr-3"),fn.a=null,m(Mt,"class","fill-white btn m-0 p-0 mb-1 bg-surface-500 h-fit"),m(Kt,"class","flex gap-1 pr-3"),m(Se,"class","flex flex-wrap"),ei.a=null,m(rr,"class","fill-white btn m-0 p-0 mb-1 bg-surface-500 h-fit"),m(kn,"class","flex gap-1 pr-3"),ni.a=null,m(ir,"class","fill-white btn m-0 p-0 mb-1 bg-surface-500 h-fit"),m(En,"class","flex gap-1 pr-3"),ii.a=null,m(lr,"class","fill-white btn m-0 p-0 mb-1 bg-surface-500 h-fit"),m(On,"class","flex gap-1 pr-3"),oi.a=null,m(or,"class","fill-warning-400 btn m-0 p-0 mb-1 bg-surface-500 h-fit"),m(In,"class","flex gap-1"),m(Lt,"class","flex flex-wrap"),m(xt,"class","btn p-0 badge-icon w-[24px] h-[24px] variant-filled-surface rounded-full"),m(xt,"rel","external noreferrer"),m(xt,"target","_blank"),m(xt,"href","https://github.com/TsukemonoGit/nostviewstr"),ai.a=null,m(dn,"class","btn p-0 badge-icon w-[24px] h-[24px] nostr variant-filled-surface rounded-full"),m(dn,"rel","external noreferrer"),m(dn,"target","_blank"),m(dn,"href","https://nostter.app/mono@tsukemonogit.github.io"),ui.a=null,m(hn,"class","light btn p-0 m-0 w-[24px] h-[24px] badge-icon variant-filled-surface rounded-full"),m(hn,"data-npub","npub1sjcvg64knxkrt6ev52rywzu9uzqakgy8ehhk8yezxmpewsthst6sw3jqcw"),m(hn,"data-note-id","note1sgfa7nh4p4k76k23e0vr0k95svg5hp3xqshq6ewd9jaut6hnp7jq8jhpy8"),m(hn,"data-relays","wss://yabu.me.io,wss://nos.lol,wss://relay-jp.nostr.wirednet.jp,wss://relay.nostr.band"),Ne(Sn.src,ds="https://cdn.jsdelivr.net/npm/nostr-zap@0.21.0")||m(Sn,"src",ds),m(qt,"class","flex gap-3"),m(Nn,"class",fi="btn "+n[0].buttonNeutral),m(Wn,"class",di="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+Qw)},m(xe,ve){T(xe,e,ve),g(e,t),g(t,i),g(e,l),g(e,o),g(o,s),a.m(Nw,s),g(o,u),Qt.m(o,null),g(e,c),g(e,f),g(f,p),ie(b,f,null),g(e,_),g(e,v),g(v,I),g(v,S),ie(N,v,null),g(v,O),g(v,A),g(e,P),g(e,L),g(L,z),g(L,V),ie(x,L,null),g(e,q),g(e,Z),g(Z,oe),g(oe,Y),Y.checked=n[9],g(oe,Q),g(oe,G),g(G,ue),g(e,X),g(e,K),g(K,te),g(K,be),g(K,he),de.m(mr,he),g(e,_e),g(e,ge),g(ge,Le),g(ge,ze),g(ge,Ae),Me.m(mr,Ae),g(e,ht),wt&&wt.m(e,null),g(e,ct),g(e,yt),g(e,Rt),g(e,Fe),g(Fe,Ue),g(e,Et),g(e,Se),g(Se,Ye),g(Ye,gt),Nt.m(Wd,gt),g(Ye,Tt),g(Ye,Vt),g(Se,Bt),g(Se,Kt),g(Kt,Mt),fn.m(Qd,Mt),g(Kt,yn),g(Kt,Qn),g(e,wl),g(e,Lt),g(Lt,kn),g(kn,rr),ei.m(mr,rr),g(kn,kl),g(kn,ti),g(Lt,El),g(Lt,En),g(En,ir),ni.m(as,ir),g(En,Ol),g(En,ri),g(Lt,Il),g(Lt,On),g(On,lr),ii.m(ss,lr),g(On,Sl),g(On,li),g(Lt,Nl),g(Lt,In),g(In,or),oi.m(vl,or),g(In,Cl),g(In,si),g(e,Dl),g(e,Tl),g(e,Al),g(e,qt),g(qt,xt),g(qt,Pl),g(qt,dn),ai.m(Zy,dn),g(qt,Rl),g(qt,hn),ui.m(qw,hn),g(qt,Vl),g(qt,Sn),g(e,Bl),g(e,Wn),g(Wn,Nn),g(Nn,ci),Xe=!0,Ml||(hs=[ee(s,"click",n[16]),ee(Y,"change",n[20]),ee(Y,"change",n[15]),ee(he,"click",n[21]),ee(Ae,"click",n[22]),ee(Nn,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],Ml=!0)},p(xe,ve){var Mr;n=xe,(!Xe||ve[0]&1024)&&r!==(r=(n[10][0].title??"(title missing)")+"")&&W(i,r),hi===(hi=ps(n))&&Qt?Qt.p(n,ve):(Qt.d(1),Qt=hi(n),Qt&&(Qt.c(),Qt.m(o,null))),(!Xe||ve[0]&2048)&&d!==(d=n[11]("modal.info.light_switch")+"")&&W(p,d),(!Xe||ve[0]&2048)&&E!==(E=n[11]("modal.info.urlandIconOff")+"")&&W(I,E);const Br={};!C&&ve[0]&2&&(C=!0,Br.checked=n[1],Vi(()=>C=!1)),N.$set(Br),(!Xe||ve[0]&2048)&&D!==(D=n[11]("modal.info.urlandIconOn")+"")&&W(A,D),(!Xe||ve[0]&2048)&&H!==(H=n[11]("modal.info.contentwarning")+"")&&W(z,H);const Gn={};!J&&ve[0]&4&&(J=!0,Gn.checked=n[2],Vi(()=>J=!1)),x.$set(Gn),ve[0]&512&&(Y.checked=n[9]),(!Xe||ve[0]&2048)&&fe!==(fe=n[11]("modal.info.backButton")+"")&&W(ue,fe),(!Xe||ve[0]&2048)&&se!==(se=n[11]("modal.info.share")+"")&&W(te,se),(!Xe||ve[0]&2048)&&Ie!==(Ie=n[11]("modal.info.shareNaddr")+"")&&W(Le,Ie),(Mr=n[10][0].value)!=null&&Mr.relaySet?wt?wt.p(n,ve):(wt=Jc(n),wt.c(),wt.m(e,ct)):wt&&(wt.d(1),wt=null),(!Xe||ve[0]&2048)&&ke!==(ke=n[11]("icon_description")+"")&&W(Ue,ke),(!Xe||ve[0]&2048)&&_t!==(_t=n[11]("popup.pub")+"")&&W(Vt,_t),(!Xe||ve[0]&2048)&&wn!==(wn=n[11]("popup.prv")+"")&&W(Qn,wn),(!Xe||ve[0]&2048)&&Tr!==(Tr=n[11]("popup.Share")+"")&&W(ti,Tr),(!Xe||ve[0]&2048)&&Ar!==(Ar=n[11]("popup.open")+"")&&W(ri,Ar),(!Xe||ve[0]&2048)&&Pr!==(Pr=n[11]("popup.move")+"")&&W(li,Pr),(!Xe||ve[0]&2048)&&Rr!==(Rr=n[11]("popup.delete")+"")&&W(si,Rr),(!Xe||ve[0]&1)&&Vr!==(Vr=n[0].buttonTextCancel+"")&&W(ci,Vr),(!Xe||ve[0]&1&&fi!==(fi="btn "+n[0].buttonNeutral))&&m(Nn,"class",fi),(!Xe||ve[0]&1&&di!==(di="modal-footer "+n[0].regionFooter))&&m(Wn,"class",di)},i(xe){Xe||(R(b.$$.fragment,xe),R(N.$$.fragment,xe),R(x.$$.fragment,xe),Xe=!0)},o(xe){U(b.$$.fragment,xe),U(N.$$.fragment,xe),U(x.$$.fragment,xe),Xe=!1},d(xe){xe&&h(e),Qt.d(),le(b),le(N),le(x),wt&&wt.d(),Ml=!1,je(hs)}}}function jw(n){let e,t,r=[],i=new Map,l,o,s,a,u,c=Be(Object.keys(kt));const f=d=>d[32];for(let d=0;d<c.length;d+=1){let p=zc(n,c,d),b=f(p);i.set(b,r[d]=jc(b,p))}return{c(){e=y("div"),t=y("select");for(let d=0;d<r.length;d+=1)r[d].c();l=y("button"),o=new Ee(!1),s=B("My Page"),this.h()},l(d){e=w(d,"DIV",{class:!0});var p=k(e);t=w(p,"SELECT",{class:!0});var b=k(t);for(let v=0;v<r.length;v+=1)r[v].l(b);b.forEach(h),l=w(p,"BUTTON",{type:!0,class:!0});var _=k(l);o=Oe(_,!1),s=M(_,"My Page"),_.forEach(h),p.forEach(h),this.h()},h(){m(t,"class","select"),n[7]===void 0&&Wr(()=>n[17].call(t)),o.a=s,m(l,"type","button"),m(l,"class","mx-1 px-2 btn variant-filled-secondary history"),m(e,"class","flex")},m(d,p){T(d,e,p),g(e,t);for(let b=0;b<r.length;b+=1)r[b]&&r[b].m(t,null);Fn(t,n[7],!0),g(e,l),o.m(Gd,l),g(l,s),a||(u=[ee(t,"change",n[17]),ee(l,"click",n[14])],a=!0)},p(d,p){p&0&&(c=Be(Object.keys(kt)),r=Ao(r,p,f,1,d,c,i,t,Po,jc,null,zc)),p[0]&128&&Fn(t,d[7])},d(d){d&&h(e);for(let p=0;p<r.length;p+=1)r[p].d();a=!1,je(u)}}}function Jw(n){let e,t,r,i,l,o,s,a;return{c(){e=y("div"),t=y("button"),r=B("Login"),i=new Ee(!1),l=F(),o=B("(use nip07 extension)"),this.h()},l(u){e=w(u,"DIV",{class:!0});var c=k(e);t=w(c,"BUTTON",{class:!0});var f=k(t);r=M(f,"Login"),i=Oe(f,!1),l=j(f),f.forEach(h),o=M(c,"(use nip07 extension)"),c.forEach(h),this.h()},h(){i.a=l,m(t,"class","mx-1 h-full btn variant-filled-surface fill-white"),m(e,"class","flex items-center justify-start")},m(u,c){T(u,e,c),g(e,t),g(t,r),i.m(Lw,t),g(t,l),g(e,o),s||(a=ee(t,"click",n[13]),s=!0)},p:$,d(u){u&&h(e),s=!1,a()}}}function jc(n,e){let t,r=`${kt[Number(e[32])]} (${e[32]})`,i;return{key:n,first:null,c(){t=y("option"),i=B(r),this.h()},l(l){t=w(l,"OPTION",{});var o=k(t);i=M(o,r),o.forEach(h),this.h()},h(){t.__value=e[32],$e(t,t.__value),this.first=t},m(l,o){T(l,t,o),g(t,i)},p(l,o){e=l},d(l){l&&h(t)}}}function Jc(n){let e,t,r,i,l=n[11]("modal.info.relay.title")+"",o,s,a,u;function c(b,_){return b[6]?$w:Hw}let f=c(n),d=f(n),p=n[6]&&Hc(n);return{c(){e=y("div"),t=y("div"),r=y("button"),d.c(),i=F(),o=B(l),s=F(),p&&p.c(),this.h()},l(b){e=w(b,"DIV",{});var _=k(e);t=w(_,"DIV",{class:!0});var v=k(t);r=w(v,"BUTTON",{class:!0});var E=k(r);d.l(E),E.forEach(h),i=j(v),o=M(v,l),v.forEach(h),s=j(_),p&&p.l(_),_.forEach(h),this.h()},h(){m(r,"class","m-auto btn variant-filled-primary p-0 rounded-full fill-white"),m(t,"class","flex-1 gap-3")},m(b,_){T(b,e,_),g(e,t),g(t,r),d.m(r,null),g(t,i),g(t,o),g(e,s),p&&p.m(e,null),a||(u=ee(r,"click",n[23]),a=!0)},p(b,_){f!==(f=c(b))&&(d.d(1),d=f(b),d&&(d.c(),d.m(r,null))),_[0]&2048&&l!==(l=b[11]("modal.info.relay.title")+"")&&W(o,l),b[6]?p?p.p(b,_):(p=Hc(b),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(b){b&&h(e),d.d(),p&&p.d(),a=!1,u()}}}function Hw(n){let e,t;return{c(){e=new Ee(!1),t=ae(),this.h()},l(r){e=Oe(r,!1),t=ae(),this.h()},h(){e.a=t},m(r,i){e.m(zw,r,i),T(r,t,i)},d(r){r&&(h(t),e.d())}}}function $w(n){let e,t;return{c(){e=new Ee(!1),t=ae(),this.h()},l(r){e=Oe(r,!1),t=ae(),this.h()},h(){e.a=t},m(r,i){e.m(Uw,r,i),T(r,t,i)},d(r){r&&(h(t),e.d())}}}function Hc(n){let e,t,r,i=n[11]("modal.info.relay.white")+"",l,o,s=n[8].kind+"",a,u,c,f=new Date(n[8].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",d,p,b,_,v,E=n[11]("modal.info.relay.list")+"",I,S,N,C,O=n[4][n[3]].postRelays&&$c(n),D=n[10][0].value.relaySet.relayEvent&&Qc(n);return{c(){e=y("div"),t=y("p"),r=B("My"),l=B(i),o=B(" kind:"),a=B(s),u=F(),c=y("button"),d=B(f),p=F(),O&&O.c(),b=F(),_=y("div"),v=y("p"),I=B(E),S=F(),D&&D.c(),this.h()},l(A){e=w(A,"DIV",{class:!0});var P=k(e);t=w(P,"P",{class:!0});var L=k(t);r=M(L,"My"),l=M(L,i),o=M(L," kind:"),a=M(L,s),u=j(L),c=w(L,"BUTTON",{class:!0});var H=k(c);d=M(H,f),H.forEach(h),L.forEach(h),p=j(P),O&&O.l(P),b=j(P),_=w(P,"DIV",{class:!0});var z=k(_);v=w(z,"P",{});var V=k(v);I=M(V,E),S=j(V),D&&D.l(V),V.forEach(h),z.forEach(h),P.forEach(h),this.h()},h(){m(c,"class","underline decoration-secondary-400"),m(t,"class","pt-1"),m(_,"class","card p-3 mt-4"),m(e,"class","card p-3")},m(A,P){T(A,e,P),g(e,t),g(t,r),g(t,l),g(t,o),g(t,a),g(t,u),g(t,c),g(c,d),g(e,p),O&&O.m(e,null),g(e,b),g(e,_),g(_,v),g(v,I),g(v,S),D&&D.m(v,null),N||(C=ee(c,"click",n[24]),N=!0)},p(A,P){P[0]&2048&&i!==(i=A[11]("modal.info.relay.white")+"")&&W(l,i),P[0]&256&&s!==(s=A[8].kind+"")&&W(a,s),P[0]&256&&f!==(f=new Date(A[8].created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(d,f),A[4][A[3]].postRelays?O?O.p(A,P):(O=$c(A),O.c(),O.m(e,b)):O&&(O.d(1),O=null),P[0]&2048&&E!==(E=A[11]("modal.info.relay.list")+"")&&W(I,E),A[10][0].value.relaySet.relayEvent?D?D.p(A,P):(D=Qc(A),D.c(),D.m(v,null)):D&&(D.d(1),D=null)},d(A){A&&h(e),O&&O.d(),D&&D.d(),N=!1,C()}}}function $c(n){let e,t=Be(n[4][n[3]].postRelays),r=[];for(let i=0;i<t.length;i+=1)r[i]=Kc(Uc(n,t,i));return{c(){e=y("ol");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=w(i,"OL",{class:!0});var l=k(e);for(let o=0;o<r.length;o+=1)r[o].l(l);l.forEach(h),this.h()},h(){m(e,"class","bg-surface-50-900-token card max-h-[6em] list overflow-y-auto overflow-x-hidden px-2")},m(i,l){T(i,e,l);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(i,l){if(l[0]&24){t=Be(i[4][i[3]].postRelays);let o;for(o=0;o<t.length;o+=1){const s=Uc(i,t,o);r[o]?r[o].p(s,l):(r[o]=Kc(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(i){i&&h(e),St(r,i)}}}function Kc(n){let e,t,r=n[31]+1+"",i,l,o,s=n[29]+"",a,u;return{c(){e=y("li"),t=y("span"),i=B(r),l=B("."),o=y("span"),a=B(s),u=F(),this.h()},l(c){e=w(c,"LI",{});var f=k(e);t=w(f,"SPAN",{});var d=k(t);i=M(d,r),l=M(d,"."),d.forEach(h),o=w(f,"SPAN",{class:!0});var p=k(o);a=M(p,s),p.forEach(h),u=j(f),f.forEach(h),this.h()},h(){m(o,"class","break-all")},m(c,f){T(c,e,f),g(e,t),g(t,i),g(t,l),g(e,o),g(o,a),g(e,u)},p(c,f){f[0]&24&&s!==(s=c[29]+"")&&W(a,s)},d(c){c&&h(e)}}}function Qc(n){let e,t=n[10][0].value.relaySet.relayEvent.kind+"",r,i,l,o=new Date(n[10][0].value.relaySet.relayEvent.created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"",s,a,u;return{c(){e=B("kind:"),r=B(t),i=F(),l=y("button"),s=B(o),this.h()},l(c){e=M(c,"kind:"),r=M(c,t),i=j(c),l=w(c,"BUTTON",{class:!0});var f=k(l);s=M(f,o),f.forEach(h),this.h()},h(){m(l,"class","underline decoration-secondary-400")},m(c,f){T(c,e,f),T(c,r,f),T(c,i,f),T(c,l,f),g(l,s),a||(u=ee(l,"click",n[25]),a=!0)},p(c,f){f[0]&1024&&t!==(t=c[10][0].value.relaySet.relayEvent.kind+"")&&W(r,t),f[0]&1024&&o!==(o=new Date(c[10][0].value.relaySet.relayEvent.created_at*1e3).toLocaleString([],{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})+"")&&W(s,o)},d(c){c&&(h(e),h(r),h(i),h(l)),a=!1,u()}}}function Kw(n){let e,t,r=n[10][0]&&Fc(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,l){i[10][0]?r?(r.p(i,l),l[0]&1024&&R(r,1)):(r=Fc(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}const Qw="card p-4 w-modal shadow-xl space-y-4 my-2",Ww="text-2xl font-bold";function Gw(n,e,t){let r,i,l,o,s,a,u,c,f;ce(n,eo,q=>t(9,i=q)),ce(n,Ct,q=>t(3,l=q)),ce(n,ln,q=>t(4,o=q)),ce(n,_r,q=>t(26,s=q)),ce(n,Pt,q=>t(27,a=q)),ce(n,Ci,q=>t(28,u=q)),ce(n,Re,q=>t(10,c=q)),ce(n,on,q=>t(11,f=q));let{parent:d}=e,p={share:!1,shareNaddr:!1,openJson:!1,openMyJson:!1};function b(){c[0].response&&c[0].response(p),Re.close()}async function _(){try{const q=await Rd();q!==""&&Pe(Ct,l=q,l)}catch{console.log("failed to login")}}let v=u,E=s,I=!1,S=Object.keys(kt)[0];function N(){console.log(l),console.log(`/${me.npubEncode(l)}/${S}`),br(`/${me.npubEncode(l)}/${S}`),Re.close()}function C(){localStorage.setItem("back",i.toString())}const O=()=>{br("/"),Re.close()};function D(){S=el(this),t(7,S)}function A(q){v=q,t(1,v)}function P(q){E=q,t(2,E)}function L(){i=this.checked,eo.set(i)}const H=()=>{t(5,p.share=!0,p),b()},z=()=>{t(5,p.shareNaddr=!0,p),b()},V=()=>t(6,I=!I),x=()=>{t(5,p.openMyJson=!0,p),b()},J=()=>{t(5,p.openJson=!0,p),b()};return n.$$set=q=>{"parent"in q&&t(0,d=q.parent)},n.$$.update=()=>{var q;n.$$.dirty[0]&2&&(v?(Pe(Ci,u=!0,u),Pe(Pt,a=!0,a)):(Pe(Ci,u=!1,u),Pe(Pt,a=!1,a))),n.$$.dirty[0]&4&&Pe(_r,s=E,s),n.$$.dirty[0]&24&&t(8,r=(q=o[l])==null?void 0:q.relayEvent)},[d,v,E,l,o,p,I,S,r,i,c,f,b,_,N,C,O,D,A,P,L,H,z,V,x,J]}class Zw extends De{constructor(e){super(),Te(this,e,Gw,Kw,Ce,{parent:0},null,[-1,-1])}}const Yw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>';function Wc(n,e,t){const r=n.slice();return r[22]=e[t],r[24]=t,r}function Gc(n){let e,t,r=(n[2][0].title??"(title missing)")+"",i,l,o,s;return o=new yh({props:{autocollapse:!0,$$slots:{default:[ok]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("header"),i=B(r),l=F(),ne(o.$$.fragment),this.h()},l(a){e=w(a,"DIV",{class:!0});var u=k(e);t=w(u,"HEADER",{class:!0});var c=k(t);i=M(c,r),c.forEach(h),l=j(u),re(o.$$.fragment,u),u.forEach(h),this.h()},h(){m(t,"class",uk),m(e,"class","modal-example-form "+ak)},m(a,u){T(a,e,u),g(e,t),g(t,i),g(e,l),ie(o,e,null),s=!0},p(a,u){(!s||u&4)&&r!==(r=(a[2][0].title??"(title missing)")+"")&&W(i,r);const c={};u&33555455&&(c.$$scope={dirty:u,ctx:a}),o.$set(c)},i(a){s||(R(o.$$.fragment,a),s=!0)},o(a){U(o.$$.fragment,a),s=!1},d(a){a&&h(e),le(o)}}}function Xw(n){let e,t;return{c(){e=y("div"),t=new Ee(!1),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=Oe(i,!1),i.forEach(h),this.h()},h(){t.a=null,m(e,"class","dark:fill-white")},m(r,i){T(r,e,i),t.m(Yw,e)},p:$,d(r){r&&h(e)}}}function xw(n){let e=n[8]("modal.editTags.body")+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&256&&e!==(e=r[8]("modal.editTags.body")+"")&&W(t,e)},d(r){r&&h(t)}}}function Zc(n){let e,t=n[8]("modalEditTag.list.title")+"",r,i,l,o,s,a="title",u,c,f,d,p,b="image",_,v,E,I,S,N="description",C,O,D,A;return{c(){e=y("div"),r=B(t),i=F(),l=y("div"),o=y("label"),s=y("span"),s.textContent=a,u=F(),c=y("input"),f=F(),d=y("label"),p=y("span"),p.textContent=b,_=F(),v=y("input"),E=F(),I=y("label"),S=y("span"),S.textContent=N,C=F(),O=y("input"),this.h()},l(P){e=w(P,"DIV",{class:!0});var L=k(e);r=M(L,t),L.forEach(h),i=j(P),l=w(P,"DIV",{class:!0});var H=k(l);o=w(H,"LABEL",{class:!0});var z=k(o);s=w(z,"SPAN",{"data-svelte-h":!0}),qe(s)!=="svelte-b4iicg"&&(s.textContent=a),u=j(z),c=w(z,"INPUT",{class:!0,type:!0,placeholder:!0}),z.forEach(h),f=j(H),d=w(H,"LABEL",{class:!0});var V=k(d);p=w(V,"SPAN",{"data-svelte-h":!0}),qe(p)!=="svelte-13ij1eh"&&(p.textContent=b),_=j(V),v=w(V,"INPUT",{class:!0,type:!0,placeholder:!0}),V.forEach(h),E=j(H),I=w(H,"LABEL",{class:!0});var x=k(I);S=w(x,"SPAN",{"data-svelte-h":!0}),qe(S)!=="svelte-nun51g"&&(S.textContent=N),C=j(x),O=w(x,"INPUT",{class:!0,type:!0,placeholder:!0}),x.forEach(h),H.forEach(h),this.h()},h(){m(e,"class","mt-4"),m(c,"class","input p-2"),m(c,"type","text"),m(c,"placeholder","Books"),m(o,"class","label"),m(v,"class","input p-2"),m(v,"type","text"),m(v,"placeholder","https://example.com/image.webp"),m(d,"class","label"),m(O,"class","input p-2"),m(O,"type","text"),m(O,"placeholder","Recommended Books Collection"),m(I,"class","label"),m(l,"class","card p-4")},m(P,L){T(P,e,L),g(e,r),T(P,i,L),T(P,l,L),g(l,o),g(o,s),g(o,u),g(o,c),$e(c,n[3].value.title),g(l,f),g(l,d),g(d,p),g(d,_),g(d,v),$e(v,n[3].value.image),g(l,E),g(l,I),g(I,S),g(I,C),g(I,O),$e(O,n[3].value.description),D||(A=[ee(c,"input",n[15]),ee(v,"input",n[16]),ee(O,"input",n[17])],D=!0)},p(P,L){L&256&&t!==(t=P[8]("modalEditTag.list.title")+"")&&W(r,t),L&8&&c.value!==P[3].value.title&&$e(c,P[3].value.title),L&8&&v.value!==P[3].value.image&&$e(v,P[3].value.image),L&8&&O.value!==P[3].value.description&&$e(O,P[3].value.description)},d(P){P&&(h(e),h(i),h(l)),D=!1,je(A)}}}function ek(n){let e,t,r,i,l=n[8]("modalEditTag.list.ID")+"",o,s,a,u,c,f,d,p=n[1].buttonTextCancel+"",b,_,v,E,I,S,N,C,O,D=n[2][0].value.kind===30003&&Zc(n);return{c(){e=y("div"),t=y("label"),r=y("span"),i=B("ID"),o=B(l),s=F(),a=y("input"),u=F(),D&&D.c(),c=F(),f=y("footer"),d=y("button"),b=B(p),v=F(),E=y("button"),I=B("Create List"),this.h()},l(A){e=w(A,"DIV",{class:!0});var P=k(e);t=w(P,"LABEL",{class:!0});var L=k(t);r=w(L,"SPAN",{});var H=k(r);i=M(H,"ID"),o=M(H,l),H.forEach(h),s=j(L),a=w(L,"INPUT",{class:!0,type:!0,placeholder:!0}),L.forEach(h),u=j(P),D&&D.l(P),c=j(P),f=w(P,"FOOTER",{class:!0});var z=k(f);d=w(z,"BUTTON",{class:!0});var V=k(d);b=M(V,p),V.forEach(h),v=j(z),E=w(z,"BUTTON",{class:!0});var x=k(E);I=M(x,"Create List"),x.forEach(h),z.forEach(h),P.forEach(h),this.h()},h(){m(a,"class","input p-2"),m(a,"type","text"),m(a,"placeholder","bookmark"),m(t,"class","label"),m(d,"class",_="btn "+n[1].buttonNeutral),m(E,"class",S="btn "+n[1].buttonPositive),m(f,"class",N="modal-footer "+n[1].regionFooter+" pt-1"),m(e,"class","card p-4")},m(A,P){T(A,e,P),g(e,t),g(t,r),g(r,i),g(r,o),g(t,s),g(t,a),$e(a,n[3].value.id),g(e,u),D&&D.m(e,null),g(e,c),g(e,f),g(f,d),g(d,b),g(f,v),g(f,E),g(E,I),C||(O=[ee(a,"input",n[13]),ee(a,"input",n[14]),ee(d,"click",function(){pe(n[1].onClose)&&n[1].onClose.apply(this,arguments)}),ee(E,"click",n[12])],C=!0)},p(A,P){n=A,P&256&&l!==(l=n[8]("modalEditTag.list.ID")+"")&&W(o,l),P&8&&a.value!==n[3].value.id&&$e(a,n[3].value.id),n[2][0].value.kind===30003?D?D.p(n,P):(D=Zc(n),D.c(),D.m(e,c)):D&&(D.d(1),D=null),P&2&&p!==(p=n[1].buttonTextCancel+"")&&W(b,p),P&2&&_!==(_="btn "+n[1].buttonNeutral)&&m(d,"class",_),P&2&&S!==(S="btn "+n[1].buttonPositive)&&m(E,"class",S),P&2&&N!==(N="modal-footer "+n[1].regionFooter+" pt-1")&&m(f,"class",N)},d(A){A&&h(e),D&&D.d(),C=!1,je(O)}}}function tk(n){let e,t;return{c(){e=y("div"),t=new Ee(!1),this.h()},l(r){e=w(r,"DIV",{class:!0});var i=k(e);t=Oe(i,!1),i.forEach(h),this.h()},h(){t.a=null,m(e,"class","dark:fill-white")},m(r,i){T(r,e,i),t.m(vl,e)},p:$,d(r){r&&h(e)}}}function nk(n){let e=n[8]("ModalEditTag.delete_body")+"",t;return{c(){t=B(e)},l(r){t=M(r,e)},m(r,i){T(r,t,i)},p(r,i){i&256&&e!==(e=r[8]("ModalEditTag.delete_body")+"")&&W(t,e)},d(r){r&&h(t)}}}function rk(n){let e;return{c(){e=B("no lists")},l(t){e=M(t,"no lists")},m(t,r){T(t,e,r)},p:$,d(t){t&&h(e)}}}function ik(n){let e,t,r,i,l=n[1].buttonTextCancel+"",o,s,a,u,c="Delete List",f,d,p,b=n[4]?"▼":"▶",_,v,E,I,S,N=Be(n[7]),C=[];for(let D=0;D<N.length;D+=1)C[D]=Yc(Wc(n,N,D));let O=n[4]&&Xc(n);return{c(){e=y("select");for(let D=0;D<C.length;D+=1)C[D].c();t=F(),r=y("footer"),i=y("button"),o=B(l),a=F(),u=y("button"),u.textContent=c,d=F(),p=y("button"),_=B(b),v=F(),O&&O.c(),E=ae(),this.h()},l(D){e=w(D,"SELECT",{class:!0,size:!0});var A=k(e);for(let z=0;z<C.length;z+=1)C[z].l(A);A.forEach(h),t=j(D),r=w(D,"FOOTER",{class:!0});var P=k(r);i=w(P,"BUTTON",{class:!0});var L=k(i);o=M(L,l),L.forEach(h),a=j(P),u=w(P,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(u)!=="svelte-ksvkvw"&&(u.textContent=c),P.forEach(h),d=j(D),p=w(D,"BUTTON",{class:!0});var H=k(p);_=M(H,b),H.forEach(h),v=j(D),O&&O.l(D),E=ae(),this.h()},h(){m(e,"class","select mb-4"),m(e,"size","1"),n[0]===void 0&&Wr(()=>n[18].call(e)),m(i,"class",s="btn "+n[1].buttonNeutral),m(u,"class","btn variant-filled-warning"),m(r,"class",f="modal-footer "+n[1].regionFooter),m(p,"class","btn-icon")},m(D,A){T(D,e,A);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m(e,null);Fn(e,n[0],!0),T(D,t,A),T(D,r,A),g(r,i),g(i,o),g(r,a),g(r,u),T(D,d,A),T(D,p,A),g(p,_),T(D,v,A),O&&O.m(D,A),T(D,E,A),I||(S=[ee(e,"change",n[18]),ee(e,"change",n[11]),ee(i,"click",function(){pe(n[1].onClose)&&n[1].onClose.apply(this,arguments)}),ee(u,"click",n[19]),ee(p,"click",n[20])],I=!0)},p(D,A){if(n=D,A&736){N=Be(n[7]);let P;for(P=0;P<N.length;P+=1){const L=Wc(n,N,P);C[P]?C[P].p(L,A):(C[P]=Yc(L),C[P].c(),C[P].m(e,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=N.length}A&1&&Fn(e,n[0]),A&2&&l!==(l=n[1].buttonTextCancel+"")&&W(o,l),A&2&&s!==(s="btn "+n[1].buttonNeutral)&&m(i,"class",s),A&2&&f!==(f="modal-footer "+n[1].regionFooter)&&m(r,"class",f),A&16&&b!==(b=n[4]?"▼":"▶")&&W(_,b),n[4]?O?O.p(n,A):(O=Xc(n),O.c(),O.m(E.parentNode,E)):O&&(O.d(1),O=null)},d(D){D&&(h(e),h(t),h(r),h(d),h(p),h(v),h(E)),St(C,D),O&&O.d(D),I=!1,je(S)}}}function Yc(n){var i;let e,t=((i=n[9][n[6]][n[5]].get(n[22]))==null?void 0:i.identifier)+"",r;return{c(){e=y("option"),r=B(t),this.h()},l(l){e=w(l,"OPTION",{});var o=k(e);r=M(o,t),o.forEach(h),this.h()},h(){e.__value=n[24],$e(e,e.__value)},m(l,o){T(l,e,o),g(e,r)},p(l,o){var s;o&736&&t!==(t=((s=l[9][l[6]][l[5]].get(l[22]))==null?void 0:s.identifier)+"")&&W(r,t)},d(l){l&&h(e)}}}function Xc(n){let e,t=n[8]("modal.editTags.kind")+"",r,i,l,o=n[8]("modal.editTags.kindexp")+"",s,a,u,c="kind5 delete",f,d;return{c(){e=y("p"),r=B(t),i=F(),l=y("p"),s=B(o),a=F(),u=y("button"),u.textContent=c,this.h()},l(p){e=w(p,"P",{});var b=k(e);r=M(b,t),b.forEach(h),i=j(p),l=w(p,"P",{});var _=k(l);s=M(_,o),_.forEach(h),a=j(p),u=w(p,"BUTTON",{class:!0,"data-svelte-h":!0}),qe(u)!=="svelte-10fvlyq"&&(u.textContent=c),this.h()},h(){m(u,"class","btn variant-filled-warning")},m(p,b){T(p,e,b),g(e,r),T(p,i,b),T(p,l,b),g(l,s),T(p,a,b),T(p,u,b),f||(d=ee(u,"click",n[21]),f=!0)},p(p,b){b&256&&t!==(t=p[8]("modal.editTags.kind")+"")&&W(r,t),b&256&&o!==(o=p[8]("modal.editTags.kindexp")+"")&&W(s,o)},d(p){p&&(h(e),h(i),h(l),h(a),h(u)),f=!1,d()}}}function lk(n){let e;function t(l,o){return l[9][l[6]]&&l[9][l[6]][l[5]].size>0?ik:rk}let r=t(n),i=r(n);return{c(){e=y("div"),i.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);i.l(o),o.forEach(h),this.h()},h(){m(e,"class","card p-4")},m(l,o){T(l,e,o),i.m(e,null)},p(l,o){r===(r=t(l))&&i?i.p(l,o):(i.d(1),i=r(l),i&&(i.c(),i.m(e,null)))},d(l){l&&h(e),i.d()}}}function ok(n){let e,t,r,i;return e=new Ws({props:{open:!0,$$slots:{content:[ek],summary:[xw],lead:[Xw]},$$scope:{ctx:n}}}),r=new Ws({props:{$$slots:{content:[lk],summary:[nk],lead:[tk]},$$scope:{ctx:n}}}),{c(){ne(e.$$.fragment),t=F(),ne(r.$$.fragment)},l(l){re(e.$$.fragment,l),t=j(l),re(r.$$.fragment,l)},m(l,o){ie(e,l,o),T(l,t,o),ie(r,l,o),i=!0},p(l,o){const s={};o&33554702&&(s.$$scope={dirty:o,ctx:l}),e.$set(s);const a={};o&33555451&&(a.$$scope={dirty:o,ctx:l}),r.$set(a)},i(l){i||(R(e.$$.fragment,l),R(r.$$.fragment,l),i=!0)},o(l){U(e.$$.fragment,l),U(r.$$.fragment,l),i=!1},d(l){l&&h(t),le(e,l),le(r,l)}}}function sk(n){let e,t,r=n[2][0]&&Gc(n);return{c(){r&&r.c(),e=ae()},l(i){r&&r.l(i),e=ae()},m(i,l){r&&r.m(i,l),T(i,e,l),t=!0},p(i,[l]){i[2][0]?r?(r.p(i,l),l&4&&R(r,1)):(r=Gc(i),r.c(),R(r,1),r.m(e.parentNode,e)):r&&(ye(),U(r,1,1,()=>{r=null}),we())},i(i){t||(R(r),t=!0)},o(i){U(r),t=!1},d(i){i&&h(e),r&&r.d(i)}}}const ak="card p-4 w-modal shadow-xl space-y-4",uk="text-2xl font-bold";function ck(n,e,t){let r,i,l,o,s,a;ce(n,vr,P=>t(7,l=P)),ce(n,Re,P=>t(2,o=P)),ce(n,on,P=>t(8,s=P)),ce(n,jn,P=>t(9,a=P));let{parent:u}=e,{selectedValue:c}=e,f={value:{id:""},btn:"",tagIndex:0,kind5:!1};function d(){f.tagIndex===void 0&&t(3,f.tagIndex=0,f),o[0].response&&o[0].response(f),Re.close()}function p(){console.log(c),t(3,f.tagIndex=c,f)}function b(){if(t(3,f.value.id=f.value.id.trim(),f),console.log(f.value.id.length),f.value.id===""){const P={message:"enter a list name",timeout:3e3,background:"variant-filled-error"};ft.trigger(P)}else if(f.value.id.length>30){const P={message:"list name is too long",timeout:3e3,background:"variant-filled-error"};ft.trigger(P)}else if(l.some(P=>P===f.value.id)){const P={message:"already exists",timeout:3e3,background:"variant-filled-error"};ft.trigger(P)}else t(3,f.btn="add",f),d()}let _=!1;function v(){f.value.id=this.value,t(3,f)}const E=()=>t(3,f.value.id=f.value.id.replace(/[^a-zA-Z0-9-_]/g,""),f);function I(){f.value.title=this.value,t(3,f)}function S(){f.value.image=this.value,t(3,f)}function N(){f.value.description=this.value,t(3,f)}function C(){c=el(this),t(0,c)}const O=()=>{t(3,f.btn="delete",f),t(3,f.kind5=!1,f),d()},D=()=>{t(4,_=!_)},A=()=>{t(3,f.btn="delete",f),t(3,f.kind5=!0,f),d()};return n.$$set=P=>{"parent"in P&&t(1,u=P.parent),"selectedValue"in P&&t(0,c=P.selectedValue)},n.$$.update=()=>{var P,L,H,z;n.$$.dirty&4&&t(6,r=(L=(P=o[0])==null?void 0:P.value)==null?void 0:L.pubkey),n.$$.dirty&4&&t(5,i=(z=(H=o[0])==null?void 0:H.value)==null?void 0:z.kind)},[c,u,o,f,_,i,r,l,s,a,d,p,b,v,E,I,S,N,C,O,D,A]}class fk extends De{constructor(e){super(),Te(this,e,ck,sk,Ce,{parent:1,selectedValue:0})}}function xc(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function ef(n){let e,t,r=(n[2][0].title??"(title missing)")+"",i,l,o,s=(n[2][0].body??"(body missing)")+"",a,u,c,f,d,p=n[0].buttonTextCancel+"",b,_,v,E,I,S,N,C;function O(P,L){if(P[2][0].value.event)return hk;if(P[2][0].value.tag)return dk}let D=O(n),A=D&&D(n);return{c(){e=y("div"),t=y("header"),i=B(r),l=F(),o=y("article"),a=B(s),u=F(),A&&A.c(),c=F(),f=y("footer"),d=y("button"),b=B(p),v=F(),E=y("button"),I=B("Delete"),this.h()},l(P){e=w(P,"DIV",{class:!0});var L=k(e);t=w(L,"HEADER",{class:!0});var H=k(t);i=M(H,r),H.forEach(h),l=j(L),o=w(L,"ARTICLE",{class:!0});var z=k(o);a=M(z,s),z.forEach(h),u=j(L),A&&A.l(L),c=j(L),f=w(L,"FOOTER",{class:!0});var V=k(f);d=w(V,"BUTTON",{class:!0});var x=k(d);b=M(x,p),x.forEach(h),v=j(V),E=w(V,"BUTTON",{class:!0});var J=k(E);I=M(J,"Delete"),J.forEach(h),V.forEach(h),L.forEach(h),this.h()},h(){m(t,"class",gk),m(o,"class","body"),m(d,"class",_="btn "+n[0].buttonNeutral),m(E,"class",S="btn variant-filled-warning "+n[0].buttonPositive),m(f,"class","rid grid-cols-3 gap-2 flex justify-end mt-2"),m(e,"class","modal-example-form "+mk)},m(P,L){T(P,e,L),g(e,t),g(t,i),g(e,l),g(e,o),g(o,a),g(e,u),A&&A.m(e,null),g(e,c),g(e,f),g(f,d),g(d,b),g(f,v),g(f,E),g(E,I),N||(C=[ee(d,"click",function(){pe(n[0].onClose)&&n[0].onClose.apply(this,arguments)}),ee(E,"click",n[4])],N=!0)},p(P,L){n=P,L&4&&r!==(r=(n[2][0].title??"(title missing)")+"")&&W(i,r),L&4&&s!==(s=(n[2][0].body??"(body missing)")+"")&&W(a,s),D===(D=O(n))&&A?A.p(n,L):(A&&A.d(1),A=D&&D(n),A&&(A.c(),A.m(e,c))),L&1&&p!==(p=n[0].buttonTextCancel+"")&&W(b,p),L&1&&_!==(_="btn "+n[0].buttonNeutral)&&m(d,"class",_),L&1&&S!==(S="btn variant-filled-warning "+n[0].buttonPositive)&&m(E,"class",S)},d(P){P&&h(e),A&&A.d(),N=!1,je(C)}}}function dk(n){let e,t,r=n[2][0].value.tag+"",i;return{c(){e=y("div"),t=y("b"),i=B(r),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);t=w(o,"B",{});var s=k(t);i=M(s,r),s.forEach(h),o.forEach(h),this.h()},h(){m(e,"class","card flex p-2 m-1 break-all")},m(l,o){T(l,e,o),g(e,t),g(t,i)},p(l,o){o&4&&r!==(r=l[2][0].value.tag+"")&&W(i,r)},d(l){l&&h(e)}}}function hk(n){let e,t=Be(n[2][0].value.event),r=[];for(let i=0;i<t.length;i+=1)r[i]=tf(xc(n,t,i));return{c(){e=y("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=w(i,"DIV",{class:!0});var l=k(e);for(let o=0;o<r.length;o+=1)r[o].l(l);l.forEach(h),this.h()},h(){m(e,"class","card p-2 max-h-56 overflow-y-auto")},m(i,l){T(i,e,l);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null)},p(i,l){if(l&4){t=Be(i[2][0].value.event);let o;for(o=0;o<t.length;o+=1){const s=xc(i,t,o);r[o]?r[o].p(s,l):(r[o]=tf(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(i){i&&h(e),St(r,i)}}}function tf(n){var f,d;let e,t,r=n[7]+1+"",i,l,o,s,a=(n[5]&&n[5].hasOwnProperty("content")&&n[5].content!==""?n[5].content:`${(d=(f=n[2][0].value)==null?void 0:f.tags)==null?void 0:d[n[7]]}`)+"",u,c;return{c(){e=y("div"),t=y("div"),i=B(r),l=B("."),o=F(),s=y("div"),u=B(a),c=F(),this.h()},l(p){e=w(p,"DIV",{class:!0});var b=k(e);t=w(b,"DIV",{});var _=k(t);i=M(_,r),l=M(_,"."),_.forEach(h),o=j(b),s=w(b,"DIV",{class:!0});var v=k(s);u=M(v,a),v.forEach(h),c=j(b),b.forEach(h),this.h()},h(){m(s,"class","ml-2"),m(e,"class","card flex p-2 m-1 break-all")},m(p,b){T(p,e,b),g(e,t),g(t,i),g(t,l),g(e,o),g(e,s),g(s,u),g(e,c)},p(p,b){var _,v;b&4&&a!==(a=(p[5]&&p[5].hasOwnProperty("content")&&p[5].content!==""?p[5].content:`${(v=(_=p[2][0].value)==null?void 0:_.tags)==null?void 0:v[p[7]]}`)+"")&&W(u,a)},d(p){p&&h(e)}}}function pk(n){let e,t=n[2][0]&&ef(n);return{c(){t&&t.c(),e=ae()},l(r){t&&t.l(r),e=ae()},m(r,i){t&&t.m(r,i),T(r,e,i)},p(r,[i]){r[2][0]?t?t.p(r,i):(t=ef(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(r){r&&h(e),t&&t.d(r)}}}const mk="card p-4 w-modal shadow-xl space-y-4",gk="text-2xl font-bold";function _k(n,e,t){let r;ce(n,Re,a=>t(2,r=a));let{parent:i}=e,l=!1;function o(){r[0].response&&r[0].response(l),Re.close()}const s=()=>{t(1,l=!0),o()};return n.$$set=a=>{"parent"in a&&t(0,i=a.parent)},[i,l,r,o,s]}class bk extends De{constructor(e){super(),Te(this,e,_k,pk,Ce,{parent:0})}}function vk(n){let e,t,r,i,l,o,s,a,u,c,f,d,p,b,_,v,E,I,S,N,C,O,D,A,P,L,H,z,V=n[9]&&nf(n),x=!n[2]&&rf(n);return{c(){V&&V.c(),e=F(),x&&x.c(),t=F(),r=y("div"),i=y("button"),l=new Ee(!1),s=F(),a=y("button"),u=new Ee(!1),f=F(),d=y("button"),p=new Ee(!1),_=F(),v=y("button"),E=new Ee(!1),S=F(),N=y("button"),C=new Ee(!1),A=F(),P=y("button"),L=new Ee(!1),this.h()},l(J){V&&V.l(J),e=j(J),x&&x.l(J),t=j(J),r=w(J,"DIV",{class:!0});var q=k(r);i=w(q,"BUTTON",{class:!0});var Z=k(i);l=Oe(Z,!1),Z.forEach(h),s=j(q),a=w(q,"BUTTON",{class:!0});var oe=k(a);u=Oe(oe,!1),oe.forEach(h),f=j(q),d=w(q,"BUTTON",{class:!0});var Y=k(d);p=Oe(Y,!1),Y.forEach(h),_=j(q),v=w(q,"BUTTON",{class:!0});var Q=k(v);E=Oe(Q,!1),Q.forEach(h),q.forEach(h),S=j(J),N=w(J,"BUTTON",{class:!0});var G=k(N);C=Oe(G,!1),G.forEach(h),A=j(J),P=w(J,"BUTTON",{class:!0});var fe=k(P);L=Oe(fe,!1),fe.forEach(h),this.h()},h(){l.a=null,m(i,"class",cr),i.disabled=o=n[8]===0,u.a=null,m(a,"class",cr),a.disabled=c=n[8]===0,p.a=null,m(d,"class",cr),d.disabled=b=n[8]===n[5],E.a=null,m(v,"class",cr),v.disabled=I=n[8]===n[5],m(r,"class","flex"),C.a=null,m(N,"class",O="btn btn-icon pageIcon "+n[4]),N.disabled=D=n[0]!==n[6],L.a=null,m(P,"class",cr)},m(J,q){V&&V.m(J,q),T(J,e,q),x&&x.m(J,q),T(J,t,q),T(J,r,q),g(r,i),l.m(yw,i),g(r,s),g(r,a),u.m(kw,a),g(r,f),g(r,d),p.m(Ew,d),g(r,_),g(r,v),E.m(ww,v),T(J,S,q),T(J,N,q),C.m(Ow,N),T(J,A,q),T(J,P,q),L.m(vw,P),H||(z=[ee(i,"click",n[12]),ee(a,"click",n[11]),ee(d,"click",n[10]),ee(v,"click",n[13]),ee(N,"click",n[16]),ee(P,"click",n[15])],H=!0)},p(J,q){J[9]?V?V.p(J,q):(V=nf(J),V.c(),V.m(e.parentNode,e)):V&&(V.d(1),V=null),J[2]?x&&(x.d(1),x=null):x?x.p(J,q):(x=rf(J),x.c(),x.m(t.parentNode,t)),q[0]&256&&o!==(o=J[8]===0)&&(i.disabled=o),q[0]&256&&c!==(c=J[8]===0)&&(a.disabled=c),q[0]&288&&b!==(b=J[8]===J[5])&&(d.disabled=b),q[0]&288&&I!==(I=J[8]===J[5])&&(v.disabled=I),q[0]&16&&O!==(O="btn btn-icon pageIcon "+J[4])&&m(N,"class",O),q[0]&65&&D!==(D=J[0]!==J[6])&&(N.disabled=D)},i:$,o:$,d(J){J&&(h(e),h(t),h(r),h(S),h(N),h(A),h(P)),V&&V.d(J),x&&x.d(J),H=!1,je(z)}}}function yk(n){let e,t;return e=new cf({props:{class:"btn btn-sm ",meter:"stroke-primary-300",track:"stroke-primary-300/30",width:"w-14",stroke:60}}),{c(){ne(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,i){ie(e,r,i),t=!0},p:$,i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){le(e,r)}}}function nf(n){let e,t,r,i;return{c(){e=y("button"),t=new Ee(!1),this.h()},l(l){e=w(l,"BUTTON",{class:!0});var o=k(e);t=Oe(o,!1),o.forEach(h),this.h()},h(){t.a=null,m(e,"class","btn-icon variant-filled-primary fill-white"),e.disabled=!(history.length>1)},m(l,o){T(l,e,o),t.m(Sw,e),r||(i=ee(e,"click",n[17]),r=!0)},p:$,d(l){l&&h(e),r=!1,i()}}}function rf(n){let e,t,r,i,l;return{c(){e=y("button"),t=new Ee(!1),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var s=k(e);t=Oe(s,!1),s.forEach(h),this.h()},h(){t.a=null,m(e,"class",cr),e.disabled=r=!(n[1]>=3e4&&n[1]<4e4)||n[3]},m(o,s){T(o,e,s),t.m(Iw,e),i||(l=ee(e,"click",n[14]),i=!0)},p(o,s){s[0]&10&&r!==(r=!(o[1]>=3e4&&o[1]<4e4)||o[3])&&(e.disabled=r)},d(o){o&&h(e),i=!1,l()}}}function wk(n){let e,t,r,i,l;const o=[yk,vk],s=[];function a(u,c){return u[7]?0:1}return r=a(n),i=s[r]=o[r](n),{c(){e=y("div"),t=y("div"),i.c(),this.h()},l(u){e=w(u,"DIV",{class:!0});var c=k(e);t=w(c,"DIV",{class:!0});var f=k(t);i.l(f),f.forEach(h),c.forEach(h),this.h()},h(){m(t,"class","container max-w-[1024px] mx-auto flex overflow-hidden rounded-token; variant-filled-primary justify-center rounded-none sm:gap-5 gap-0"),m(e,"class","fixed bottom-0 z-10 w-full inline-flex flex-row space-x-0 overflow-x-hidden h-10")},m(u,c){T(u,e,c),g(e,t),s[r].m(t,null),l=!0},p(u,c){let f=r;r=a(u),r===f?s[r].p(u,c):(ye(),U(s[f],1,1,()=>{s[f]=null}),we(),i=s[r],i?i.p(u,c):(i=s[r]=o[r](u),i.c()),R(i,1),i.m(t,null))},i(u){l||(R(i),l=!0)},o(u){U(i),l=!1},d(u){u&&h(e),s[r].d()}}}const cr="pageIcon btn btn-sm py-0 px-2 fill-white";function kk(n,e,t){let r,i,l,o,s,a,u,c,f,d,p,b,_,v,E,I;ce(n,to,K=>t(21,i=K)),ce(n,xl,K=>t(18,l=K)),ce(n,Ct,K=>t(6,o=K)),ce(n,ln,K=>t(22,s=K)),ce(n,on,K=>t(23,a=K)),ce(n,tr,K=>t(24,u=K)),ce(n,vr,K=>t(25,c=K)),ce(n,jn,K=>t(26,f=K)),ce(n,Mn,K=>t(7,d=K)),ce(n,jt,K=>t(27,p=K)),ce(n,no,K=>t(28,b=K)),ce(n,mn,K=>t(8,_=K)),ce(n,Kd,K=>t(19,v=K)),ce(n,Pn,K=>t(20,E=K)),ce(n,eo,K=>t(9,I=K));let{pubkey:S}=e,{kind:N}=e,{naddr:C=!1}=e;function O(){_<Math.floor((E-1)/v)&&Pe(mn,_++,_)}function D(){_>0&&Pe(mn,_--,_)}function A(){Pe(mn,_=0,_)}function P(){Pe(mn,_=r,_)}const L={ref:Mw,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function H(){if(p){const K={type:"component",component:L,title:a("modal.tagList.title"),body:"",value:{tagList:c,pubkey:S,kind:N},response:se=>{console.log(se),se&&(se.edit===!0?x():se.index!==-1&&p!==void 0&&p[S]&&p[S][N].size>1&&Pe(tr,u=se.index,u))}};Re.trigger(K)}}const z={ref:bk,slot:"<p>Skeleton</p>"},V={ref:fk,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function x(){const K={type:"component",component:V,title:a("modal.editTags.title"),value:{selectedValue:0,kind:N,pubkey:S},response:se=>{var te;if(console.log(se),se)switch(se.btn){case"add":J(se.value);break;case"delete":const be={type:"component",component:z,title:a("modal.deleteTag.title"),body:`${a("modal.deleteTag.body")}`,value:{tag:(te=f[S][N].get(c[se.tagIndex]))==null?void 0:te.identifier},response:async he=>{he&&await q(se.tagIndex,se.kind5)}};Re.trigger(be);break}}};Re.trigger(K)}async function J(K){Pe(Mn,d=!0,d),console.log(K);let se=[["d",K.id]];K.title&&K.title.trim()!==""&&se.push(["title",K.title]),K.image&&K.image.trim()!==""&&se.push(["image",K.image]),K.description&&K.description.trim()!==""&&se.push(["description",K.description]),console.log(se);const te={id:"",pubkey:S,sig:"",content:"",tags:se,created_at:Math.floor(Date.now()/1e3),kind:N},be=await Qr(te,s[o].bookmarkRelays);if(console.log(be.msg),be.isSuccess){const he={message:be.msg,timeout:3e3};ft.trigger(he);const de=st(jt);be.event!==void 0&&(de&&de[S]&&de[S][N]?(de[S][N].set(K.id,be.event),jt.set(de)):jt.set({[S]:{[N]:new Map([[K.id,be.event]])}}))}else{const he={message:be.msg,timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(he)}Pe(Mn,d=!1,d),console.log(be)}async function q(K,se){var _e;console.log(K),Pe(Mn,d=!0,d);const te=st(jt)[S][N],be=(_e=te.get(b[K]))==null?void 0:_e.tags.find(ge=>ge[0]==="d"),he=se?{id:"",pubkey:S,sig:"",content:"",tags:[["e",te.get(b[K]).id]],created_at:Math.floor(Date.now()/1e3),kind:5}:{id:"",pubkey:S,sig:"",content:"",tags:be?[be]:[],created_at:Math.floor(Date.now()/1e3),kind:te.get(b[K]).kind},de=await Qr(he,s[o].bookmarkRelays);if(console.log(de.msg),de.isSuccess){const ge={message:de.msg,timeout:3e3};ft.trigger(ge),se&&(p[S][N].delete(b[K]),f[S][N].delete(b[K]),Pe(vr,c=f[S]&&f[S][N]?Array.from(f[S][N].keys()).sort((Ie,Le)=>Ie.localeCompare(Le)):[],c),Pe(no,b=p[S]&&p[S][N]?Array.from(p[S][N].keys()).sort((Ie,Le)=>Ie.localeCompare(Le)):[],b))}else{const ge={message:de.msg,timeout:3e3,background:"bg-orange-500 text-white width-filled "};ft.trigger(ge)}u>=p[S][N].size&&Pe(tr,u=p[S][N].size-1,u),Pe(Mn,d=!1,d),console.log(de)}const Z={ref:os},oe={ref:Dr},Y={ref:Zw};function Q(){const K={type:"component",component:Y,title:a("modal.info.title"),value:{pubkey:S,relaySet:s[S]},response:se=>{var te,be,he;if(se){if(se.share||se.shareNaddr){const de={identifier:((be=(te=f==null?void 0:f[S])==null?void 0:te[N].get(c[u]))==null?void 0:be.identifier)??"",pubkey:S,kind:N,relays:(he=s[S])==null?void 0:he.bookmarkRelays},_e=se.share?window.location.href:window.location.origin+"/"+me.naddrEncode(de),ge=se.share?[["r",_e]]:["a",`${N}:${S}:${de.identifier}`,["r",_e]];console.log(ge);const Ie={type:"component",component:Z,title:a("modal.postNote.title"),body:"",value:{content:`\r
${_e}\r
`,tags:ge},response:async Le=>{console.log(Le)}};Re.trigger(Ie)}else if(se.openJson){const de={type:"component",title:"Event Json",backdropClasses:"!bg-surface-400/80",meta:{note:s[S].relayEvent},component:oe};Re.trigger(de)}else if(se.openMyJson){const de={type:"component",title:"Event Json",backdropClasses:"!bg-surface-400/80",meta:{note:s[o].relayEvent},component:oe};Re.trigger(de)}}}};Re.trigger(K)}let G="";function fe(){Pe(xl,l=!l,l)}let{disabled:ue=!1}=e;function X(){history.back(),Re.close()}return n.$$set=K=>{"pubkey"in K&&t(0,S=K.pubkey),"kind"in K&&t(1,N=K.kind),"naddr"in K&&t(2,C=K.naddr),"disabled"in K&&t(3,ue=K.disabled)},n.$$.update=()=>{n.$$.dirty[0]&1572864&&t(5,r=E===0?0:Math.floor((E-1)/v)),n.$$.dirty[0]&262144&&(t(4,G=l?"variant-ghost-secondary rounded-full ":""),Pe(to,i=[],i))},[S,N,C,ue,G,r,o,d,_,I,O,D,A,P,H,Q,fe,X,l,v,E]}class Zk extends De{constructor(e){super(),Te(this,e,kk,wk,Ce,{pubkey:0,kind:1,naddr:2,disabled:3},null,[-1,-1])}}export{yh as A,vl as D,Zk as F,Gk as H,Wk as L,ss as M,Kk as N,Qk as S,Mk as a,Qr as b,zk as c,Yl as d,Lk as e,Uk as f,Rd as g,qk as h,Nm as i,Oo as j,Ws as k,Fk as l,Bh as m,Qh as n,Kd as o,mn as p,Hk as q,ln as r,Jk as s,jk as t,bk as u,$k as v};
