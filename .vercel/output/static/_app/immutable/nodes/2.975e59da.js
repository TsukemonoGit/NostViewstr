import{k as ee}from"../chunks/kind.df02593b.js";import{s as Le,f as c,a as I,l as B,N as Ue,g as u,d as i,c as S,h as v,m as q,R as De,j as o,E as Fe,C as e,i as fe,L as ve,S as Ne,x as G,n as de,F as Ke,y as pe,T as _e,U as Ae}from"../chunks/scheduler.b8cd85ff.js";import{S as Be,i as qe,b as ze,d as Je,m as Re,a as Ge,t as Qe,e as We}from"../chunks/index.35665f17.js";import{e as He,u as Xe,d as Ye}from"../chunks/each.a1a4b9c9.js";import{t as Ze}from"../chunks/store.967fbeb2.js";import{S as xe}from"../chunks/Settings.ed552a17.js";import{p as he,a as et,n as Me}from"../chunks/settings.88550f80.js";import{n as x,g as tt}from"../chunks/index.ee7fcb47.js";import{g as me}from"../chunks/navigation.3f69098d.js";const st=({params:a})=>{},ht=Object.freeze(Object.defineProperty({__proto__:null,load:st},Symbol.toStringTag,{value:"Module"}));function Pe(a,p,s){const _=a.slice();return _[13]=p[s],_}function $e(a,p){let s,_=`${ee[Number(p[13])]} (${p[13]})`,m;return{key:a,first:null,c(){s=c("option"),m=B(_),this.h()},l(l){s=u(l,"OPTION",{});var d=v(s);m=q(d,_),d.forEach(i),this.h()},h(){s.__value=p[13],ve(s,s.__value),this.first=s},m(l,d){fe(l,s,d),e(s,m)},p(l,d){p=l},d(l){l&&i(s)}}}function at(a){let p,s,_,m,l,d,g=a[2]("main.title")+"",N,z,h,k,H=a[2]("main.input_public_key")+"",$,J,C,n,f="nip07<br/>extension",V,E,te,L,R=a[2]("main.publish")+"",Q,se,O,U,ge="kind",ae,ne,b,y=[],be=new Map,le,j,F,ye="view from json â†’",oe,re,D,ke="Click",ie,K,M,P,ce,Ee,W=He(Object.keys(ee));const we=t=>t[13];for(let t=0;t<W.length;t+=1){let r=Pe(a,W,t),w=we(r);be.set(w,y[t]=$e(w,r))}return M=new xe({props:{settingFunc:a[3]}}),{c(){p=c("meta"),s=c("meta"),_=I(),m=c("div"),l=c("div"),d=c("h1"),N=B(g),z=I(),h=c("div"),k=c("h5"),$=B(H),J=I(),C=c("div"),n=c("button"),n.innerHTML=f,V=I(),E=c("input"),te=I(),L=c("div"),Q=B(R),se=I(),O=c("div"),U=c("h5"),ae=B(ge),ne=I(),b=c("select");for(let t=0;t<y.length;t+=1)y[t].c();le=I(),j=c("div"),F=c("h5"),oe=B(ye),re=I(),D=c("button"),D.textContent=ke,ie=I(),K=c("div"),ze(M.$$.fragment),this.h()},l(t){const r=Ue("svelte-s0w2fs",document.head);p=u(r,"META",{property:!0,content:!0}),s=u(r,"META",{name:!0,content:!0}),r.forEach(i),_=S(t),m=u(t,"DIV",{class:!0});var w=v(m);l=u(w,"DIV",{class:!0});var A=v(l);d=u(A,"H1",{class:!0});var Te=v(d);N=q(Te,g),Te.forEach(i),z=S(A),h=u(A,"DIV",{class:!0});var T=v(h);k=u(T,"H5",{class:!0});var Ie=v(k);$=q(Ie,H),Ie.forEach(i),J=S(T),C=u(T,"DIV",{class:!0});var X=v(C);n=u(X,"BUTTON",{class:!0,"data-svelte-h":!0}),De(n)!=="svelte-w2k73t"&&(n.innerHTML=f),V=S(X),E=u(X,"INPUT",{class:!0,type:!0,placeholder:!0}),X.forEach(i),te=S(T),L=u(T,"DIV",{class:!0});var Se=v(L);Q=q(Se,R),Se.forEach(i),se=S(T),O=u(T,"DIV",{class:!0});var Y=v(O);U=u(Y,"H5",{class:!0});var Ce=v(U);ae=q(Ce,ge),Ce.forEach(i),ne=S(Y),b=u(Y,"SELECT",{class:!0});var Ve=v(b);for(let ue=0;ue<y.length;ue+=1)y[ue].l(Ve);Ve.forEach(i),Y.forEach(i),le=S(T),j=u(T,"DIV",{class:!0});var Z=v(j);F=u(Z,"H5",{class:!0});var Oe=v(F);oe=q(Oe,ye),Oe.forEach(i),re=S(Z),D=u(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),De(D)!=="svelte-cdtib2"&&(D.textContent=ke),Z.forEach(i),T.forEach(i),ie=S(A),K=u(A,"DIV",{class:!0});var je=v(K);Je(M.$$.fragment,je),je.forEach(i),A.forEach(i),w.forEach(i),this.h()},h(){o(p,"property","og:description"),o(p,"content","home"),o(s,"name","description"),o(s,"content","home"),o(d,"class","h1"),o(k,"class","h5"),o(n,"class","p-0 input-group-shim btn variant-filled-secondary"),o(E,"class","input p-1 truncate"),o(E,"type","text"),o(E,"placeholder","npub1..."),o(C,"class","mt-1 input-group input-group-divider grid-cols-[auto_1fr]"),o(L,"class","mt-1 text-sm"),o(U,"class","h5"),o(b,"class","select"),a[1]===void 0&&Fe(()=>a[7].call(b)),o(O,"class","mt-10"),o(F,"class","h5 self-center"),o(D,"class","btn variant-filled-primary"),o(j,"class","mt-10 flex gap-2"),o(h,"class","space-t-5 min-w-[80vw]"),o(K,"class","space-t-5"),o(l,"class","space-y-5"),o(m,"class","container h-full mx-auto flex justify-center items-center")},m(t,r){e(document.head,p),e(document.head,s),fe(t,_,r),fe(t,m,r),e(m,l),e(l,d),e(d,N),e(l,z),e(l,h),e(h,k),e(k,$),e(h,J),e(h,C),e(C,n),e(C,V),e(C,E),ve(E,a[0]),e(h,te),e(h,L),e(L,Q),e(h,se),e(h,O),e(O,U),e(U,ae),e(O,ne),e(O,b);for(let w=0;w<y.length;w+=1)y[w]&&y[w].m(b,null);Ne(b,a[1],!0),e(h,le),e(h,j),e(j,F),e(F,oe),e(j,re),e(j,D),e(l,ie),e(l,K),Re(M,K,null),P=!0,ce||(Ee=[G(n,"click",a[4]),G(E,"input",a[6]),G(b,"change",a[7]),G(b,"change",a[5]),G(D,"click",a[8])],ce=!0)},p(t,[r]){(!P||r&4)&&g!==(g=t[2]("main.title")+"")&&de(N,g),(!P||r&4)&&H!==(H=t[2]("main.input_public_key")+"")&&de($,H),r&1&&E.value!==t[0]&&ve(E,t[0]),(!P||r&4)&&R!==(R=t[2]("main.publish")+"")&&de(Q,R),r&0&&(W=He(Object.keys(ee)),y=Xe(y,r,we,1,t,W,be,b,Ye,$e,null,Pe)),r&2&&Ne(b,t[1])},i(t){P||(Ge(M.$$.fragment,t),P=!0)},o(t){Qe(M.$$.fragment,t),P=!1},d(t){t&&(i(_),i(m)),i(p),i(s);for(let r=0;r<y.length;r+=1)y[r].d();We(M),ce=!1,Ke(Ee)}}}function nt(a,p,s){let _,m,l;pe(a,he,n=>s(10,_=n)),pe(a,et,n=>s(2,m=n)),pe(a,Me,n=>s(11,l=n));let d=Number(Object.keys(ee)[0]),g;const N=localStorage.getItem("npub");N&&(g=x.npubEncode(N));async function z(){console.log("settings true");try{const n=g,f=x.decode(n);if(f.type==="npub")localStorage.setItem("npub",f.data),me(`./${n}/${d}`);else if(f.type==="nsec"){_e(Me,l=f.data,l);const V=tt(f.data);localStorage.setItem("npub",V),_e(he,_=V,_),console.log(V),me(`./${x.npubEncode(V)}/${d}`)}}catch{const f={message:m("toast.failed_npub"),timeout:3e3,background:"bg-orange-500 text-white width-filled "};Ze.trigger(f)}}async function h(){var n;try{const f=await((n=window.nostr)==null?void 0:n.getPublicKey());f&&(s(0,g=x.npubEncode(f)),_e(he,_=f,_))}catch{console.log("failed to get pubkey")}}let k;console.log(k);function H(n){d=Number(n.currentTarget.value),console.log(d)}function $(){g=this.value,s(0,g)}function J(){k=Ae(this),s(1,k)}return[g,k,m,z,h,H,$,J,()=>{me("/Json")}]}class mt extends Be{constructor(p){super(),qe(this,p,nt,at,Le,{})}}export{mt as component,ht as universal};
