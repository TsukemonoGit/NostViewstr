import{n as w}from"../chunks/index.ee7fcb47.js";import{e as ie,k as R}from"../chunks/kind.df02593b.js";import{r as B,d as ue,F as ce}from"../chunks/FooterMenu.1197af10.js";import{X as pe,s as _e,f as v,a as L,e as G,N as fe,g,d as b,c as M,j as y,C as k,i as N,y as de,U as me,p as J,W as Q,l as H,h as $,m as P,R as be,E as ke,S as Y,x as Z,n as he,r as x,F as ye,L as ve}from"../chunks/scheduler.b8cd85ff.js";import{S as ge,i as Ee,t as F,c as $e,a as I,g as Se,p as ee,b as te,d as ne,m as se,e as oe}from"../chunks/index.35665f17.js";import{e as ae,u as Te,d as we}from"../chunks/each.a1a4b9c9.js";import"../chunks/singletons.a535b0e5.js";import{L as Le}from"../chunks/ListedEventList.afa0c082.js";import{a as Me}from"../chunks/settings.88550f80.js";const Ne=({params:a})=>{console.log(a.nprofile);try{const{type:n,data:e}=w.decode(a.nprofile);console.log("[decode]",n,e);const s=e;if(s.relays&&s.relays){const l=pe(B);l[s.pubkey].bookmarkRelays=s.relays,l[s.pubkey].postRelays=s.relays,l[s.pubkey].searchRelays=ue,B.set(l)}return{pubkey:s.pubkey,relays:s.relays}}catch(n){throw console.error("[nprofile decode error]",n),ie(404,"Not Found")}},Ke=Object.freeze(Object.defineProperty({__proto__:null,load:Ne},Symbol.toStringTag,{value:"Module"}));function le(a,n,e){const s=a.slice();return s[10]=n[e],s}function je(a){let n,e,s,l,r,i;function p(t){a[7](t)}let _={kind:a[2],isNaddr:!1};a[0].pubkey!==void 0&&(_.pubkey=a[0].pubkey),n=new Le({props:_}),J.push(()=>ee(n,"pubkey",p));function d(t){a[8](t)}let E={kind:a[2]};return a[0].pubkey!==void 0&&(E.pubkey=a[0].pubkey),l=new ce({props:E}),J.push(()=>ee(l,"pubkey",d)),{c(){te(n.$$.fragment),s=L(),te(l.$$.fragment)},l(t){ne(n.$$.fragment,t),s=M(t),ne(l.$$.fragment,t)},m(t,c){se(n,t,c),N(t,s,c),se(l,t,c),i=!0},p(t,c){const o={};c&4&&(o.kind=t[2]),!e&&c&1&&(e=!0,o.pubkey=t[0].pubkey,Q(()=>e=!1)),n.$set(o);const u={};c&4&&(u.kind=t[2]),!r&&c&1&&(r=!0,u.pubkey=t[0].pubkey,Q(()=>r=!1)),l.$set(u)},i(t){i||(I(n.$$.fragment,t),I(l.$$.fragment,t),i=!0)},o(t){F(n.$$.fragment,t),F(l.$$.fragment,t),i=!1},d(t){t&&b(s),oe(n,t),oe(l,t)}}}function De(a){let n,e,s,l=a[4]("main.title")+"",r,i,p,_,d,E="kind",t,c,o,u=[],T=new Map,O,S,q="<settingFunc></settingFunc>",V,A,j=ae(Object.keys(R));const z=f=>f[10];for(let f=0;f<j.length;f+=1){let m=le(a,j,f),h=z(m);T.set(h,u[f]=re(h,m))}return{c(){n=v("div"),e=v("div"),s=v("h1"),r=H(l),i=L(),p=v("div"),_=v("div"),d=v("h5"),t=H(E),c=L(),o=v("select");for(let f=0;f<u.length;f+=1)u[f].c();O=L(),S=v("div"),S.innerHTML=q,this.h()},l(f){n=g(f,"DIV",{class:!0});var m=$(n);e=g(m,"DIV",{class:!0});var h=$(e);s=g(h,"H1",{class:!0});var K=$(s);r=P(K,l),K.forEach(b),i=M(h),p=g(h,"DIV",{class:!0});var U=$(p);_=g(U,"DIV",{class:!0});var D=$(_);d=g(D,"H5",{class:!0});var W=$(d);t=P(W,E),W.forEach(b),c=M(D),o=g(D,"SELECT",{class:!0});var X=$(o);for(let C=0;C<u.length;C+=1)u[C].l(X);X.forEach(b),D.forEach(b),U.forEach(b),O=M(h),S=g(h,"DIV",{class:!0,"data-svelte-h":!0}),be(S)!=="svelte-13ofg88"&&(S.innerHTML=q),h.forEach(b),m.forEach(b),this.h()},h(){y(s,"class","h1 mb-5"),y(d,"class","h5"),y(o,"class","input p-1"),a[3]===void 0&&ke(()=>a[6].call(o)),y(_,"class","mt-10"),y(p,"class","space-t-5 min-w-[80vw]"),y(S,"class","space-t-5"),y(e,"class","mt-5"),y(n,"class","container h-full mx-auto flex justify-center items-center")},m(f,m){N(f,n,m),k(n,e),k(e,s),k(s,r),k(e,i),k(e,p),k(p,_),k(_,d),k(d,t),k(_,c),k(_,o);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(o,null);Y(o,a[3],!0),k(e,O),k(e,S),V||(A=[Z(o,"change",a[6]),Z(o,"change",a[5])],V=!0)},p(f,m){m&16&&l!==(l=f[4]("main.title")+"")&&he(r,l),m&0&&(j=ae(Object.keys(R)),u=Te(u,m,z,1,f,j,T,o,we,re,null,le)),m&8&&Y(o,f[3])},i:x,o:x,d(f){f&&b(n);for(let m=0;m<u.length;m+=1)u[m].d();V=!1,ye(A)}}}function re(a,n){let e,s=`${R[Number(n[10])]} (${n[10]})`,l;return{key:a,first:null,c(){e=v("option"),l=H(s),this.h()},l(r){e=g(r,"OPTION",{});var i=$(e);l=P(i,s),i.forEach(b),this.h()},h(){e.__value=n[10],ve(e,e.__value),this.first=e},m(r,i){N(r,e,i),k(e,l)},p(r,i){n=r},d(r){r&&b(e)}}}function Fe(a){let n,e,s,l,r,i,p,_,d;const E=[De,je],t=[];function c(o,u){return o[1]?1:0}return i=c(a),p=t[i]=E[i](a),{c(){n=v("meta"),s=v("meta"),r=L(),p.c(),_=G(),this.h()},l(o){const u=fe("svelte-aw927g",document.head);n=g(u,"META",{name:!0,content:!0}),s=g(u,"META",{property:!0,content:!0}),u.forEach(b),r=M(o),p.l(o),_=G(),this.h()},h(){y(n,"name","description"),y(n,"content",e="nostr pubkey:"+w.npubEncode(a[0].pubkey)),y(s,"property","og:description"),y(s,"content",l="pubkey:"+w.npubEncode(a[0].pubkey))},m(o,u){k(document.head,n),k(document.head,s),N(o,r,u),t[i].m(o,u),N(o,_,u),d=!0},p(o,[u]){(!d||u&1&&e!==(e="nostr pubkey:"+w.npubEncode(o[0].pubkey)))&&y(n,"content",e),(!d||u&1&&l!==(l="pubkey:"+w.npubEncode(o[0].pubkey)))&&y(s,"content",l);let T=i;i=c(o),i===T?t[i].p(o,u):(Se(),F(t[T],1,1,()=>{t[T]=null}),$e(),p=t[i],p?p.p(o,u):(p=t[i]=E[i](o),p.c()),I(p,1),p.m(_.parentNode,_))},i(o){d||(I(p),d=!0)},o(o){F(p),d=!1},d(o){o&&(b(r),b(_)),b(n),b(s),t[i].d(o)}}}function Ie(a,n,e){let s;de(a,Me,c=>e(4,s=c));let l=!1,{data:r}=n;console.log("PageData",r.pubkey);let i,p;console.log(p);function _(c){e(2,i=Number(c.currentTarget.value)),console.log(i)}function d(){p=me(this),e(3,p)}function E(c){a.$$.not_equal(r.pubkey,c)&&(r.pubkey=c,e(0,r))}function t(c){a.$$.not_equal(r.pubkey,c)&&(r.pubkey=c,e(0,r))}return a.$$set=c=>{"data"in c&&e(0,r=c.data)},[r,l,i,p,s,_,d,E,t]}class Ue extends ge{constructor(n){super(),Ee(this,n,Ie,Fe,_e,{data:0})}}export{Ue as component,Ke as universal};
